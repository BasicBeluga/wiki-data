[[Translation:en/Archive/Community/Mini Integrated Nightly]]
{{en/Warning|The Mini Integrated Nightly is not in anyway supported by the developers and there is no guarantee that it will work with your save games.  In fact it may well destroy your save games, so always make a backup copy of everything!}}
The '''Mini Integrated Nightly''' is a special build of [[en/Manual/Main Page]], which incorporates patches which have yet to be approved for the main code.  It is currently maintained by [[en/Richk67]].  ''"Its like OTTD's smarter younger brother; a bit dirty and smelly at times, but tons of energy, and lots of ideas - some more realistic than others."''[http://www.tt-forums.net/viewtopic.php?p=469054#469054] --richk67


==Description (non-technical)==
While there are a core set of programmer's who work on the major improvements and administer the project, anybody is allowed to code their own improvement for OpenTTD.  However, until that improvement gets approval from the core administers, it will not be integrated into the main game.  Until that time, the improvement generally sits in the development forum in the form of a source code [[en/Community/Patches/Patches]].

Anybody with a compiler can take a patch or any number of patches and create their own version.  But not all OpenTTD users know how to compile code.  The other problem of course is that patches often conflict with each other.

The answer: The Mini Integrated Nightly (or MiniIN for short)

The requirements are much less strict for a patch to be included into the MiniIN, so quite a few patches are included as quickly as possible. Small neat patches are more likely to be applied quickly - it has been known for a patch to be added within hours of its first posting on the forums.

The term "nightly" refers to the [[en/Nightly Builds]], which contain the latest changes made by the core programmers.  "Integrated" refers to all the patches being integrated into the nightly build.  "Mini" refers to the fact that this is the second generation of Integrated Nightly's, and there are a few requirements before a patch will be included.

==Downloading the Mini Integrated Nightly==
The executable files are automatically compiled, and this is what is known as a [[en/Archive/Community/Nightly build]].  Despite it's name, the nightly build's for the MiniIN are only built every Monday and Thursday (10.00am CEST, 9.00am BST, 8.00am UTC).  If there are any changes in between those two days, you just have to wait.

The latest MiniIN nightly build can be downloaded at: 

http://nightly.openttd.org/MiniIN/files/ 

Be sure to download the version for your Operating System.

==== Configuration File Error ====
[[File:en/Archive/Community/MiniIN Config File Error.gif]]

This is a very common type of error to see when you first install the MiniIN.  A lot has changed in the MiniIN, and your old configuration files basically are no longer valid.  It's not a big issue, as the game will still run even with an invalid configuration file.  However, you probably want to fix it:

Delete '''openttd.cfg''' from the OpenTTD home directory.  You'll lose your default settings.  It's worth it though!

==Patches Included==
A few lists of patches included in or up for review for the Mini Integrated Nightly as of r5311(?). See [http://www.tt-forums.net/viewtopic.php?p=426901#426901 the forum] for a possible more up to date list.

If you download the source code, this list can be found in /patches/MiniINpatches.txt.

{| boarder=2
!style="background:pink;" | Currently in MiniIN or main trunk: 
|-
!style="background:#999999;" | Patch Name
!style="background:#999999;" | MiniIN Status
!style="background:#999999;" | Update Available
|-
|[[en/Archive/Manual/Yet Another Pathfinder]]                           
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24991&highlight=stations New Stations]
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=22640 Sort Stations                 ] 
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24172 Planeset v1.5]
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24842 NewGRF Aircraft Callback15]
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=25562 Italian Town Names]
|in trunk
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24283 6 New Airports] 
|4 in trunk, 2 in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=25144 NewGRF Cargo Subtype Callback 19]
|in MiniIN
|
|-
|[[en/Archive/Manual/Yet Another PBS Patch|Path Based Signaling (PBS)]]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=23434 TerraGenesis Perlin]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=23434 More Trees (now part of TerraGenesis)]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24574 Snow in Temperate             ] 
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=14819 Smooth economy 5147]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=19896 More Diesel Smoke patch v2.0b]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?p=427658#427658 Realistic Acceleration v2.0]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?p=450663 Signal Auto-complete]
|in MiniIN
|[http://www.tt-forums.net/viewtopic.php?p=457986#457986 Yes]
|-
|[http://www.tt-forums.net/viewtopic.php?t=25804 Signal Gui]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24172 Planeset MiniIN specials]
|in MiniIN
|[http://www.tt-forums.net/viewtopic.php?p=458309#458309 Yes]
|-
|[http://www.tt-forums.net/viewtopic.php?t=24393 Waypoint stats] 
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=11942 Subsidiaries patch]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?p=426646#426646 Upgrade Bridges in situ]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24759 Advanced Town Handling]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=21557 Town growth patch]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=22257 Dither Desert/Rocks]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=12193 Additional Orders]
|in MiniIN
|[http://www.tt-forums.net/viewtopic.php?p=469204#469204 Yes]
|-
|[http://www.tt-forums.net/viewtopic.php?t=22054 Toolbar fix]
|in MiniIN
|
|- 
|[http://www.tt-forums.net/viewtopic.php?t=25681 Purchase Window Refit Info]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=25037 Build Templates (Copy & Paste)]
|in MiniIN
|[http://www.tt-forums.net/viewtopic.php?p=458220#458220 Yes]
|-
|[http://www.tt-forums.net/viewtopic.php?t=25744 Loading Indicators]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=25481 More Selective Transparency]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=24634 Send All *Vehicles* to Depot]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=20006 Adjustible Day Length]
|in MiniIN
|
|-
|Freight Trains Weight Multiplier
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=25858 Advanced Auto Replace]
|in MiniIN
|
|-
|Screen Size Limit Increase 
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?p=469286#469286 Electricity Production (by coal plants)]
|in MiniIN
|
|-
|[http://www.tt-forums.net/viewtopic.php?t=26252 Drive Through Road Stops]
|in MiniIN
|
|}

{|
!style="background:pink;" | Will be added soon:
|-
!style="background:#999999;" | Patch Name
!style="background:#999999;" | MiniIN Status
|-
|[http://www.tt-forums.net/viewtopic.php?t=24187 Speed Signs] 
|pending-Needs updating for YAPF
|-
|[http://www.tt-forums.net/viewtopic.php?p=280398 PNGmap]
|pending
|-
|[http://sourceforge.net/tracker/index.php?func=detail&aid=1227158&group_id=103924&atid=636367 Bridge Highlight (Diff Tracker Link)]
|updated by RichK67. pending
|-
|[http://www.tt-forums.net/viewtopic.php?t=21438 No tunnels under mines]
|updated by RichK67. pending
|-
|Continue Multiplayer Locally
|pending
|-
|[http://www.tt-forums.net/viewtopic.php?t=22055 Disable repay loan]   
|pending
|-
|[http://sourceforge.net/tracker/index.php?func=detail&aid=1467270&group_id=103924&atid=636367 Origveh(Diff Tracker Link)]
|pending. RichK updated for more "real" truck names
|-
|[http://www.tt-forums.net/viewtopic.php?t=14888 Past 2090] 
|pending
|}

{|
!style="background:pink;" | Likely to be added if updated by author:
|-
!style="background:#999999;" | Patch Name
!style="background:#999999;" | MiniIN Status
|-
|Tile quantity calculator
|new version in progress by MeusH. will check status
|-
|[http://www.tt-forums.net/viewtopic.php?t=15502 Aircraft queueing] 
|updated to 4000+. awaiting confirmation it is current
|-
|[http://www.tt-forums.net/viewtopic.php?t=21827 Yellow signal state]
|awaiting confirmation it is current
|-
|[http://www.tt-forums.net/viewtopic.php?t=15502 Aircraft queueing & planespeed]
|conflicts with the helipad.  Waiting for an update.
|}

{|
!style="background:pink;" | Unknown:
|-
!style="background:#999999;" | Patch Name
!style="background:#999999;" | MiniIN Status
|-
|Auto clean zero                
|unknown. may not be applied
|-
|Pause on no clients            
|unknown
|-
|Statistics tools               
|unknown
|-
|Copy orders from vehicle windows         
|unknown
|-
|Sort Vehicle options           
|unknown
|-
|Smallmap zoom                  
|unknown. updated feature being added to trunk
|}

{|
!style="background:pink;" | Unlikely to be added:
|-
!style="background:#999999;" | Patch Name
!style="background:#999999;" | MiniIN Status
|-
|Oil industries anywhere on map  
|unknown. TGPerlin does something similar
|-
|Diagonal Clearing               
|needs updating. clear_cmd.c changed a lot
|-
|No bells on crossings           
|settings vars need updating.
|-
|Pause on Dec 31                 
|will not be added
|}

==Developement==
This section contains the technical details for obtaining the code and creating special patches for the MiniIN

====Downloading the MiniIN code====
Using a [[en/Subversion]] program, you may download any revision of the code from '''svn://svn.openttd.org/branches/MiniIN'''

====Viewing the Changelog====
The complete changelog can be viewed here: 

'''http://svn.openttd.org/cgi-bin/trac.cgi/log/branches/MiniIN'''

This is a great way to stay on top of all the changes, and even better for updating this wiki!

====Create a patch for the MiniIN====
Ok, so you've created your very cool patch and want users to try it out?  Several people will look at it if you build your own executable, but even more will look at it if you include it into the MiniIN.  Here's how:

First, make sure that you meet the requirements for having your patch included:
:*Wait a month and test your patch before requesting inclusion in the MiniIN
:*No debugging code
:*"Idle" commented-out dev code removed
:*Any trailing spaces removed; regexp: /s/[\t ]+$//
:*Applies to MiniIN branch (resolve conflicts as best you can)
:*Compiles without any errors or warnings (other than non-fatal language warnings)
:*If you have an update, or a bug fix, please say *what* has changed or what the current version number is in the forum topic.

Next, create an actual patch against the MiniIN (The steps below apply to users of TortoiseSVN):
:#Check out trunk at either pre-branch (4977), or current last sync (check the branch for details).
:#Apply patch
:#Use the Tortoise "Switch" option to point to '''svn://svn.openttd.org/branches/MiniIN'''. It will run a merge, and you may get conflicts.
:#Resolve conflicts.
:#Create patch.

====Maintaining your patch in the MiniIN====
If you make a new version of your patch and need to update it in the MiniIN, pretty much you follow the same method as when you first put it in.  Your new code will most likely conflict with your old code, so always compile and run your patch to make sure you haven't left any orphaned lines of code in.

'''BIG NOTE:''' When your patch is first added, richk67 will change any settings you added in settings.c:

<pre>
Before:
SDT_VAR(Patches, day_length, SLE_UINT8, NS, 0, 1, 1, 32, STR_CONFIG_PATCHES_DAY_LENGTH, NULL), 

After:
SDT_CONDVAR(Patches, day_length,  SLE_UINT8, 34, SL_MAX_VERSION, NS, 0, 1, 1,   32, STR_CONFIG_PATCHES_DAY_LENGTH, NULL),
</pre>

This is to keep savegames backwards compatible.  Do not revert these, and do not change the 3rd and 4th parameters.  More info at [[en/Archive/Source/OpenTTDDevBlackBook/Settings/AddSetting]]

When you upload your update patch, please notify everyone on [http://www.tt-forums.net/viewtopic.php?t=26333 this forum thread].  You may upload the file to the individual patch thread or to the MiniIN patch forum thread.  Then feel free to add a link to the Update Available like this: 

:<nowiki>[http://link-to-update/ Yes]</nowiki>

==External Links==
:Forum topic [http://www.tt-forums.net/viewtopic.php?t=24423&postdays=0&postorder=asc&start=0]
:Forum - problems thread [http://www.tt-forums.net/viewtopic.php?t=26332&postdays=0&postorder=asc&start=0]
:Forum - patches and TODO list [http://www.tt-forums.net/viewtopic.php?t=26333&postdays=0&postorder=asc&start=0]
:SVN Branch [http://svn.openttd.org/cgi-bin/trac.cgi/log/branches/MiniIN]
:MiniIN Nightly Build [http://nightly.openttd.org/MiniIN/]
:Old Integrated Nightly forum topic [http://www.tt-forums.net/viewtopic.php?t=14849]

[[Category:en/Development]][[Category:en/Development/Compiling OpenTTD]]