This page is used to gather ideas for a PHP/MySQL version for the Scenarios Database. Some valid concerns have been raised so far. Here's some information on the plans made so far. Feel free to add to this, reorder it, etc.

==Page Layout==
* Tries to blend in with openttd.org in terms of color and visual style... well, not at the moment, but that's the goal.
* At the top is a horizontal menu with five buttons
** Search
** Browse
** Upload
** Login
** OpenTTD.org

Screenie: [[File:en/Archive/Community/Openttd scenarios frontpage.png]] - I know, it looks like donkeys excrement... I'm a programmer, not a designer. Good news is it runs on Smarty, so it should be relatively easy and painless to integrate the templates used for the main openTTD site.

===Search===
The Search screen provides access to the primary method of finding a specific scenario in the database. On the first pageload it shall show a form with all fields we store concerning scenario's (author, map size, setting, etc). On fields that are an ordered listing, a dropdown for specifying 'less then', 'exactly' or 'more then' will be present.

Input will either be dropdowns or 'google suggest' assisted text-input boxes.

After filling in some conditions to filter on (for example, 'Setting: Temperate', 'Map Size: at least 512 x 512', 'Author: Sleepie') and submitting the form, the page will reload. The form will be displayed again with the values set to what they were before the submit, and below the form a listing of scenarios will appear.

===Browse===
The browse 'button' will show the possible categories on-hover. These categories are created automatically based on tags that can be attached to scenarios, or can be built up from search queries (admins can get a 'Make Category' button on the search screen, perhaps?).

Clicking a category will bring up the search results view for that category. It may be a bit superfluous, but essentially offers direct access to predefined searches. Still need to refine this, and add more value over normal search, IMHO.

===Upload===
Upload allows people to upload scenarios to the database. This form will allow the uploader to specify information regarding the scenario that can be searched for. Three pieces of information and mandatory: Author, Scenario Name and 'Cleared for distribution'.

Uploading can be done anonymously, but an anonymous upload first needs to be cleared for public use by an authenticated user before it becomes visible.

===Login===
Registering and logging in allows additional privileges in the database - one is the above-mentioned clearing of anonymous uploads. Other possible privileges: mark scenario for deletion, add comments to scenarios. The basic idea is that the system should be as open as possible, only abuse-sensitive features will be locked down.

===OpenTTD.org===
A link back to the main OpenTTD site. If possible, it would be nice to have a link from OpenTTD to the Scenarios base as well, in order to gain public exposure.

==Technical Concerns==
The system will run as a set of PHP scripts acting on a MySQL database. Subsystems used: AdoDB for data layer, Smarty for presentation layer.

Question: Will the files be hosted on the server itself, or will there simply be URLs to external downloads?

==Comments==

First off, thanks for the effort. :) Now, a couple of thoughts:

* I don't think we need an elaborate browse feature. A basic filelist should suffice. (All the browsing should be done at the wiki.)
* The script should be as open as possible. Uploading files should be totally open. (Perhaps we need an alert system of some sort, or a button for voting for the deletion of a .scn from public view, which I think you already mentioned above.)
* This script is supposed to be an .scn file repo, not a scenario database per se. That means the only function of this system is to receive .scn uploads and place them on the same server the script runs on, which I doubt will ever be the openttd.org server itself (I'm thinking this system will probably remain external). This should answer your question above. The reason the script is to be so simple is that we already have a well functioning database here at the wiki, and its minutiae can be tweaked by anyone, not just the folks with access to the code. Having two separate databases would confuse the hell out of newbies and beginning scenario authors. That's why this system only needs to provide open web hosting for .scn's.

Jupix 15:59, 7 May 2007 (CEST)