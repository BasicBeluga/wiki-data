Since Version 0.6.0 there are vehicle groups where you can put your vehicles in. This is a great improvement to the game!

Based on groups, I worked out some concepts on how to extend the capabilities of groups. Because the better the group handling, the better and more convenient you can mange a huge amount of vehicles.

So, what about computer-generated groups (lets call them '''auto-groups''') that contain vehicles that match the same properties, like
* use the same station
* have the same shared orders
* are on the same network
* match the same vehicle property (age, profit, reliability, ...)

''Three Ideas'' what this could look like.

# This is the minimalistic (and most realistic) idea only features two new group types: '''same station''' and '''shared orders'''.
# This Idea extends Idea 1 to '''networks'''. It needs way more effort to be implemented, but it enables really nice features like "evaluate network" or "sell/request network".
# The third idea is about '''user defined auto-groups'''. You can define '''vehicle property based conditions''' to form these groups.

Of course these concepts can change if necessary ;)

= Idea 1: auto-groups covering shared orders and same stations =

== Detailed Feature Concept ==

Imagine playing OTTD. You want to have a look at all your trains. You press "list trains" buttons from the upper menu. In older versions of OTTD a window similar to this appears:

[[File:en/Archive/Community/Users/FVL without groups.png]]

Nice. But note the little difference in the upper right corner. This will expand your vehicle list to the new-styled vehicle list with groups:

[[File:en/Archive/Community/Users/FVL with groups.png]]

This window works like the window we know from ottd060. But again, note the little difference in the upper left corner of the window. It's a drop down menu with currently selected "Groups". Lets click on that.

[[File:en/Archive/Community/Users/FVL with groups and dropdown clicked.png]]

You can choose two more entries, lets name them "categories" as they are different from groups:
* '''same station''', which allows you to get groups of vehicles that ''use the same station''
* '''shared orders''', which allows you to get groups of vehicles that ''have the same orders''

These categories contain computer generated groups that contain the corresponding vehicles.

With these groups available you can do further action. 

Now this slightly modified vehicle list window can replace all other vehicle lists of the game. Which are - as far as I know - these two:

[[File:en/Archive/Community/Users/FVL - same station.png]]

# open the station window
# click the little "show all trains to this station" button. At this point we get the vehicle list as expected.
# click the "extend window" button. Now we see whats really behind the window: just a group of the type "same station".

Note1: you can apply all commands under "manage list" to the vehicles shown. This is much more consistent compared to what we have now.

Note2: create/delete/rename group is grayed out as this makes no sense to vehicles groups in the "same station" category.

Note3: drag&drop should not be allowed

The same thing for the "shared orders":

[[File:en/Archive/Community/Users/FVL - shared orders.png]]

# open the orders menu of a vehicle
# click the little "show all trains that share these orders" button. Again this window looks familiar.
# click on the expand button. Again you see it's just a group.

Note1:  Deleting a "shared orders" group means: every vehicle in the group gets a unshared copy of the orders.

Note2: Also creating new (empty) shared orders and giving them a appropriate name makes sense.

Note3: you can easily drag and drop the vehicles to put them into shared orders groups. (also if these are on other railway networks... =()

== (protect from global) auto replace ==

Different ways how to handle the "auto replace" feature.
#allow this button only to the category "groups"
#Slightly change the autoreplace behavior: first, there is no global auto replace. If you want to replace all trains you choose the ''group'' "all trains". Second, all vehicles in a group are "assigned" to be replaced by a certain machine when using the "replace" command. This means: giving the replace command to vehicles in a group overwrites their current replace-assignment. Because of this you can replace the same vehicle type (eg "Kirby Paul Tank") by different machines types just because they are in different groups.

= Idea 2: auto-groups covering shared orders, same stations, (partial) networks =

This idea includes the simple idea 1 but makes the group principle much more general (and much more powerful).

Here is a group hierarchy that supports network related grouping of trains as well as user defined groups.

Don't be afraid, the player won't see the complete list any ever. ;) This list should be integrated into the GUI in a consistent way. Players new to OTTD won't see this list (minimized vehicle window, see idea 1). Advanced OTTD Players will love it ;-)

 all trains
   tagged trains
   untagged trains
   grouped trains
   partial rail networks
 all road vehicles
   tagged road vehicles
   untagged road vehicles
   grouped road vehicles
   partial road vehicles networks
 all ships
   ...
 all aircraft
   ...
 networks
 user defined groups

Again, imagine you playing OTTD and you click on the '''company trains''' button in the game:

 '''all trains'''
   '''tagged trains''' 
     user defined name 
     all my longest trains 
   '''untagged trains'''
   '''grouped trains'''
     my best trains
     these often cause traffic jams
     old trains to be refitted
   '''partial rail networks'''
     partial rail network001 (shows all trains on this partial network)
       Lines                 (what is now called "shared orders")
         Line001             (renaming lines would be nice)
         Line002
       stations
         London West         (shows all trains using this station)
         New York
     partial rail network002 (for example, trains here don't have any shared orders)
       stations
         Berlin
         Rome
     partial rail network003 (renaming networks would be nice)
       stations
         Berlin
         Rome

This is what the maximized "road vehicles" window shows.

 '''all road vehicles'''
   '''tagged road vehicles'''
   '''untagged road vehicles'''
   '''grouped road vehicles'''
   '''partial road vehicles networks'''
     partial road vehicle network004     (maybe these buses don't have shared orders...)
        stations
          Rome
          Rome bus stop

Somewhere in the vehicle list window (maybe in the dropdown thing), there is a "network" button:

 '''networks'''
   network001      (shows all vehicles these got a "sell" or a "request" button)
     stations      (all stations of this network)
       London West (shows all vehicles using this station even if they are of different types)
       New York Main Station
       Berlin
       Rome
       Rome bus stop
     partial rail network001         (same content like above)
     partial rail network002         (same content like above)
     partial road vehicle network004 (same content like above)
   network002
     partial rail network003

'''tagged trains''' and '''untagged trains''' is what we have right now. Each trains can be in ''only one'' of the subgroups at most. They get a group tag visible in the minimized vehicle window.

'''grouped trains''' is something similar. These are also user defined groups, but vehicles are allowed to be placed in several groups at a time.

'''networks''' are independent networks which may contain mixed stations and mixed vehicle types. If you sold a network, all contained stuff just "changes color" and no vehicle will ever complain about being lost or not finding a station. Thats why partial networks are defined like this: 

'''partial networks''' are coherent networks of one and the same vehicle type. Note the difference to ''networks'', which include all connected partial networks of other vehicle types. Examples for partial networks:
* All tracks, depots, stations a train could possibly reach traveling on the tracks belong to one partial network.
* all depots, road stations a bus/truck has in its orders list, and recursively all other road vehicles/stations of the road vehicles visiting the same stations.
:* Roads (and canals) have a special status because every player can use them. The company owned roads connecting partial road networks belong to that network at players choice. This affects the possible "sell network" or the "estimate (partial) network value" features.
:* partial aircraft / ship networks are defined similar to the partial road networks: all vehicles (of the same type (road, air, water) using the same station and all stations that are in the vehicle's orders list are traversed recursively.

= Idea 3: user defined auto-groups (vehicles matching the same properties) =

To have the powerful group commands at hand for a variety of vehicle groups, it makes sense to have groups for many vehicle properties. '''user defined auto-groups''' allows the player to define own criterias to auto-group vehicles.

Through the vehicle list you can access the "user defined groups":

 '''user defined auto-groups''' (define your own criteria in some input box)
   old trains                 (train age>15)
   old vehicles making loss   (age>15 profit<0)
   alte Klapperkisten         (reliability<50 max_speed<100)
   long trains on net2        (train group=network002 wagons>10)
   worthless ships            (ship value<2000)
   old vehicles in Rome bs    (group="Rome bus stop" age>20)
   red                        (profit<0)
   yellow                     (profit>0 profit<20k)
   green                      (profit>20k)

= game ressources =

Of course first priority is to keep the game as efficient as possible regarding cpu usage and network/internet bandwidth. Especially for the vehicle network features there are deeper examinations necessary.

= web links =

related Flyspray tasks {{en/Flyspray|1324}}, {{en/Flyspray|1448}}, {{en/Flyspray|1042}}, {{en/Flyspray|1321}}

related patch [http://www.tt-forums.net/viewtopic.php?t=33148 group info (profit)], [http://bugs.openttd.org/task/1060 vehicles console command]

Forum: http://www.tt-forums.net/viewtopic.php?f=32&t=37075