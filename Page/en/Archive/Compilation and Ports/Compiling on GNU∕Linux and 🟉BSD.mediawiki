[[Translation:en/Archive/Compilation and Ports/Compiling on GNUâˆ•Linux and ðŸŸ‰BSD]]
[[Category:en/Development/Compiling OpenTTD]]

==Compiling and developing OpenTTD on MandrakeLinux 10.0 Official==
A quick guide to get started with OpenTTD development on Linux.


===1.) Packages:===

Most packages that are required for development (Like GCC) should already be installed on your box. You will require these packages in addition to GCC.

'''Mandriva:'''
*libsdl1.2-devel-1.2.7-2mdk
*subversion-1.0.1-1mdk (+ dependencies)
*libsvn_ra_svn1_0-1.0.1-1mdk

<pre>root# urpmi libsdl1.2-devel-1.2.7-2mdk
root# urpmi subversion-1.0.1-1mdk
root# urpmi libsvn_ra_svn1_0-1.0.1-1mdk</pre>
''N.B: From my experience, this should work, but I dont have a Mandriva box to test''

'''Debian'''
*libsdl1.2-dev
*subversion
*libsvn0
*zlib1g-dev

Or enter the command:
<pre>root# apt-get install libsdl1.2-dev subversion libsvn0 zlib1g-dev</pre>

===2.) Subversion:===

=====Downloading the code=====

To obtain the source code from the subversion server type:

<code>$ svn co svn://svn.openttd.org/trunk openttd</code>

from command line to dump the code into the directory 'openttd'.

=====Updating=====

To update your working copy to the latest revision use:

<code>$ svn update</code>

Don't worry, your version will be merged with the latest version.

=====Creating a patch file=====

The command

<code>$ svn diff > mypatch.diff</code>

creates a patch file (aka diff file) which you can submit to the developers to share your improvements.

=====Reverting=====

You can undo changes to a file with:

<code>$svn revert filename</code>

=====Merging=====

To merge a patch file (diff file) to the source code, update your source code to the patch file's revision. Let's say the patch file has been made on r1234. To update your source code to r1234, type

<code>$ svn up 1234</code>

Then you're ready to merge the patch file

<code>$ svn merge < mypatch.diff</code>

Update the source code to the newest revision with

<code>$ svn up</code>

===3.) Required data files:===

Copy the following files from the WINDOWS version of Transport Tycoon Deluxe to openttd/data/
*sample.cat
*trg1r.grf
*trgcr.grf
*trghr.grf
*trgir.grf
*trgtr.grf

===4.) Compiling and running:===

Compile OpenTTD with:

<code>$ make</code>

and run it with:

<code>$ ./openttd</code>

===5.) Playing the soundtrack:===

If you want the original TTD music you need to copy the whole /gm/ directory from Windows. Additionally the TiMidity driver is required:

*TiMidity++-2.12.0-0.pre1.4mdk (+ dependencies)

To run OpenTTD with music support type

<code>$ ./openttd -m extmidi</code>