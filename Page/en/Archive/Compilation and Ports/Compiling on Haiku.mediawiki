setgcc gcc4
installoptionalpackage mercurial sdllibs

(or subversion if you wish)
clone OpenTTD repository
	
wget http://zlib.net/zlib-1.2.7.tar.gz
tar xvfz zlib-1.2.7.tar.gz
cd zlib-1.2.7
configure --prefix=/boot/common && make install

There will be an error, simply do

gcc -shared -O3  -fPIC -DHAVE_HIDDEN -o libz.so.1.2.7 adler32.lo crc32.lo deflate.lo infback.lo inffast.lo inflate.lo inftrees.lo trees.lo zutil.lo compress.lo uncompr.lo gzclose.lo gzlib.lo gzread.lo gzwrite.lo
make install
cd ..

and everything will be fine. This is the same command that triggers the error, only without "-lc" on the end.

wget http://sourceforge.net/projects/libpng/files/libpng15/1.5.13/libpng-1.5.13.tar.xz/download
tar xvfJ libpng-1.5.13.tar.xz
cd libpng-1.5.13
configure --prefix=/boot/common && make install
cd ..

wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.06.tar.gz
tar xvfz lzo-2.06.tar.gz
cd lzo-2.06
configure --prefix=/boot/common && make install
cd ..

wget http://sourceforge.net/projects/freetype/files/freetype2/2.4.10/freetype-2.4.10.tar.gz/download
tar zxvf freetype-2.4.10.tar.gz
cd freetype-2.4.10
configure --prefix=/boot/common && make install
cd ..

download fontconfig and compile/install with

configure --prefix=/boot/common --enable-libxml2 && make install

ICU fails because it can't find the right shell, libtimidity because it's so old its configure scripts don't even recognize Haiku as an OS. Note that even after "installoptionalpackage ICU", it isn't recognized by OpenTTD - there seems to be a wider problem.
Also warnings when compiling OpenTTD itself:

/boot/home/trunk.hg/src/stdafx.h:47:0: warning: "INT64_MIN" redefined [enabled by default]
/boot/develop/headers/posix/stdint.h:73:0: note: this is the location of the previous definition
/boot/home/trunk.hg/src/stdafx.h:50:0: warning: "INT32_MIN" redefined [enabled by default]
/boot/develop/headers/posix/stdint.h:69:0: note: this is the location of the previous definition
/boot/home/trunk.hg/src/stdafx.h:53:0: warning: "INT16_MIN" redefined [enabled by default]
/boot/develop/headers/posix/stdint.h:64:0: note: this is the location of the previous definition
/boot/home/trunk.hg/src/stdafx.h:54:0: warning: "UINT8_MAX" redefined [enabled by default]
/boot/develop/headers/posix/stdint.h:62:0: note: this is the location of the previous definition
/boot/home/trunk.hg/src/stdafx.h:56:0: warning: "INT8_MIN" redefined [enabled by default]
/boot/develop/headers/posix/stdint.h:60:0: note: this is the location of the previous definition

/boot/home/trunk.hg/src/network/core/os_abstraction.h:194:0: warning: "IPV6_V6ONLY" redefined [enabled by default]
/boot/develop/headers/posix/netinet/in.h:156:0: note: this is the location of the previous definition

[[Category:en/Development/Compiling OpenTTD]]