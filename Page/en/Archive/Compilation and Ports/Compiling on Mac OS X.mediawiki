[[Translation:en/Archive/Compilation and Ports/Compiling on Mac OS X]]
[[Category:en/Development/Compiling OpenTTD]]

==Compiling and developing OpenTTD on MacOSX==
A quick guide to get started with OpenTTD development on OSX.
Note: if you have not installed any of this, it will take a while and there will be a lot to download, but you will get access to a lot more software than just OpenTTD.

Installing Developer Tools/Xcode
First you need to install a compiler. You should do this by installing Developer Tools(10.2) or Xcode(10.3)
They should be on a CD when you got your OS. I think you can also download it from Apple, but it's 500+ mb and I'm not even sure
Developer tools/Xcode contains gcc, which is the compiler that are used by most opensource projects, including OpenTTD.

Installing fink
Fink is a nice tool to install opensource software with simple commands. You can get fink here http://fink.sourceforge.net
As it says on fink's homepage, fink wants Java SDK to be installed or you could end up with serious problems. You can get it here (TODO: find link on Apple's homepage)

Before installing anything with fink, you should update fink (even if you just installed it). This is because fink have some local files, where it looks up what version of the software it should install. If a new version is out, it's stupid to install an already outdated version. You can update fink with the command
fink selfupdate

Installing libraries with fink
You need some libraries to link to when compiling. You can use fink to install them with the following commands in terminal:(TODO find a terminal tutorial)
fink install sdl (sdl is used to play sound and display graphics. You can't compile without it)
fink install libpng3 (needed for making screenshots in png. Not really needed now, but there are future plans, which makes it really needed, so you might as well get it now)
in each case, fink will tell that you that you need to install a lot of other stuff too, just hit enter (answering yes) and fink will download and install all of it
The docs telling about how to compile OpenTTD tells about zlib. Zlib is needed by OSX itself, so you already have it and there are no need to install it.


You should now be able to compile OpenTTD. You can download the source from Sourceforge and compile it, but the real reason to be able to compile yourself is to be able to download and compile the newest source from the svn server.

Installing the svn client with fink
Like you installed the libs, you can now install the svn client with the command:
fink install svn-client

You will now have all the needed software to compile, now you need the source itself form the svn server

Getting the newest source from the svn server:
Now you need to make a "working copy" of the source with your new svn client. To do this, use your terminal and write
svn checkout svn://svn.openttd.org/trunk folder_name
folder_name will be the folder you place the source into. Note you might have to open a new terminal window after you installed svn to be able to do this.

Compiling the source
To compile the source, you should use the terminal to go into your working copy and write
make
OpenTTD will now compile

If you want to move the application you just compiled to another computer, you need to either install sdl (and libpng if you used it) on that computer too or compile statically. Apple recommends against static compilations, but I think it beats installing the libs if you just want to play the game.

Compiling statically:
To compile statically, you need to edit makefile.config to do so. You can do this in any text editor (including Developer tools/Xcode). Find the line, which says
STATIC:=
and change it to
STATIC:=1

makefile.config are generated when running make, so it will not be generated before the first time you run make. To set it the first time you  compile, run
make STATIC:=1

Note: if you change anything in makefile.config, you should run
make clean
to make sure you get rid of anything compiled using the old setup

You are now ready to play after you added the grf files from winTTD