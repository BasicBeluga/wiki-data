[[Translation:en/Archive/Compilation and Ports/Compiling on Windows using MinGW]]
==Introduction==
This page will contains guideline of compiling Open Transport Tycoon in Win32 with MinGW.
==Informations==
* Source: OTTD r1213.
* Packages used here:
** MSYS-1.0.10
** MinGW-3.1.0-1
** binutils-2.15.91-20040904-1
** gcc-core-3.4.2-20040916-1
** gcc-g++-3.4.2-20040916-1
** mingw-runtime-3.5
** w32api-3.1
* Others
** SDL and zlib will not be used here.
** SVN will not be used here, however it is recommended to have it.

==Setting up MinGW==
# Download the following files from http://sourceforge.net/projects/mingw/ in Package '''Current''':
#* MSYS-(ver).exe
#* MinGW-(ver).exe
#* binutils-(ver).tar.gz
#* gcc-core-(ver).tar.gz
#* gcc-g++-(ver).tar.gz
#* mingw-runtime-(ver).tar.gz
#* w32api-(ver).tar.gz
# Run MinGW-(ver).exe to install MinGW.
# Run MSYS-(ver).exe to install MSYS.
#* You will see the following messages after GUI:
#: <pre><nowiki>This is a post install process that will try to normalize between
your MinGW install if any as well as your previous MSYS installs
if any.  I don't have any traps as aborts will not hurt anything.
Do you wish to continue with the post install? [yn ]</nowiki></pre>
#* Input "y".
#: <pre><nowiki>Do you have MinGW installed? [yn ]</nowiki></pre>
#* Input "y".
#: <pre><nowiki>Please answer the following in the form of c:/foo/bar.
Where is your MinGW installation?</nowiki></pre>
#* Input your MinGW installation path.  If you miss-typed it, the best solution for newbies is to re-install MSYS.
# Set PATH to the bin folder in MinGW and MSYS, to enable *nix commands in your shell.
# Put all *.tar.gz in MinGW folder, run the following line for each files:
#: <pre><nowiki>tar -xzvf (file)</nowiki></pre>
# The setup is completed.
==Testing the MinGW installation==
* Run the following commands.
*: <pre><nowiki>make -v
gcc -v</nowiki></pre>
* They should output something.  Check if something goes wrong.
==Compiling OTTD==
'''If you cannot compile, DON'T PANIC.  Sometimes it may deal to coding errors.'''
# Run the following line to create Makefile.config:
#:: <pre><nowiki>make Makefile.config</nowiki></pre>
#: That should be OK if some error about "ls", "/bin/sh.exe" and "svnversion" is shown.  It should say
#:: <pre><nowiki>make: Makefile.config is up to date.</nowiki></pre>
# Modify the Makefile.config.  Check the following parameters:
#:: <pre><nowiki>WITH_ZLIB:=
WITH_SDL:=
WIN32:=1
UNIX:=
OSX:=
FREEBSD:=
MORPHOS:=
BEOS:=
SUNOS:=
CYGWIN:=1
MINGW:=1</nowiki></pre>
#: Some slots are made empty to disable.
#: Don't change the Makefile.config into Win32 txt format.  Otherwise all changes will be lost.
# Run "make".  Some warnings will be shown, but doesn't matter.
# The compiling is completed when openttd is shown.

==Testing OTTD==
# Copy the following files from (TTD)\data\ to (OTTD)\data\:
#: <pre><nowiki>sample.cat
trg1r.grf
trgcr.grf
trghr.grf
trgir.grf
trgtr.grf</nowiki></pre>
# Run openttd.exe.
# A warning about missing zlib will be shown. Ignore.
# Enjoy!