[[Translation:en/Archive/OpenTTD/OpenTTD 0.4.5]]
[[Category:en/OpenTTD Release History]]

==General release information==
Release date: 31st Jan, 2006

==List of New Features==
*Feature: [newgrf] Implement varaction2 property 0x41 and 0xDA. (2361)
*Feature: giving server_ip a value of 'all' will make the server listen on any interface (2374)
*Feature: shortcut CTRL + U that clears the current input-box (2385)
*Feature: [newgrf] Implement the mechanism for handling newgrf callbacks (2389)
*Feature: [newgrf] Implement the 'refit capacity' callback (2389)
*Feature: saving games happen in a seperate thread (2391)
*Feature: [newgrf] Implement powered wagons, and the callback that goes with it (2414)
*Feature: [newgrf] Implement shorter train vehicles (2428)
*Feature: New display option: 'transparent station signs' (2438)
*Feature: You can now give transfer order to set up feeder systems (2441)
*Feature: Removing tracks with the 'remove' tool, automatically removes signals on the tracks (2469)
*Feature: [localisation] Allow changing the order of parameters in translated strings (2573)
*Feature: [localisation] New way to specify plural forms (2592)
*Feature: [localisation] Support genders (2594)
*Feature: [localisation] Support cases (2597)
*Feature: add support for truncating strings to a given (pixel) length (2607)
*Feature: Overhaul DirectMusic MIDI backend, remove "experimental" status (2712)
*Feature: Change the driver probing algorithm: Use the first music/sound/video which succeeds initialising instead of bailing out after the first. No need to specify -snull if no soundcard is present anymore (2728)
*Feature: The Main Toolbar Dropdown Menu can now display disabled items (2734)
*Feature: Clone vehicles (2764)
*Feature: When starting without a config file determine the language on basis of the current locale (2777)
*Feature: [NewGRF] Add support for "extended bytes" (2872)
*Feature: [localisation] Major step towards ISO-8859-15: Implement missing characters (2879)
*Feature: Implement the console command rm to remove savegames (2941)
*Feature: Danish town names (2957)
*Feature: Menu option to toggle console (2958)
*Feature: Calculate proportions of non-square giant screenshot correctly (2963)
*Feature: [newgrf] Implement current set of action D (ParamSet) operations (2968)
*Feature: [newgrf] Show a wagon's speed limit in purchase list (2969)
*Feature: [newgrf] Support loading VarAction2 parameter for variables 0x60-0x7F (2971)
*Feature: [newgrf] Add patch option for wagon speed limits (2982)
*Feature: [newgrf] Support loading of bridge attributes and tables from GRF (3004)
*Feature: Native Support for Win64 (3008)
*Feature: OSX now uses quicktime to play midi files (3022)
*Feature: [OSX] Command+Q now works in main menu (3027)
*Feature: Allow unbanning players based on banlist-id (as well as IP) (3067)
*Feature: 'status' and 'clients' now show the IP of the players (3067)
*Feature: Make it possible to create a screenshot from the console that is both big and has no console, or any combination of (3068)
*Feature: [newgrf] Add support for rail vehicle weight greater than 255 tons (3071)
*Feature: 'HOME' icon to saveload dialogs that jumps to the default save/load directory based on the dialog (3096)
*Feature: Turkish translation (3120)
*Feature: [newgrf] Support positioning of rail vehicle visual effects (3132)
*Feature: [newgrf] Support for articulated rail vehicles (3139)
*Feature: [newgrf] Add support for cargo refitting specification by cargo classes (3148)
*Feature: [newgrf] Action 7/9 new value : is it TTDPatch or OpenTTD? (3152)
*Feature: Drag and drop rocky areas in scenario editor (3153)
*Feature: Added patch option to link the terraform toolbar to the rail, road, water and airport toolbars (3157)
*Feature: Right-Click-Scrolling optionally moves in the opposite direction (3222)
*Feature: Native cocoa sound and video drivers for OSX (3281)
*Feature: [newgrf] Allow train running cost class to differ from engine class (3388)
*Feature: Kick and ban now with IP numbers (3407)
*Feature: Allow seeing and setting the maximum amount of companies and spectators for a server. This can be changed/viewed during runtime as well in the console (3427)
*Feature: Allow the network game list to be sorted (by name/clients/compatibility ascending/descending) (3441)
*Feature: Make it possible to ban offline clients (3469)

==List of Bugfixes==
*Fix: The refit window now shows the correct refit options (2365)
*Fix: Refitting to a cargo which is already carried by some vehicles takes their capacities into account for display (2365)
*Fix: Add 'multihead' TTDPatch option to OpenTTD newgrf flags-emulation (2368)
*Fix: make install tried to install scenarios in the (non-existing) personal dir when USE_HOMEDIR is specified (2371)
*Fix: [console] update the example scripts in the scripts/ directory to reflect the new console functionality (2372)
*Fix: [console] any line starting with a '#' is a comment so ignore it (2372)
*Fix: [console] The special variables whose value can only be set by a custom process should, also print out their newly set value there (2372)
*Fix: [newgrf] Ignore action 0 prop 0x20 (air drag) (2377)
*Fix: [newgrf] Further property stubs, help prevents subsequent incorrect reading of newgrf data (2378)
*Fix: Build year for mail compartment of planes was not set correctly, affected station ratings (2380)
*Fix: Endgame window on easy difficulty resulted in infinite loop (2381)
*Fix: Check the airport type when building an airport (2382)
*Fix: Monkey-testing turned up some command crashes (2383)
*Fix: Check selling land and setting player colour. Also an extra map-bounds check for terraforming (2384)
*Fix: [realistic accel] Very slow trains no longer get an increase in maximum speed when part of them is in a depot (2388)
*Fix: [newgrf] Load power for dual-headed engines correctly (2400)
*Fix: [newgrf] When resolving callbacks, dont ignore wagon overrides (2410)
*Fix: Station ratings aren't affected by speed limits from realistic acceleration anymore (2411)
*Fix: building vehicles without depot crashed the game (2412)
*Fix: certain resolutions caused a crash when minimap was partly dragged outside the game window (2424)
*Fix: Deleting canals under bridges removed bridges first in certain configurations (2436)
*Fix: [NPF] Vehicles try to drive into a tunnel entrance from above (2471)
*Fix: [newgrf] Some road vehicle action 0 properties were loaded as the wrong type (int8,int16,int32) causing undefined results. (like cargo types being wrong) (2474)
*Fix: The console variable autoclean_unprotected was linked to the variable _network_autoclean_protected (2498)
*Fix: Old bug in the PCX writer: The first pixel column contained garbage, the picture was shifted one to the right, and the last column was dropped (2512)
*Fix: Using the mouse wheel could lead to a crash if mouse was not over a widget (2530)
*Fix: blinking 'lock' gfx in multiplayer games (2548)
*Fix: Remove original train pathfinder. Enhanced old pathfinder. (2553)
*Fix: Spaces in the path to the MIDI files caused the win32 MIDI player to fail (2563)
*Fix: set server map name to the loaded name of the game/scenario (2610)
*Fix: Improve the old pathfinder. Changed it to A* instead of Dijkstra. Benchmark shows that NTP is now around 10x faster than NPF (2635)
*Fix: Correctly save and load company_value, it's 64 bits wide, not 32 bits (2684)
*Fix: Volume control works now for the DirectMusic MIDI backend (2712)
*Fix: Change the fence algorithm so it removes fences when no farm tile is adjacent (2739)
*Fix: Tree tiles above the snow line got redrawn disproportionately often (2750)
*Fix: Depots could build trains of the wrong track type (2764)
*Fix: Sort the directories in the scenarion/savegame list (2860)
*Fix: On OS/2 show the trailing \ if the current directory is a root directory (2860)
*Fix: Return a proper version number, when testing the TTDPatch version in the SkipIf action (2862)
*Fix: Change the way NewGRFs are loaded, this saves quite some sprite slots *about 2000 for DBSetXL for example (2868)
*Fix: Several format string vulnerabilities and buffer overflows in the network code (2899)
*Fix: fixed issue where autorenewed vehicles didn't get all stats updated (2912)
*Fix: Exit the child of the extmidi backend with _exit() instead of exit(), because we don't want any atexit handlers *especially flushing output streams *to run, if exec() fails (2938)
*Fix: Server crash with "say"-command (2950)
*Fix: Fix win32 midi volume level control which didn't work (2960)
*Fix: [OSX] quitting the game no longer leaves a process behind that eats all the CPU power (3281)
*Fix: Fix for [ 1216203 ] UFO-broken waypoint (2961)
*Fix: [newgrf] Include missing grf feature canal
*Fix: [newgrf] Add bounds checking to VehicleChangeInfo for vehicles
*Fix: [newgrf] Wagon speed limits don't apply for wagons with livery overrides
*Fix: Align settings pool items to the size of void* to fix bus errors on 64bit architectures which require aligned variables (2976)
*Fix: restart_game_date is an UINT16, not a BYTE. Now setting the game restart year via the console should work (2987)
*Fix: [newgrf] Some GRF files don't specify a name or description, in which case the Action 8 is 8 bytes, not 9 (3005)
*Fix: The finnish markka was never abbreviated with capital letters (3021)
*Fix: Improve handling of non-existent sprite sets (3044)
*Fix: Don't attempt to map and empty sprite group to a vehicle (3045)
*Fix: Fixed typo and hang for BeOS Networking (3053)
*Fix: On Win98 and lower when you go to the root directory of a drive (eg. C:\) you were stuck there indefinitely and couldn't change any directories or see any files (3056)
*Fix: Complete rewrite of autoreplace; multiheaded train engines are replaced correctly (3081)
*Fix: A new train is now made if the front unit is an engine and the former front engine is moved away (3144)
*Fix: There are only 2 possible directions for ship depots, not 4 (3199)
*Fix: Allow bribing up to the maximum rating for bribing, don't disable this option at some arbitrary value early (3201)
*Fix: Don't lower land on tunnel, even with diag tracks on it (3228)
*Fix: Crash when making a screenshotin the main menu (3235)
*Fix: Crash when starting a scenarion via 'New Game' fails (3235)
*Fix: Determine clicked status of sticky icon from window flags rather than the widget click state (3247)
*Fix: Graphical glitch with autorail tool on a certain tile-types (3254)
*Fix: Center the X of the window close button (3302)
*Fix: [newgrf] Unload engine names before loading grf files (3316)
*Fix: Network window crash when it receives invalid information for example from the integrated nightly, so validate the network-input when it is received (3322)
*Fix: Build failed if SDL is built without pthread support (3326)
*Fix: Move initialization of vehicle random_bits to DC_EXEC blocks to allow use of Random() instead of InteractiveRandom(), which will alleviate some possib le network desyncs (3352)
*Fix: The default AI tried to change the service intervals of vehicles via the CMD_CHANGE_TRAIN_SERVICE_INT command *regardless of the type of the vehicle (3367)
*Fix: Out-of-bounds array access when road vehicles overtook in a curve caused desyncs (3371)
*Fix: Update signal states when building or removing rail station blocks (3372)
*Fix: Don't allow trains to get bigger than 100 via drag and drop (3374)
*Fix: Don't reset date in the scenario editor when pressing RandomLand (3376)
*Fix: [newgrf] Running cost should be halved for dual head vehicles (3384)
*Fix: No fence was placed when placing fences and the neighbouring tile is a rail configuration which permits a fence but has a signal (3389)
*Fix: [newgrf] Ignore non-climate dependent cargo types (3394)
*Fix: [newgrf] Only add a random number of days to an engine's base introduction date if that date is not 0 (3410)
*Fix: When changing the server password via the console, actually set the password as well as flag whether it is required (3411)
*Fix: Under certain conditions placing a road tile parallel under a bridge would, instead of failing, succeed and place a perpendicular piece (3413)
*Fix: Disable the Fund New Industry menu item and window when connected to a server as a spectator (3414)
*Fix: Disable the clone and refit buttons in the train view when viewing another player's vehicles, or as a spectator (3415)
*Fix: Disallow building an oil rig above sea level (3416)
*Fix: When removing a town-owned tunnel the player's rating was not reduced (3418)
*Fix: (Possible) game crash on removing track/road under bridge if a vehicle was on the track/road under the bridge and the track/road sloped (3419)
*Fix: [newgrf] Only power should decide whether a rail vehicle is an engine or a wagon. (fixes SHIKI 810 in jpsetw.grf) (3424)
*Fix: Incorrect validating of tree-planting command which can allow a buffer-overflow (3446)
*Fix: [newgrf] When changing the sprite ID of a vehicle, if it is not FD (custom graphics), the value needs to changed from a 16bit array offset to an array index. (fixes tropicstw.grf) (3449)
*Fix: You couldn't remove an item from a list-type of config ingame from the configuration file (3475)
*Fix: [newgrf] Always reinitialize the ttdpatch flags as patch settings may have changed (3486)
*Fix: Price for demolishing a bridge was dependent on orientation and map size (3487)