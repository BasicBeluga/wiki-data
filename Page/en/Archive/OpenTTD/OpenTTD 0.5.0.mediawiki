[[Translation:en/Archive/OpenTTD/OpenTTD 0.5.0]]
{{en/Archive/OpenTTD/NaviPrevNext|prev=en/Archive/OpenTTD/OpenTTD 0.4.8|next=en/Archive/OpenTTD/OpenTTD 0.5.1|date=27 February 2007}}

It was given release candidate status on 21 December 2006.

==General release information==
*RC1 Release, 21st December 2006
*RC2 Release, 31st December 2006
*RC3 Release, 8th January 2007
*RC4 Release, 18th January 2007
*RC5 Release, 8th February 2007
*Final Release, 27th February 2007

You can get releases from [http://sourceforge.net/project/showfiles.php?group_id=103924 SourceForge] and you can also get the sources from svn://svn.openttd.org/tags/0.5.0(-RCn)

==New Features==
* General fixes and improvements to TTDPatch's newgrf format, most noticable are newstations, newsounds, more callbacks and I18n
* Feature: Show NewGRF compatability of network games; green for full compatibility, yellow for missing newgrfs and red for invalid revision (r7505)
* Feature: Load a list of NewGRFs from the config (in the [newgrf-static] section) that should always be loaded (r7490)
* Feature: Double the length of the cargo and rating indicators in the station list window for better visibility (r7466)
* Feature: NewGRF set up window and browser which allows modification and viewing of NewGRF settings ingame or the main menu (r7357)
* Feature: Support for saving NewGRF settings with savegames (r7348)
* Feature: Add support for gradual (un)loading of vehicles (r7326)
* Feature: Add freight trains patch option which is a multiplier for the weight of cargo on freight trains, to simulate longer heavier trains (r7269)
* Feature: UNICODE/UTF8 support, with (optional) usage of fonts rendered by Freetype instead of sprites. This means full unicode support (input, rendering, file/io) and greatly enhanced internationalization for non-latin languages (utf8) (r7182)
* Feature: Add Slovak, Brazil and Slovenian currency [SF 1243657, 1171147; FS#131] (r7160, r5964)
* Feature: Allow towns to be built on top of trees in the scenario editor [FS#396] (r7152)
* Feature: Allow over-building of compatible railtypes, i.e. normal and electrified rail. If building electrified rail, normal rail is upgraded for you (at a cost) (r7106)
* Feature: Additional positioning for long dropdown lists with scrollbar support if dropdown list wouldn't fit (r7086)
* Feature: [win32] Remember the window size between restarts when quit in fullscreen mode (r7061)
* Feature: Increase the chatbuffer of chat messages, messages longer than the graphical box will be wrapped to a new line (r6956)
* Feature: Allow typing longer text than visible for an editbox; it will scroll properly now (r6954)
* Feature: Allow spectators to team-speak to eachother (r6933)
* Feature: Allow for " to be in console tokens. Escape them with \. eg \" (r6875)
* Feature: Change the functionality of the chat window. SHIFT+ENTER (SHIFT+T) sends a message to all players, CTRL+ENTER (CTRL+T) sends a message to all team mates and ENTER (T) is customizable (r6824)
* Feature: (Train is) lost message is now generated immediately when pathfinder can't find the path (r6800)
* Feature: Add a measurement tool that will show dimensions and height differences of various draggable tools (r6758)
* Feature: Added sort options to the build aircraft and train windows (r6708)
* Feature: Depot lists are now sorted, so vehicle 1 is always first and so on (r6652)
* Feature: Ability to pause a server if not enough players are connected. The setting for this is 'min_players' (r6628)
* Feature: Ability for servers to execute a script just after a client has connected, e.g. for a MOTD, etc (r6625)
* Feature: Add refit commands to vehicle orders (can only be done in goto depot orders) (r6624)
* Feature: Support cargo subtypes in the refit window. The refit window has been altered to support resizing and scrolling (r6601)
* Feature: Depot and vehicle list windows reworked a bit with more buttons to include 'Autoreplace all' (instantly), 'Sell all', 'Start all' and 'Stop all' (r6542, r6552, r6515)
* Feature: Using goto depot with a different control selection will now alter the service/stopping in depot flag instead of cancelling the goto depot order (r6295)
* Feature: When automatically detecting the language try to first match language+territory (e.g. de_CH), then just language (e.g. de) and fall back to en_GB otherwise (r6290)
* Feature: Add a "goto depot" button to various vehicle list windows (r6229, r6246)
* Feature: Save max_companies/clients/spectators in the config file (r6170)
* Feature: Vehicle status bar will show the heading string in different colours to visually discern the difference between a service and a forced stop (r6165, r6414)
* Feature: Control clicking Goto Depot will now make the vehicle service instead of stop in depot (r6165)
* Feature: List of vehicles with the same shared orders, accessible from the orders-window of a given vehicle (r6161)
* Feature: Added -s (source) and -d (destination) to strgen to specify paths for input and output files (r6089)
* Feature: After removing a farm, its farmland is removed too (over time) [FS#82]
* Feature: Clicking twice on the location button in the smallmap centers to your position, clicking twice centres your viewport [FS#54] (r6040)
* Feature: Change the original date format to a 32 bits format based at the year 0. Highest date is the year 5.000.000AC (r5999)
* Feature: Auto-completion in chat-window. It completes Player and Town names (in that order) using <tab> (r5968)
* Feature: Catalan Town Names generator [FS#261] (r5965)
* Feature: Possibility to generate scenarios by importing heightmaps. It can be in PNG or BMP format
* Feature: New (optional) landscape generator based on TerraGenesis Perlin noise with GUI, progress bar and fine-tuning options (r5946)
* Feature: Filter for textboxes to only allow input of certain patterns (like numbers only) (r5944)
* Feature: [win32] Remember the maximized state of the game window and restore on start [FS#234] (r5874)
* Feature: Add an icon to the SDL openttd executable (r5872)
* Feature: Also allow horizontal and vertical rails on steep slopes (r5864)
* Feature: Allow building of (certain) rails, roads and bridge ramps on steep sloped tiles (r5833)
* Feature: Replacing from a train engine without cargo capacity to one with cargo capacity will now make autoreplace refit the engine to carry the cargo type from the last wagon in the train (r5465)
* Feature: [OSX] Macs with touchpads that support two finger scrolling can now use this feature to move around the map (r5460)
* Feature: Allow building canals at sea-level, using ctrl to toggle canal or plain water tile. This allows building of non-raisable sea-level water ways (useful in multiplayer) and dikes for low-level areas (r5403)
* Feature: Add 4 new [[en/Manual/Airports]]. 2 for aircraft, 2 for helicopters (r5346)
* Feature: Implement smooth horizontal depot and, vehicle list scrolling for trains (r5046)
* Feature: Add new pathfinder, YAPF. Has greatly improved performance and better, fully configurable, pathfinding (yapf) (r4987)
* Feature: Add a new console command "players" that lists current players along with basic stats [FS#150] (r4828)
* Feature: Station List View can now be sorted and filtered (by waiting cargo type and facilities) (r4822)
* Feature: The integer-list parser now accepts a space character as an item seperator next to the comma for openttd.cfg (r4490)
* Feature: Add support for electric [[en/Manual/Base Set/Railways]] as a seperate tracktype. Electric trains will not run on non-electrfied track unless otherwise controlled by patch option (elrails) (r4150)
* Feature: A new multi-lingual multi-measuring-unit system (r4126)
* Feature: Add proper OPENTTD <> LOCALCODE conversion using iconv. Savegames with special characters will be legible in filesystem (r4105)
* Feature: Undraw the mouse when it leaves the window and draw it again when it enters (r4075, r4083)
* Feature: It is now possible to turn a single unit in a train (CTRL+Click on unit in depot) (r3944)
* Feature: Delete news items about vehicles when they get stale (r3757)
* Feature: Save patch settings with the savegame so you are presented with the same behaviour when loading the game on another machine/installment (r3726)
* Feature: Add 2cc (two [[en/Archive/Manual/Company Colours]]) livery schemes. This replaces the original colour selection window (r3717, r6455)
* Feature: [OSX] Added support for tripple binaries (binaries optimised for G3, G5 and i686) (r3674)
* Feature: Allow autoreplacing of train wagons (r3535)
* Feature: Allow sorting of vehicle lists by model or value (r3528)
* Feature: Allow trains details view to be resized (r3521)

==List of Bugfixes==
* Codechange: Allow standard ini-file style comments (Wink (r6972)
* Codechange: Send server messages with format NETWORK_ACTION_SERVER_MESSAGE so it is general colour like the rest of the server messages. Spectators speak in grey (r6932)
* Codechange: Change textmessage format a bit. Only the sender's name and target are in the sender's colour, the actual message is in white. Should improve readability (r6932)
* Codechange: Add an MD5 sum check of our own data files, and warn if they don't match (r6921)
* Codechange: Add strict bounds checking in string formatting system to check for possible buffer overflows (r6884)
* Codechange: Have the dropdown menus fall fully inside the top toolbar (r6745)
* Codechange: Determine the length of the main toolbar dropdown list based on the length of the strings in that list (r6744)
* Codechange: When vehicles never expire they will stay at peak reliability instead of the lowest to make them useful even when old (r6681)
* Codechange: Show more correct capacity of articulated wagons in the train purchase list (r6650)
* Codechange: When showing tooltips, properly position the tooltip taking into account window dimensions and cursor (r6405)
* Codechange: Speed up the animated cursors a bit so they move once in a while at least (r6367)
* Codechange: Remove the "unsorted" vehicle sorter, because it's plain useless (r6270)
* Codechange: Remove MSVC6 support. The compiler was too stupid and too many workarounds were needed. Please switch to mingw or VC2005++ express (r5286)
* Codechange: Allow a switch in Makefile.config to disable threads in OpenTTD (r5978)
* Codechange: [win32] Add native x64 target to VS2005 project files (r5813)
* Codechange: [win32]The exception dialog showed the last modification-date of win32.c instead of the last compilation-date (r5801)
* Codechange: Add owner attribute to canals and locks. This makes them more useful in multiplayer games, as only the owner can delete them. Does not affect usage (r5084)
* Codechange: [OSX] Shark (Xcode's profiling tool) can now relate CPU usage to lines (r3611)
* Codechange: Rewrite the multistop slot assignment system. More resource-friendly, several slot-assignment improvements (r3730, r4259)
* Codechange: Completely remove the deprecated -p parameter (is superseded by -n) (r3508)
* Fix: Town ratings were not reset when a company went bankrupt (r7433)
* Fix: With realistic acceleration, guarantee a minimum braking force is applied. This ensures trains will stop when going down hill (r7425)
* Fix: Changed "kick off" acceleration resulted in only a small amount of power being applied; this resulted in a perceived delay before trains moved. (r7421)
* Fix: Long delay for message windows to appear. Immediately show a new message if present if no news window is open, or has just been closed instead of waiting for the timer of the current news to time out [FS*255] (r7402)
* Fix: Deleting Train in depot with autoreplace fails [FS*418] (r7385)
* Fix: Don't update vehicle images when turning a train around. During this procedure the train is split into parts which can result in incorrect images being used (r7378)
* Fix: OpenTTD could crash under certain circumstances when a vehicle as autoreplaced and a news window was open [FS*332] (r7368)
* Fix: Segmentation fault in the SDL video driver when one goes to fullscreen and there are no suitable resolutions (r7332)
* Fix: When loading a game from a dedicated server the local player set to 0, theoretically enabling the dedicated server to also play (r7312)
* Fix: TTDPatch vars are little endian (r7282)
* Fix: Always display the excavation of roadworks even when fully zoomed out or "full details" are off (r7240)
* Fix: Window allocation and deletion messed with the actual window pointer, possibly crashing OpenTTD [FS*350, SF*1560913] (r7205)
* Fix: Callback not executed for non-player based patch changes in multiplayer for all clients; possible desync issue (r7190)
* Fix: Station sign (and base station coordinates) didn't move along with station when station moved by walking. [FS*388] (r7169)
* Fix: MiniMap was misplacing vehicles sometimes [FS*402] (r7166)
* Fix: Some mouse events possibly lost under high CPU load, handle mouse input right away instead of waiting for GameLoop. [FS*221, SF1168820] (r7157)
* Fix: Some keyboard events possibly lost under high CPU load, handle keyboard input in place instead of global variables magic. [FS*279] (r7153)
* Fix: "Position of Main Toolbar" option isn't honored when starting new game or loading saved [FS*172] (r7130)
* Fix: Synchronize the engine-renew settings of a player when joining a multiplayer game (r7126)
* Fix: Several errors/glitches related to multiplayer and bankrupcy (mainly server), and non-updated company-information (r7125)
* Fix: Cloning a vehicle that has been refitted would incur the expense as running costs, not new vehicles [FS*371] (r7115)
* Fix: Do not let ships enter partial water tiles under bridges; they will travel up land... (r7110)
* Fix: AI tried to build road from the back or side of road stop/depot (r7069)
* Fix: Zooming out near map-borders would previously fail because the new centre would be outside the map [FS*317] (r7047)
* Fix: 'Goto' button in orders window got depressed along with all other buttons when an existing order was modified [FS*311] (r7046)
* Fix: Scenario bridges/tunnels cannot be demolished [FS*200] (r7028)
* Fix: Pressing F1 in scenario editor did not work (r7023)
* Fix: Properly guard against viewing company-sensitive information from invalid players (eg spectators) which could lead to crashes [FS*292] (r7022)
* Fix: In the replace vehicle window, the left vehicle list was not drawn when an engine was not selected (r7009)
* Fix: Crash at game end when server company is bankrupt [FS*369] (r7008)
* Fix: List of actions panel in the town authority window went underneath its scrollbar (r6885)
* Fix: Pressing ^D (EOF) at a dedicated console caused it to repeat the last command, instead of doing nothing (r6835)
* Fix: Don't add up running cost of articulated engine parts (r6765)
* Fix: If a rail is not available, don't show toolbar even with hotkey 'A' (r6740)
* Fix: Only apply the virtual transfer profit if the order is a transfer order, rather than to any unload order (r6738)
* Fix: Disable main toolbar buttons showing company list drop downs when there are no companies [FS*356] (r6695)
* Fix: Autoreplace can now use the money for selling the old vehicle to build the new one (r6640)
* Fix: A loop-hole that allowed docks to be built regardless of town authority rating (r6477)
* Fix: [win32] The dedicated server could overwrite the keyboard input buffer before it was handled by OpenTTD (r6449)
* Fix: Reset the location of the last sound as that location can be outside the map when you are loading another, (smaller) map (r6437)
* Fix: Show an error message when executing 'scrollto x' with x < 0 or >= MapSize() instead of asserting later on [FS*340] (r6435)
* Fix: Station catchment area persists after switching tools [FS*136] (r6368)
* Fix: Do not reset the current cursor action when centering on a depot/hangar (r6360)
* Fix: Go to hangar orders for aircraft could get spuriously removed when a road or rail depot got deleted (r6355)
* Fix: Due to some off-by-one errors the width or height of a clipping rectangle could become 0, which isn't sensible. This should fix a very rare and hard to trigger assertion in GfxFillRect() (r6351)
* Fix: Never allow scrolling the map in the main menu (scroll-settings weren't reset if switched to mainmenu) (r6037)
* Fix: Never set I-am-a-thread bool to true IN the thread, dual-core machines could flip [FS*78] (r5977)
* Fix: Town-growth removed houses under construction to make way for road; unwanted behaviour [FS*49] (r5970)
* Fix: Cloned road vehicles are not refitted to correct cargo [FS*275] (r5917)
* Fix: Bugfix for errors in FindNearestHangar function in aircraft_cmd.c [FS*235] (r5914)
* Fix: Sort order for produced amount and transported percentage was reversed in the industry list (r5912)
* Fix: Changing patch settings through the console didn't accept on/off or true/false [FS*170] (r5903)
* Fix: Differing price calculation for tunnels depending on starting point [FS*253] (r5901)
* Fix: Goto depot not always working for road vehicles [FS*249] (r5898)
* Fix: Bus trying to service in depot of other company [SF1519167] (r5897)
* Fix: If vehicles break down and service is turned off, the vehicles failed to enter any depots; now they will quickly go to a depot if set to be replaced (r5888)
* Fix: Incomplete removal of player owned property due to lack of money [FS*273] (r5886)
* Fix: < > boxes in patch-settings didn't grey out when they hit the limit of their range (r5714)
* Fix: Check the configuration file for valid values and clamp them to their ingame minimum/maximum [SF1288024] (r3726)
* Fix: Remove the restriction that the 'patch' console command can only be run from network games [SF1366446] (r3723)

==Changes in RC2 since RC1==
General Removed support for OSX older than 10.3.9. Either upgrade, or use 0.4.8 (compatible with OSX 10.2) 

* Codechange: Drastically reduce the CPU usage in certain cases (AI using CheckStationSpreadOut()) (r7585) 
* Fix: Internal bug in updating the animated_tiles table caused desyncs between (different endian) machines in MP (r7631) 
* Fix: Signal update got propagated through incompatible railtypes and under certain circumstances tunnels and rail on top (r7620) 
* Fix: Remove landscaping toolbar option from road consturction toolbar in scenario editor [FS#473] (r7586) 
* Fix: The server could under certain circumstances tell a client too late to start syncing if it has been waiting to join (r7566) 
* Fix: Removing towns in scenario editor didn't remove their subsidies causing possible crashes [FS#468] (r7563) 
* Fix: Internal and (patches) GUI were disagreeing about autorenew settings [FS#431] (r7561) 
* Fix: No new company could be created if more than 8 clients were connected, even if not all 8 companies were used (r7560) 
* Fix; Clicking 'full load' could under certain circumstances change the current depot order [FS#456] (r7559) 
* Fix: Do not wait till a crashed vehicle is removed before starting to load other vehicles [FS#464] (r7558) 
* Fix: MorhpOS compile and install fixes (r7548) 
* Fix: Removing rail station cost was calculated on occupied area not on number of tiles with an actual station on (r7547)

===List of fixes that affected RC1 or were not present in 0.4.8 and have been fixed in the RC2===

* Feature: newstations: add support for variables 45 and 65 
* Fix: [win32] x64 didn't compile (bad project file settings) 
* Fix: make install installs openttd.32.bmp so SDL window has OpenTTD icon 
* Fix: OSX libfontconfig issues solved (is now statically linked) 
* Fix: some MorphOS changes to get OpenTTD compiled, packaged 
* Fix: segmentation fault when clicking showing servers's newgrf files in MP 
* Fix: sction 0xE doesn't deactivate current grf if GRFID is that of the currently active grf 
* Fix: 'screenshot no_con' didn't remove console from screenshot 
* Fix: [win32] window_maximize not always remembered (buggy windows API) 
* Fix: wrong bounding boxes computed for strings with {SETX} causing too-wide dropdown menus 
* Fix: 'goto depot' didn't work for helicopters going to an airport without depot 
* Fix: [yapf] surpress 'train is lost' message if pathfinding ended on the first two-way red signal

==Changes in RC3 since RC2==

* Codechange: Add Lithuanian language as an official translation (r7806) 
* Fix: The configure script did not work work for dash, a sh compatible shell [FS#485] (r7893) 
* Fix: [OSX] control + enter no longer fullscreens, interfered with team-chat (r7886) 
* Fix: Offset engines/wagons by half width in details window; fixes overflowing for display (r7864) 
* Fix: [OSX] Remove incorrect debug message about missing grf files. (r7766) 
* Fix: [sdl] sometimes ALT-TAB could trigger the fast forward (r7727) 

===List of fixes that affected RC2 or were not present in 0.4.8 and have been fixed in the RC3===

* Fix: Only update the signals and YAPF cache on a DC_EXEC action for bridge-building (r7936) 
* Fix: wrong TTDPatch GRF flag was set for gradual loading (r7930) 
* Fix: News windows could still crash due to moving news items around while a news window was still open. (r7823, r7861) 
* Fix: rail station build window was not correctly updated after station_spread change (r7812) 
* Fix: Building airport whose size exceeds max station spread-out caused assert. (r7810) 
* Fix: NewGRF safety scan fixes action E (allow unifont.grf) and Action 0 prop D (bridge) (r7795, r7831) 
* Fix: Sprite usage debug message showed the starting sprite, not current sprite, and only do this during activation (r7760). 
* Fix: off-by-one error in the date to YMD calculation for first 4 years of a century that was not divisable by 400 (r7731) 
* Fix: Bad signal propagation through tunnel-ends, incompatible railtype signal propagation still possible (not fixed). (r7716, r7717, r7718) 
* Fix: OpenTTD didn't compile without network enabled (newgrf sync code) (r7692) 
* Fix: NewGRF Action 7, GRF check condition 10 didn't ignore unknown GRF IDs (r7354) 
* Fix: Caret randomly jumping back&forth for new randomseed (r7182)

==Changes in RC4 since RC3==

* Feature: Increase spritecache size to 2MB, will increase performance in games using newgrf files (r8218)
* Feature: OS/2 support with GCC (Watcom is dropped) (r8042)
* Codechange: Add Japanese, Slovenian language as an official translation and split Norwegian into Bokmal and Nynorsk (r7987, r8084, r8069)
* Codechange: Show error messages about our own data files as a popup, or to stderr if console is available (and not to stdout) (r8013, r8134)
* Codechange: Change the ordering of the network list, compatible servers just missing grf files are below fully compatible servers, not on the bottom (r8118)
* Fix: Return proper error value when unthreaded save fails, prevents server sending 0-sized files (r8171)
* Fix: Network client crashes when a server sends a 0-sized savegame [FS#556] (r8167)
* Fix: Several desync fixes (incorrect roadstop update of old games, autoreplace bugs) [FS#551] (r8137, r8147, r8157)
* Fix: Some disaster-events fixed: combat chopper shoots from right position, submarine once again moves around (r8140, r8158)
* Fix: "out of sprite memory" warning messages due to incorrect assumption of requested memory for sprites (r8133)
* Fix: Bouys are now built and numbered 1..9 not 9..1 [FS#538] (r8123)
* Fix: Clicking for more news properly cycles through the news history backwards, and doesn't show the first item doubly if it's already open (r8049)
* Fix: Crash when removing a town in the scenario editor while the query window is open for one of the town's tiles (r8030)
* Fix: Overflow of system-ticks was not handled properly, resulting in a possibly unresponsive server/client (r8028)
* Fix: Automatic pause interfering with 'pause_on_join setting' in MP when <shift> is pressed [FS#486] (r8027)
* Fix: Picking up en-route cargo will also have virtual profit deducted for trains aswell (r8026)
* Fix: Out-of-bounds read access on _clients array (harmless) (r7984) 

===List of fixes that affected RC3 or were not present in 0.4.8 and have been fixed in the RC4===

* Codechange: MSVC solution files will make openttd THE startup project (r8112)
* Codechange: Add the ability to load savegames without matching grf's. ONLY allow games with matching GRFID's (and non-matching MD5SUM) to be loaded; missing is still denied as it can crash OpenTTD (r8106)
* Codechange: The station list does now remember the sort settings (r8065)
* Fix: Apply railtype offset to station graphics if no custom station is in use, shows maglev graphic for maglev station [FS#557] (r8186)
* Fix: ParseConnectionstring didn't use the port parameter if a player was also specified (r8168)
* Fix: Do not assert when removing duplicates would remove non-static grf (r8135)
* Fix: The game could crash when the chat key (<ENTER>) is pressed too quickly during join in MP (r8132)
* Fix: Uninitializing windows calls WE_DESTROY to free dynamic memory used, cut down on memleaks (r8101, r8119)
* Fix: Show the activated status of the GRF after pressing apply in window (r8094)
* Fix: [win32] *nprintf functions are broken, 'len = count' wasn't handled, now string is always null-terminated (r8089, r8090)
* Fix: Float division by 0 in YAPF code on Win9x (r8079, r8080)
* Fix: Heightmap crashes when rescaling, or using 24bpp bitmaps [FS#537] (r8070, r8074)
* Fix: Inauguration date of companies from TTDP games was wrong [FS#536] (r8071)
* Fix: One more news-window crash fix (r8049)
* Fix: Segfault in the newgrf loading code when using certain newgrf files (r7979) 

==See also==
Changes after release: [[en/Archive/Lists/New Features Since 0.5.0]]

Original roadmap: [[en/Archive/Lists/Roadmap 0.5]])

==Forum links==

* [http://tt-forums.net/viewtopic.php?p=532327 OpenTTD 0.5.0 RC1 forum thread]
* [http://tt-forums.net/viewtopic.php?p=535834 OpenTTD 0.5.0 RC2 forum thread]
* [http://tt-forums.net/viewtopic.php?p=539340 OpenTTD 0.5.0 RC3 forum thread]
* [http://tt-forums.net/viewtopic.php?p=543263 OpenTTD 0.5.0 RC4 forum thread]
* [http://tt-forums.net/viewtopic.php?t=30344 OpenTTD 0.5.0 RC5 forum thread]
* [http://tt-forums.net/viewtopic.php?t=30669 OpenTTD 0.5.0 (final) forum thread]