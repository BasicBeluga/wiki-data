{{en/-}}
{{en/Archive/OpenTTD/Navigation}}
{{en/Archive/OpenTTD/NaviPrevNext|prev=en/Archive/OpenTTD/OpenTTD 1.3.3|next=en/Roadmap 1.5|date=TBA}}

You can download this release from [http://www.openttd.org/en/download-testing/1.4.0-beta3 openttd.org].

==Major new features==
* [[en/Manual/Passenger and cargo distribution]]
* [[en/GoalScript|NoGo]] improvements
* [[en/NewObject]] improvements
* Windows can remember their size
* Specialised [[en/Archive/Source/Blitter]]s for extra speed
* Bug fixes

==Changelog==
===1.4.0-beta3 (2014-01-21)===
* Feature: Several small performance improvements with the SSE blitters (r26260, r26259, r26256, r26255, r26254)
* Feature: [NewGRF] Add StringCodes 9A 1B, 9A 1C and 9A 1D to display amounts of cargo (r26244)
* Fix: Do not run into infinite recursion when getting next stopping station {{en/Flyspray|5865}} (r26267, r26263)
* Fix: Update smallmap overlay if player joins different company and make sure company masks are valid {{en/Flyspray|5860}} (r26266)
* Fix: Do not rebuild the link graph overlay cache twice in a row (r26265)
* Fix: Custom currency was reset on game start (r26262)
* Fix: Possible out of bounds reads with the sse blitters {{en/Flyspray|5854}}, {{en/Flyspray|5855}} (r26247)
* Fix: Do not overreserve after autorefit, but do reserve mail for aircraft (r26236)
* Fix: Decimal and digit separators were swapped for Korean language (r26235)


===1.4.0-beta2 (2014-01-07)===
* Feature: Blitter autoselection is now based on full animation state, so a non-animated specialised blitter will generally be chosen when animation is turned off (r26217)
* Feature: Specialised animated SSE4 blitter, and non-animated SSE4.1, SSSE3 and SSE2 blitters, improving the blitting significantly in many situations (r26214, r26213, r26212, r26211)
* Feature: Specialised SSE 4.1 sprite sorter, improving the sorting performance significantly (r26205)
* Fix: Validate everything from ini, obg, obs, obs, ... files {{en/Flyspray|5829}} (r26206)
* Fix: Allow refitting at station if cargo has already been reserved (r26187)
* Fix: Visual effects did not work for articulated RV parts (r26180)

===1.4.0-beta1 (2013-12-24)===
* Feature: [NewGRF] Vehicle variable 4D for determining the position within an articulated vehicle (r26157)
* Feature: [NewGRF] Invalidate vehicle colour palette when leaving a station {{en/Flyspray|5669}} (r26027)
* Feature: [NoGo] New goal type that show a story page when clicked (r26012)
* Feature: Optional filter parameter to the 'content state' console command, to limit the content list to only content where the name match the filter (r26000)
* Feature: When calling the 'content select' console command without args, display all selected content (r25999)
* Feature: XDG base directory support {{en/Flyspray|5385}} (r25975)
* Feature: [Script] ScriptTown::GetFundBuildingsDuration (r25969)
* Feature: [Script] ScriptTown::TOWN_GROWTH_NONE to indicate no town growth via ScriptTown::SetGrowthRate and GetGrowthRate (r25968)
* Feature: [NoGo] GSTown::TOWN_GROWTH_NORMAL to reset a town growth rate set previously via GSTown::SetGrowthRate (r25967)
* Feature: [NewGRF Debugging] Inspecting other vehicles in a chain (r25946)
* Feature: [NewGRF] Object property 0x18 to allow specifying the number of objects of that type being placed upon map creation (r25878)
* Feature: [NewGRF] Object property 0x10, bit 13 indicating that object amount scales with water content of map border (e.g. used for lighthouses) (r25874)
* Feature: Highlight active goto item in order list dropdown {{en/Flyspray|5784}} (r25859)
* Feature: [Admin] Send info on bankruptcy quarters also in ADMIN_PACKET_SERVER_COMPANY_INFO {{en/Flyspray|5756}} (r25845)
* Feature: Increase maximum number of object instances on the map from 64k to about 16M (r25844)
* Feature: Increase the total number of object types from 256 to 64000 (r25835)
* Feature: [NewGRF] Increase the object class limit from 32 to 255 (r25831)
* Feature: Toggle button for wrapping lines in the textfile GUI {{en/Flyspray|5748}} (r25816)
* Feature: [NoGo] Game Scripts can now charge fees and give money to companies (r25788)
* Feature: [Script] Allow AIs and GS to found towns. Allow GS to rename towns (r25785)
* Feature: Add keywords to the openttd.desktop.in file (r25783)
* Feature: Sticky and shade buttons for jukebox window {{en/Flyspray|5743}} (r25776)
* Feature: Additional layered main toolbar arrangements (r25772)
* Feature: Allow implicit orders even if no explicit ones are given (r25735)
* Feature: [OSX] Pinch gesture support for zooming {{en/Flyspray|4760}} (r25666)
* Feature: Split unit localisation choice into a choice per type of unit, and move it to the advanced settings (r25508)
* Feature: Have tractive effort in imperial (lbf) and metric (kgf) units, have weights and volumes in imperial units (short tons, gallons) {{en/Flyspray|5482}} (r25508)
* Feature: Differentiate between total waiting cargo count and available (not reserved) cargo count in the station list and sort based on the cargo count, not the cargo value (r25405)
* Feature: Timetable spreading of vehicles by Ctrl+Click when setting a start date (r25377)
* Feature: Allow opening a goal list and story window specific to a company (r25372, r25369)
* Feature: Show cargo by next hops and final destinations in the station GUI (r25365)
* Feature: Consider cargo waiting at other stations for rating at the origin station (r25362)
* Feature: Distribute cargo according to plan given by linkgraph (r25361)
* Feature: [NoGo] GUI for viewing story pages (r25344)
* Feature: Add industry list to scenario editor's map menu (r25335)
* Feature: [NoGo] Allow more concurrent goals in a game (r25299)
* Feature: [NoGo] Goals can now have a progress text and/or be marked as completed (r25296)
* Feature: Allow saving window sizes as default sizes (r25295)
* Feature: Add another button to window title bars to resize the window to its default size (r25294)
* Feature: Save stickyness of windows when Ctrl+Clicking the sticky button (r25292)
* Feature: When opening the object-build window, restore the object build-window to the previous state (r25284)
* Feature: Show the approximate monthly supply to a station of the different cargoes (r25272)
* Feature: [Win32] Driver param for the DirectMusic driver to specify the ouput port to use {{en/Flyspray|5552}} (r25269)
* Feature: Linkgraph overlay over main viewport (r25264)
* Feature: Linkgraph overlay for smallmap (r25262)
* Feature: Display imminent closure of an industry in its view window (r25238)
* Feature: [NewGRF] Expose sprite base of foundation and shore sprites via Action D Game Variables (r25230)
* Feature: [NewGRF] Variable 0x82 for canals and rivers (dike map) (r25229)
* Feature: [Script] ScriptStation::HasRating {{en/Flyspray|5514}} (r25150)
* Feature: Add sorting on rating for the town directory window {{en/Flyspray|5288}} (r25097)
* Feature: Introduce dropdown for selecting the sort criterion in the town directory window (r25094)
* Feature: Georgian Lari and Iranian Rial as currencies {{en/Flyspray|5212}} (r25076)
* Feature: Collapse subtypes in the refit GUI and only expand them after selecting the cargo type (r25044)
* Feature: Only display subtypes in the refit GUI which are available for all selected vehicles. Also add a generic list item to refit while keeping the subtypes of individual vehicles {{en/Flyspray|3764}} (r25043)
* Feature: Show the amount of cargo that has already been reserved by full loading vehicles in the station (r25013)
* Change: [NewGRF] Reset the temporary storage registers for every sprite resolving (r26173)
* Change: Improve layout of build-airport GUI {{en/Flyspray|5832}} (r26165)
* Change: Make it slightly more clear what ports are coming from where in the debug output when listening (r25997)
* Change: Preselect the current replacement in the right-side list of the autoreplace GUI, instead of selecting the first resp. previous item {{en/Flyspray|5734}} (r25919)
* Change: Unify behaviour when clicking on different items in the goto dropdown list when giving orders (r25894)
* Change: Do not offer subsidies for auto-distributed cargo {{en/Flyspray|5766}} (r25882)
* Change: Allow to remove unowned objects unless they have the 'unremovable' flag (r25879)
* Change: In scenario editor allow to build all objects which were available at any point in the past to support building scenarios with historic items (r25875)
* Change: Display the cost to upgrade a bridge at the end of bridge that was clicked and not the other end, which could be outside of the screen in some cases (r25854)
* Change: [NewGRF] Lower the limit of airport tile types, house types, indurstry tile types and object types per NewGRF from 256 to 255 to prevent usage of ID 0xFF in Action3, and thus allowing it to become an extended byte somewhen (r25841, r25839, r25837, r25834)
* Change: Clarify the relevance of the permissible palettes (r25792)
* Change: [NewGRF] Invalidate vehicle recolour palette during (un)loading {{en/Flyspray|5669}} (r25648)
* Change: If an editbox is configured to be cleared with ESC, but the editbox is already empty, unselect the editbox instead (r25647)
* Change: Make the bridge and object picker not restore their previous size, but the previously saved size (r25543)
* Change: Right align the infrastructure statistics {{en/Flyspray|5595}} (r25515)
* Change: Clarify the meaning of the server advertisement settings (r25252)
* Fix: Unify the time a RV needs to travel through a curve {{en/Flyspray|5831}} (r26169)
* Fix: Certain hotkeys crashed the content GUI when the list was empty {{en/Flyspray|5834}} (r26167)
* Fix: Backup data of altered persistent storage arrays was freed twice {{en/Flyspray|5830}} (r26161)
* Fix: [Script] Various API functions did not check whether ScrtipRoad::SetCurrentRoadType was called appropiately {{en/Flyspray|5825}} (r26149)
* Fix: [Script] API failed for vehicles with only implicit orders {{en/Flyspray|5824}} (r26148)
* Fix: Several fixes found by static code analysis (r26132, r26130-r26097, r26091-r26077, r26073-r26046)
* Fix: Invalidate vehicle colour palette again when rearranging consist, reversing, etc (r26026)
* Fix: [NoGo] Properly validate the range of the growth rate passed to GSTown::SetGrowthRate, instead of masking it to 16 bit (r25966)
* Fix: [Admin] The frame of a command packet was not set for the packets that were sent via the admin interface (r25770)
* Fix: [OSX] The new 10.7 fullscreen code can now also be compiled with older SDK versions {{en/Flyspray|4744}} (r25657)
* Fix: Under certain circumstances a track type change would make the end-of-line-is-red setting ineffective {{en/Flyspray|5216}} (r25609)
* Fix: Highlight the right entry in the sorting selector in station view window (r25426)
* Fix: Suppress focussing editboxes which are not visible (r25413)
* Fix: Add missing compatibility settings in afterload (r25390)
* Fix: Allow changing GS settings in-game via the AI/GS config window {{en/Flyspray|5507}} (r25104)
* Fix: [NewGRF] Do not compare GRF local cargo subtype IDs from different GRFs (r25042)
* Remove: Ordered refit with subtypes, since the cases where it worked were corner cases rather than the general case {{en/Flyspray|3764}} (r25041)

==See Also==
* {{en/Forum|topic=69689|Forum topic for 1.4.0-beta1}}
* {{en/OTTDNewsArticle|192|The 1.4.0-beta1 news article}}