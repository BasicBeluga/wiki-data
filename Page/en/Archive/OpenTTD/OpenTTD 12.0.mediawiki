[[Translation:en/Archive/OpenTTD/OpenTTD 12.0]]

{{en/-}}
{{en/Archive/OpenTTD/Navigation}}

{{en/Archive/OpenTTD/NaviPrevNext|prev=en/Archive/OpenTTD/OpenTTD 1.11.2|next=en/Archive/OpenTTD/OpenTTD 12.1|date=2021-10-17}}

You can download this release from [https://cdn.openttd.org/openttd-releases/ openttd.org].

==Major new features==

==Changelog==

===12.0 (2021-10-17)===
*Add: [Network] Keep the refresh button in lowered state while refreshing ({{en/GHIssue|9600}})
*Add: Console command to list search directories for various things ({{en/GHIssue|9583}})
*Fix: Try all possible reverse directions when a ship reaches a dead end ({{en/GHIssue|9610}})
*Fix: Incorrect Romanian own name ({{en/GHIssue|9598}})
*Fix {{en/GHIssue|9591}}: Update station docking tiles upon placing a water object on a docking tile ({{en/GHIssue|9594}})
*Fix {{en/GHIssue|9548}}: [Squirrel] Crash during engine cleanup after reaching memory limit on realloc ({{en/GHIssue|}}9592)
*Fix {{en/GHIssue|9588}}: [Squirrel] Reaching memory limit during script registration could prevent further script detections ({{en/GHIssue|9589}})
*Fix: Make ships more likely to find their destination at the cost of slightly worse paths ({{en/GHIssue|9576}})
*Change: Reverse ship when leaving docks if a better path exists ({{en/GHIssue|9610}})
*Change: Allow all tiles around docks to be docking tiles ({{en/GHIssue|9578}})


===12.0-RC1 (2021-09-25)===
*Feature: Display icon/text whether vehicle is lost in vehicle (list) window ({{en/GHIssue|9543}})
*Feature: [MacOS] Add selected toolbar buttons to MacBook Pro Touch Bar ({{en/GHIssue|9511}})
*Feature: Button to open order window from vehicle shared orders window ({{en/GHIssue|9325}})
*Feature: Ctrl-Clicking shared order vehicle list opens order window ({{en/GHIssue|9325}})
*Feature: Multiple rotating views on title screen ({{en/GHIssue|8980}})
*Feature: Hide block signals in GUI by default ({{en/GHIssue|8688}})
*Add: [Script] Allow GameScripts to build neutral objects ({{en/GHIssue|9568}})
*Add: [Network] Allow sending chat messages via admin port ({{en/GHIssue|9563}})
*Add: [AI/GS] Missing water related functions and objects ({{en/GHIssue|8390}})
*Fix: Industry funding window did not update when changing funding method ({{en/GHIssue|9572}})
*Fix {{en/GHIssue|9562}}: [NewGRF] Handle case of invalid Action2 with zero results ({{en/GHIssue|9564}})
*Fix: Incorrect error messages when placing water in scenario editor ({{en/GHIssue|9560}})
*Fix {{en/GHIssue|9484}}: Update locale currencies settings config map ({{en/GHIssue|9559}})
*Fix: Prevent train reversing when entirely inside a train depot ({{en/GHIssue|9557}})
*Fix: [Network] Add back 'Spectate' option to company toolbar menu ({{en/GHIssue|9556}})
*Fix {{en/GHIssue|9463}}: [Win32] Work around XAudio2 crashes ({{en/GHIssue|9549}})
*Fix {{en/GHIssue|8603}}: Don't give focus to text filter when opening Object GUI ({{en/GHIssue|9547}})
*Fix {{en/GHIssue|9241}}: Grove and forest tree brushes did not also create rainforest terrain ({{en/GHIssue|9542}})
*Fix: [Network] Several crashes in our network code ({{en/GHIssue|9534}}, {{en/GHIssue|9456}})
*Fix {{en/GHIssue|9527}}: Crash when trying to place multi-tile objects at map edge ({{en/GHIssue|9529}})
*Fix: [Network] SendCmdNames only sent one name per packet ({{en/GHIssue|9528}})
*Fix {{en/GHIssue|9407}}: Desync when founding a town nearby a station ({{en/GHIssue|9526}})
*Fix {{en/GHIssue|9521}}: Don't load at just removed docks that were part of a multi-dock station ({{en/GHIssue|9524}})
*Fix: Ships always tried to avoid docking tiles when pathfinding (even if nothing was on them) ({{en/GHIssue|9522}})
*Fix: [Network] Convert server_advertise to server_game_type in config file ({{en/GHIssue|9515}})
*Fix {{en/GHIssue|9490}}: [Network] A full server couldn't be queried ({{en/GHIssue|9508}})
*Fix: [Network] Don't show GameScript " (v0)" for old servers ({{en/GHIssue|9507}})
*Fix: [Network] Show query errors in the server listing instead of error popup ({{en/GHIssue|9506}})
*Fix: [Network] Crash when last-joined server was no longer available ({{en/GHIssue|9503}})
*Fix {{en/GHIssue|9501}}: [Network] Crash when more than one game-info query was pending ({{en/GHIssue|9502}})
*Fix: Wrong error message when building canals over ship depots / locks ({{en/GHIssue|9410}})
*Fix: Reduce cost of building canals over objects on sea ({{en/GHIssue|9410}})
*Change: [Linkgraph] Delete links only served by vehicles stopped in depot ({{en/GHIssue|9499}})


===12.0-beta2 (2021-08-19)===
*Feature: [Linkgraph] Prioritize faster routes for passengers, mail and express cargo ({{en/GHIssue|9457}})
*Fix: Wrong town window refreshed when building an airport with noise levels enabled ({{en/GHIssue|9497}})
*Fix: Improve wording of network-related messages ({{en/GHIssue|9494}}, {{en/GHIssue|9495}}, {{en/GHIssue|9500}})
*Fix: [Network] Report reuse of invite-code ({{en/GHIssue|9487}})
*Fix: [Network] Connecting with the same client name thrice hangs the server ({{en/GHIssue|9485}})


===12.0-beta1 (2021-08-15)===
*Feature: [Network] Remove lobby window; pressing "Join Game" now immediately joins a server ({{en/GHIssue|9467}})
*Feature: [Network] Synchronize server name to clients and display in Online Players window ({{en/GHIssue|9472}})
*Feature: [Network] Mention you are a spectator in the status bar ({{en/GHIssue|9471}})
*Feature: [Network] No longer require port-forwarding to host a server ({{en/GHIssue|9443}}, {{en/GHIssue|9447}})
*Feature: [Network] Allow setting your server visibility to "invite-only" ({{en/GHIssue|9434}})
*Feature: [Network] Join servers based on their invite code ({{en/GHIssue|9432}})
*Feature: Raise the maximum NewGRF limit to 255 ({{en/GHIssue|9428}})
*Feature: Persistent rotation of numbered auto/netsave after restart ({{en/GHIssue|9395}}, {{en/GHIssue|9397}})
*Feature: [NewGRF] Maximum curve speed modifier for rail vehicles ({{en/GHIssue|9346}})
*Feature: Move sensitive information to secrets.cfg and private information to private.cfg ({{en/GHIssue|9298}})
*Feature: Signed Windows builds ({{en/GHIssue|9294}})
*Feature: [NewGRF] Define refittability of default vehicles using cargo classes ({{en/GHIssue|9148}})
*Feature: Configurable subsidy duration, up to 5000 years ({{en/GHIssue|9081}})
*Feature: [Network] Rework in-game Online Players window ({{en/GHIssue|9067}})
*Feature: [Network] Show previous chat history when the chat message box is open ({{en/GHIssue|9025}})
*Feature: Button to reset game settings to their default values ({{en/GHIssue|8958}})
*Feature: Press Ctrl to build diagonal rivers in Scenario Editor ({{en/GHIssue|8880}})
*Feature: Set wagon replacement per group when using autoreplace ({{en/GHIssue|7441}})
*Add: [Network] Open Online Players window on starting/joining a server ({{en/GHIssue|9479}})
*Add: [Script] Basic information about loaded NewGRFs for scripts ({{en/GHIssue|9464}})
*Add: [AI] Get the number of vehicles in a given group ({{en/GHIssue|9462}})
*Add: [Network] Inform network clients what game-script a server is running ({{en/GHIssue|9441}})
*Add: Hindi translation ({{en/GHIssue|9086}})
*Add: [Network] Ensure players fill in a name instead of defaulting to "Player" ({{en/GHIssue|9080}})
*Change: Allow pause/unpause console command in single player ({{en/GHIssue|9342}})
*Change: Make savegame format self-descriptive and consistent across all objects ({{en/GHIssue|9322}}, {{en/GHIssue|9335}}, {{en/GHIssue|9338}}, {{en/GHIssue|9339}})
*Change: By default, make "unload all" leave stations empty ({{en/GHIssue|9301}})
*Change: Reworked the debug levels and messages for network logs ({{en/GHIssue|9230}}, {{en/GHIssue|9251}})
*Change: [Emscripten] Set default scrolling mode to non-pointer-locking ({{en/GHIssue|9191}})
*Change: Use neutral pronouns for various strings ({{en/GHIssue|9189}}, {{en/GHIssue|9203}}, {{en/GHIssue|9228}})
*Change: Make the town directory horizontally resizable ({{en/GHIssue|9157}})
*Change: Allow non-ASCII currency separators ({{en/GHIssue|9121}})
*Change: [NewGRF] Display a pop-up window for Errors with severity ERROR ({{en/GHIssue|9119}})
*Change: Treat languages as finished, if translations are 75% completed ({{en/GHIssue|9019}}, {{en/GHIssue|9086}})
*Change: Disable NewGRF window apply button if no change was made ({{en/GHIssue|8934}})
*Fix: [Script] Crash when iterating lists of which the key is larger than 32bit ({{en/GHIssue|9465}})
*Fix: [Network] Desync due to use of unstable sort when distributing cargo production ({{en/GHIssue|9460}})
*Fix {{en/GHIssue|9440}}: Negative cargo payments not being handled correctly ({{en/GHIssue|9455}})
*Fix: [Network] Crash when joining a server again after a TCP disconnect ({{en/GHIssue|9453}})
*Fix: Don't enable rename button for network clients in build vehicle window ({{en/GHIssue|9452}})
*Fix: Money could underflow and wrap around ({{en/GHIssue|9451}})
*Fix: Parse the console settings the same way as config settings ({{en/GHIssue|9438}})
*Fix: Ensure no more than the allowed number of NewGRFs are loaded from the configuration ({{en/GHIssue|9430}})
*Fix: [NewGRF] Overflow when determining cargo mask for string code 9A 1E ({{en/GHIssue|9423}})
*Fix: Integers for scripts are 64bit, but saved as 32bit ({{en/GHIssue|9415}})
*Fix {{en/GHIssue|9392}}: [Script] Return a valid value with GetBuildWithRefitCapacity even when AIs are maxed out in vehicles ({{en/GHIssue|9393}})
*Fix {{en/GHIssue|8169}}: Crash when autoreplacing vehicle with no orders ({{en/GHIssue|9387}})
*Fix: Wrong cargo line position in IndustryCargo window ({{en/GHIssue|9383}})
*Fix: Race-condition during startup of NewGRF scan ({{en/GHIssue|9382}})
*Fix: Don't propagate Shift/Ctrl state till next game-tick ({{en/GHIssue|9381}})
*Fix: Prevent palette updates during copying to the video driver ({{en/GHIssue|9379}})
*Fix: [Network] Determining GetNetworkRevisionString could overflow and underflow its buffer ({{en/GHIssue|9372}})
*Fix {{en/GHIssue|9358}}: Don't skip empty files in tar archives ({{en/GHIssue|9367}})
*Fix: For old savegames, station bus/truck station cache was not updated ({{en/GHIssue|9366}})
*Fix {{en/GHIssue|9353}}: [Script] Garbage collecting on priority queues could crash the game ({{en/GHIssue|9356}})
*Fix: Respect the autosave_on_exit setting for Null video driver ({{en/GHIssue|9343}})
*Fix: Compatible NewGRFs in crash-log reported wrong MD5 hash ({{en/GHIssue|9340}})
*Fix: [Script] Ensure the saved script strings are properly validated and terminated ({{en/GHIssue|9336}})
*Fix {{en/GHIssue|9316}}: Town bridge length limit check incorrect above 250k inhabitants ({{en/GHIssue|9318}})
*Fix: Limit heightmap sizes to 8192x8192 ({{en/GHIssue|9307}})
*Fix {{en/GHIssue|9281}}: Money generating exploit when buying out a company ({{en/GHIssue|9300}})
*Fix: Part of a tile might not be redrawn when terraforming ({{en/GHIssue|9296}})
*Fix: [OpenGL] Increase timeout when waiting for the GPU to be done with the drawing buffer ({{en/GHIssue|9282}})
*Fix: Vehicles sent in the wrong direction if there is no path to the destination ({{en/GHIssue|9280}})
*Fix {{en/GHIssue|9264}}: Do not attach temporary wagons to free wagon chains when autoreplacing ({{en/GHIssue|9278}})
*Fix {{en/GHIssue|9267}}: [Script] Crash during garbage collection ({{en/GHIssue|9275}})
*Fix: Encountering two-way red signals could prune unrelated Pathfinder branches ({{en/GHIssue|9271}})
*Fix {{en/GHIssue|9255}}: [Network] Crash when hostname is not found ({{en/GHIssue|9259}})
*Fix {{en/GHIssue|9256}}: Invalid read after free when replacing train chains ({{en/GHIssue|9258}})
*Fix: [Emscripten] Force secure WebSockets over HTTPS ({{en/GHIssue|9248}})
*Fix {{en/GHIssue|9242}}: Tree tick handler did not scale by map size ({{en/GHIssue|9246}})
*Fix: [Network] Mark server as offline when no longer reachable ({{en/GHIssue|9244}})
*Fix: [Network] Don't rebuild the host-list during iterating the list ({{en/GHIssue|9240}})
*Fix: [Network] Don't mark the last-joined server as a manually added server ({{en/GHIssue|9239}})
*Fix: [Network] Clients leaving because of broken connections was not broadcasted ({{en/GHIssue|9238}})
*Fix: [Network] Check on CIDR for netmask check considered everything valid ({{en/GHIssue|9235}})
*Fix: Creating screenshots on dedicated servers failed ({{en/GHIssue|9232}})
*Fix: Leaking file descriptors for downloaded content ({{en/GHIssue|9229}})
*Fix: Spelling of several town names ({{en/GHIssue|9222}})
*Fix {{en/GHIssue|9209}}: Game hangs when resizing highscore/news window if the screen is too small ({{en/GHIssue|9210}})
*Fix: [Network] Optimize creating network connections for clients using IPv4 and IPv6 ({{en/GHIssue|9199}})
*Fix {{en/GHIssue|9186}}: Fix incorrect bounding box height causing station sprite glitch ({{en/GHIssue|9187}})
*Fix: Truncating strings in settings could leave invalid UTF-8 characters ({{en/GHIssue|9121}})
*Fix: Many issues related to window scaling ({{en/GHIssue|9087}}, {{en/GHIssue|9219}})
*Fix: Invalidate cached vehicle colourmaps when changing liveries setting ({{en/GHIssue|9006}})
*Fix {{en/GHIssue|8981}}: Don't attempt to re-reserve path if already entering/entered depot ({{en/GHIssue|9000}})
*Fix: Missing 'Town names:' colon in map gen GUI ({{en/GHIssue|8986}})
*Fix: Sorting and filtering industries that produce/accept many cargoes ({{en/GHIssue|8468}})
*Remove: [Network] COMPANY_INFO packets ({{en/GHIssue|9475}})
*Remove: [Network] A server can no longer set a limit to the amount of spectators allowed ({{en/GHIssue|9466}})
*Remove: Arbitrary limit on number of statically loaded NewGRFs ({{en/GHIssue|9431}})
*Remove: [Network] Language and map-name from server information ({{en/GHIssue|9070}})