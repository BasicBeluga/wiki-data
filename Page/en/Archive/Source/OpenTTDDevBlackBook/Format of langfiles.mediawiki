[[Translation:en/Archive/Source/OpenTTDDevBlackBook/Format of langfiles]]
== General Layout ==

Each entry of the langfile consits of exactly one line.

An entry is either translation, a pragma or a comment.

If you use the web translator tool, you only see translations.


The encoding is ISO-8859-15.

== Translations ==

Translations consist of a key and a translation. They are separated by a colon (:).

=== Keys ===

The key can only contain uppercase letters, numbers and the underscore (_). Each key starts with "STR_", followed by an optional 4-digit hex number and one or more well decribing words.

 STR_MAPSIZE
 STR_000F_PASSENGERS
 STR_SORT_BY_DATE
 STR_0196_SHOW_LAND_OWNERS_ON_MAP

==== Cases ====

After each key, there can be a custom suffix case separated by the period (.). The case must be defined first at the beginning of the file by ##case pragma.

Examples:
 ##case news
 ##case subs

 STR_0011_MAIL        :posta
 STR_0011_MAIL.news   :posty
 STR_0011_MAIL.subs   :Posta

TODO: Look at it and correct where it's wrong

=== Translations ===

Translations can contain any (CHECK!) ISO-8859-15 characters.

Using curly braces {}, special commands can be inserted into the translations, which are substituted either by strgen or while the string is drawn on the screen.

{| border=1
|+ '''Character Replacements'''
|-
!Command !!Replaced by
|-
|{} || Linebreak
|-
|{UPARROW} || &uarr;
|-
|{POUNDSIGN} || &pound;
|-
|{YENSIGN} || &yen;
|-
|{COPYRIGHT} || &copy;
|-
|{DOWNARROW} || &darr;
|-
|{CHECKMARK} || &radic;
|-
|{CROSS} || Big cross
|-
|{RIGHTARROW} || &rarr;
|-
|{TRAIN} || Symbol for train
|-
|{LORRY} || Symbol for lorry
|-
|{BUS} || Symbol for bus
|-
|{PLANE} || Symbol for airplane
|-
|{SHIP} || Symbol for ship
|-
|{SMALLUPARROW} || Small arrow up
|-
|{SMALLDOWNARROW} || Small arrow down
|-
|{THREE_FOURTH} || 3/4 symbol
|}


{| border=1
|+ '''Visual attribution'''
|-
!Command !! Replaced by
|-
|{TINYFONT} || text is drawn in smaller font
|-
|{BIGFONT} || text is drawn in bigger font
|-
|{SETX ''nn''} || text starts at position ''nn''
|-
|{SETXY ''nn'' ''mm'} || text starts at position ''nn''/''mm''
|-
|{BLUE} || text is drawn in blue
|-
|{SILVER} || text is drawn in silver
|-
|{GOLD} || text is drawn in gold
|-
|{RED} || text is drawn in red
|-
|{PURPLE} || text is drawn in purple
|-
|{LTBROWN} || text is drawn in light brown
|-
|{ORANGE} || text is drawn in orange
|-
|{GREEN} || text is drawn in green
|-
|{YELLOW} || text is drawn in yellow
|-
|{DKGREEN} || text is drawn in dark green
|-
|{CREAM} || text is drawn in cream
|-
|{BROWN} || text is drawn in brown
|-
|{WHITE} || text is drawn in white
|-
|{LTBLUE} || text is drawn in light blue
|-
|{GRAY} || text is drawn in gray
|-
|{DKBLUE} || text is drawn in dark blue
|-
|{BLACK} || text is drawn in black
|}

Param replacement is done in the game, filling placeholder in the strings with names, numbers or strings.

{| border=1
|+ '''Param Replacement'''
|-
!Command !! Replaced by
|-
|{COMMA} || a number with comma
|-
|{NUM} || a signed number
|-
|{STRING} || a single string
|-
|{STRING''n''} || a string, which in turn consumes n parameters (1<=n<=5)
|-
|{COMPANY} || company name
|-
|{PLAYERNAME} || player name
|-
|{VEHICLE} || vehicle name
|-
|{TOWN} || town name
|-
|{STATION} || station name
|-
|{WAYPOINT} || waypoint name
|-
|{INDUSTRY} || industry name (e.g. ''London Coal Mine'')
|-
|{CARGO} || cargo in long form: number, unit and type (e.g. ''12 tons of steel'')
|-
|{SHROTCARGO} || cargo in short form: only number and unit (e.g. ''12 tons'')
|-
|{VOLUME} || a number extended by ''litres''
|-
|{VELOCITY} || a number with the unit of speed (e.g. ''120 mph'')
|-
|{CURRENCY} || a number extended with currency symbols
|-
|{CURRENCY64} || a 64-bit number extended with currency symbols
|-
|{CURRCOMPACT} || a compacted number extended by currency symbols
|-
|{CURRCOMPACT64} || a compacted 64-bit number extended by currency symbols
|-
|{DATE_TINY} || a date in the format dd-mm-yyyy (e.g. ''25-12-1975'')
|-
|{DATE_SHORT} || a date in the form mmmm yyyy (e.g. ''Decembre 1975'')
|-
|{DATE_LONG} || a date in the format dd. mmm yyyy (e.g. ''12th Dec 1975'')
|-
|{STATIONFEATURES} || small icons of the supported vehicle types of a specific station
|-
|{REV} || the openttd revision number
|-
|{SKIP} || nothing (removes one param from the param list without printing it)
|-
|{P * * * *} || plural form (* stands for any string that can be quoted with " character, there can be up to 4 *s) see List of plural-types
|-
|{G ...} || *see below*
|}

TODO: Finish and correct this
TODO: Change order of params?
TODO: Plural and Gender
TODO: Cases

== Pragmas ==

Pragmas start with two hash signs (#).

{| border=1
|+ '''Pragmas'''
|-
!Name !! Function
|-
|name ''name''|| Name of the language in English
|-
|ownname ''name''|| Name of the language in the language itself
|-
|isocode ''code''|| ISO code for the '''language''' (eg. ''de'')
|-
|plural ''number''|| Type of the plural forms
|-
|gender ''up to 8 gender names''|| defines genders
|-
|case ''up to 50 case names''|| define cases
|-
|id ''hexnumber'' || Next string id starts at ''hexnumber''
|-
|}


{| border=1
|+ '''List of plural-types'''
|-
! rowspan="2"| Nr. !! Description !!
|-
! Used for
|-
| rowspan="2"| 0 || Two forms, singular used for one only 
|-
| Danish, Dutch, English, German, Norwegian, Swedish, Estonian, Finnish, Greek, Hebrew, Italian, Portuguese, Spanish, Esperanto
|-
| rowspan=2" | 1 || Only one form
|-
| Hungarian, Japanese, Korean, Turkish
|-
| rowspan=2" | 2 || Two forms, singular used for zero and one
|-
| French, Brazilian Portuguese
|-
| rowspan=2" | 3 || Three forms, special case for zero
|-
| Latvian
|-
| rowspan=2" | 4 || Three forms, special case for one and two
|-
| Gaelige (Irish)
|-
| rowspan=2" | 5 || Three forms, special case for numbers ending in 1[2-9]
|-
| Lithuanian
|-
| rowspan=2" | 6 || Three forms, special cases for numbers ending in 1 and 2, 3, 4, except those ending in 1[1-4]
|-
| Croatian, Czech, Russian, Slovak, Ukrainian
|-
| rowspan=2" | 7 || Three forms, special case for one and some numbers ending in 2, 3, or 4
|-
| Polish
|-
| rowspan=2" | 8 || Four forms, special case for one and all numbers ending in 02, 03, or 04
|-
| Slovanian
|}

<pre>
##name English
##id 0x1000
</pre>

== Comments ==

Comments start either with one or more than two hash signs (#) or with a semicolon (;). Empty lines are ignored too.

<pre>
# Ignore
#### Ignore this
;and this too
</pre>