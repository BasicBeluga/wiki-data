[[Translation:en/Archive/Source/OpenTTDDevBlackBook/Format of langfiles]]
== General Layout ==

Each entry of the langfile consits of exactly one line.

The encoding is ISO-8859-15.

If you use the web translator tool, you only see translations.

== Translations ==

Translations consist of a key and a translation. They are separated by a colon (:).

=== Keys ===

The key can only contain uppercase letters, numbers and the underscore (_). Each key starts with "STR_", followed by an optional 4-digit hex number and one or more well decribing words.

<pre>
STR_MAPSIZE
STR_000F_PASSENGERS
STR_SORT_BY_DATE
STR_0196_SHOW_LAND_OWNERS_ON_MAP
</pre>

TODO: Cases

=== Translations ===

Translations can contain any (CHECK!) ISO-8859-15 characters.

Using curly braces {}, special commands can be inserted into the translations, which are substituted either by strgen or while the string is drawn on the screen.

{| border=1
|+ '''Character Replacements'''
|-
!Command !!Replaced by
|-
|{} || Linebreak
|-
|{UPARROW} || &uarr;
|-
|{POUNDSIGN} || &pound;
|-
|{YENSIGN} || &yen;
|-
|{COPYRIGHT} || &copy;
|-
|{DOWNARROW} || &darr;
|-
|{CHECKMARK} || &radic;
|-
|{CROSS} || Big cross
|-
|{RIGHTARROW} || &rarr;
|-
|{TRAIN} || Symbol for train
|-
|{LORRY} || Symbol for lorry
|-
|{BUS} || Symbol for bus
|-
|{PLANE} || Symbol for airplane
|-
|{SHIP} || Symbol for ship
|-
|{SMALLUPARROW} || Small arrow up
|-
|{SMALLDOWNARROW} || Small arrow down
|-
|{THREE_FOURTH} || 3/4 symbol
|}


{| border=1
|+ '''Visual attribution'''
|-
!Command !! Replaced by
|-
|{TINYFONT} || text is drawn in smaller font
|-
|{BIGFONT} || text is drawn in bigger font
|-
|{SETX ''nn''} || text starts at position ''nn''
|-
|{SETXY ''nn'' ''mm'} || text starts at position ''nn''/''mm''
|-
|{BLUE} || text is drawn in blue
|-
|{SILVER} || text is drawn in silver
|-
|{GOLD} || text is drawn in gold
|-
|{RED} || text is drawn in red
|-
|{PURPLE} || text is drawn in purple
|-
|{LTBROWN} || text is drawn in light brown
|-
|{ORANGE} || text is drawn in orange
|-
|{GREEN} || text is drawn in green
|-
|{YELLOW} || text is drawn in yellow
|-
|{DKGREEN} || text is drawn in dark green
|-
|{CREAM} || text is drawn in cream
|-
|{BROWN} || text is drawn in brown
|-
|{WHITE} || text is drawn in white
|-
|{LTBLUE} || text is drawn in light blue
|-
|{GRAY} || text is drawn in gray
|-
|{DKBLUE} || text is drawn in dark blue
|-
|{BLACK} || text is drawn in black
|}


{| border=1
|+ '''Param Replacement'''
|-
!Command !! Replaced by
|-
|{SKIP} || void parameter?
|-
|{COMMA} || number with comma
|-
|{NUM} || integer number
|-
|{CURRENCY} || amount of money (smaller numbers use)
|-
|{CURRENCY64} || amount of money (stored as 64-bit number)
|-
|{CURRCOMPACT} || 
|-
|{CURRCOMPACT64} || 
|-
|{VELOCITY} || velocity
|-
|{VOLUME} || number with volume (e.g. litres)
|-
|{CARGO} || some cargo entry
|-
|{SHORTCARGO} ||
|-
|{STRING} || any string
|-
|{STRINGX} || any string ("X" stands for a digit meaning parameter id)
|-
|{DATE_SHORT} || date in a short format
|-
|{DATE_LONG} || date in a long format
|-
|{PLAYERNAME} || player name
|-
|{COMPANY} || company name
|-
|{TOWN} || town name
|-
|{INDUSTRY} || industry name
|-
|{STATION} || station name
|-
|{WAYPOINT} || waypoint name
|-
|{STATIONFEATURES} || some extra info
|-
|{TRAIN} || trains
|-
|{LORRY} || lorries
|-
|{BUS} || busses
|-
|{PLANE} || planes
|-
|{SHIP} || ships
|-
|{P * * * *} || plural form (* stands for any string that can be quoted with " character, there can be up to 4 *s) see List of plural-types
|-
|{REV} || OpenTTD revision (or version) number
|-
|}

TODO: Finish and correct this

== Pragmas ==

Pragmas start with two hash signs (#).

{| border=1
|+ '''Pragmas'''
|-
!Name !! Function
|-
|name ''name''|| Name of the language in English
|-
|ownname ''name''|| Name of the language in the language itself
|-
|isocode ''code''|| ISO code for the '''language''' (eg. ''de'')
|-
|plural ''number''|| Type of the plural forms
|-
|gender ''up to 8 gender names''|| defines genders
|-
|case ''up to 50 case names''|| define cases
|-
|id ''hexnumber'' || Next string id starts at ''hexnumber''
|-
|}


{| border=1
|+ '''List of plural-types'''
|-
! rowspan="2"| Nr. !! Description !!
|-
! Used for
|-
| rowspan="2"| 0 || Two forms, singular used for one only 
|-
| Danish, Dutch, English, German, Norwegian, Swedish, Estonian, Finnish, Greek, Hebrew, Italian, Portuguese, Spanish, Esperanto
|-
| rowspan=2" | 1 || Only one form
|-
| Hungarian, Japanese, Korean, Turkish
|-
| rowspan=2" | 2 || Two forms, singular used for zero and one
|-
| French, Brazilian Portuguese
|-
| rowspan=2" | 3 || Three forms, special case for zero
|-
| Latvian
|-
| rowspan=2" | 4 || Three forms, special case for one and two
|-
| Gaelige (Irish)
|-
| rowspan=2" | 5 || Three forms, special case for numbers ending in 1[2-9]
|-
| Lithuanian
|-
| rowspan=2" | 6 || Three forms, special cases for numbers ending in 1 and 2, 3, 4, except those ending in 1[1-4]
|-
| Croatian, Czech, Russian, Slovak, Ukrainian
|-
| rowspan=2" | 7 || Three forms, special case for one and some numbers ending in 2, 3, or 4
|-
| Polish
|-
| rowspan=2" | 8 || Four forms, special case for one and all numbers ending in 02, 03, or 04
|-
| Slovanian
|}

<pre>
##name English
##id 0x1000
</pre>

== Comments ==

Comments start either with one or more than two hash signs (#) or with a semicolon (;). Empty lines are ignored too.

<pre>
# Ignore
#### Ignore this
;and this too
</pre>