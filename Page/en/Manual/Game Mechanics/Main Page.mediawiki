[[Translation:en/Manual/Game Mechanics/Main Page]]
Here you can find information about how OpenTTD calculates in-game figures.

You always wanted to know how the station-rating was built up? How goods-distribution works? Here you can find it!


[[Category:en/Manual/Playing]]
[[Category:en/Development]]

==Player rating==

Each part of the player rating is a linear function, ie. earning 50% of the target for a component will give 50% of the points allocated for that component. Where components involve monetary amounts, these are converted to the currency of the current game; internally these amounts are stored as the pound amount.

{| border="1"
|+'''Player rating'''
|-
! Component !! Criteria !! Target !! Points (min) !! Points (max)
|-
|Vehicle count||Vehicle count||>=120||0 points for 0 vehicles||100 points for at least 120 vehicles
|-
|Number of station parts||Number of station parts player owns||>=80||0 points for 0 parts||100 points for at least 80 parts
|-
|Minimum vehicle profit||Minimum profit of vehicles at least two years old||>=£10,000||0 points for loss or £0||100 points for at least £10,000
|-
|Minimum revenue||Minimum monthly revenue earned (in past 24 months?)||>=£50k||0 points for $0||50 points for at least £50k
|-
|Maximum revenue||Maximum monthly revenue earned (in past 24 months?)||>=£100k||0 points for $0||100 points for at least £100k
|-
|Delivered Cargo||Units of cargo delivered (in past 24 months?)||>=40,000||0 points for 0 units||400 points for at least 40,000 units
|-
|Cargo-types||Number of types of cargo delivered (in current quarter)||>=8||0 points for 0 cargo-types||50 points for at least 8 cargo-types
|-
|Current cash||Current cash at bank||>=£10m||0 points for $0||50 points for at least £10m
|-
|Loan||Current loan from bank||$0||0 points for >£250k||50 points for £0
|-
! Totals !!!!!! 0 points !! 1000 points
|}

==Station-rating==

How is the rating of goods in a station is built up?

First of all, you need to transport that certain cargo. After that, the rating is defined like in the table below (you start with 0%):

{| border="1"
|+ '''Station rating'''
|-
! Action !! Condition !! Rating-points
|-
| Max-speed of last vehicle entering station || Above 85 km/h (approx. 52 mph)|| (Speed (km/h) - 85) / 4 points (with a of max 17 %)
|-
| Age of last vehicle entering station || 3 years || 10 points (4 %)
|-
| || 2 years || 20 points (8 %)
|-
| || <= 1 years || 33 points (13 %)
|-
| Statue in town of station || Built || 26 points (10 %)
|-
| Days since last cargo pickup || > 12 days, <= 21 days || 25 points (10 %)
|-
| || > 6 days, <= 12 days || 50 points (20 %)
|-
| || > 3 days, <= 6 days || 95 points (37 %)
|-
| || <= 3 days || 130 points (51 %)
|-
| Cargo waiting at station || > 1500 units || -90 points (-35 %)
|-
| || > 1000 units, <= 1500 units || -35 points (-14 %)
|-
| || > 600 units, <= 1000 units || 0 points (0 %)
|-
| || > 300 units, <= 600 units || 10 points (4 %)
|-
| || > 100 units, <= 300 units || 30 points (12 %)
|-
| || <= 100 units || 40 points (16 %)
|}

Now divide the number by 255, and you have your new rating. Remember that it can only increase/decrease by 2% at the time.
The maximum possible rating-points is (17 + 13 + 10 + 51 + 16 = ) 107 %, but of course the maximum value is 100%.

==Local Authority Ratings==
Code for town ratings is in town.h, town_cmd.c, tree_cmd.c, and road_cmd.c.

{| border="1" cellpadding="5"
|-
!Rating points!!Rating
|-
| -1000 to -400 || Appalling
|-
| -399 to -200 || Very Poor
|-
| -199 to 0 || Poor
|-
| 0 to 200 || Mediocre
|-
| 201 to 400 || Good
|-
| 401 to 600 || Very Good
|-
| 601 to 800 || Excellent
|-
| 801 to 1000 || Outstanding
|}


Each month players' ratings automatically change:
* Rating goes up by 5 if it is less than 200.
* Rating goes up by 12 for each station that has transferred cargo in the last 20 days.
* Rating goes down by 15 for each station that has not transferred cargo in the last 20 days.


Ratings limit some player actions, and can also change based on some actions.  Required rating is listed as Permissive / Neutral / Hostile.
{| border="1" cellpadding="5"
|-
!Player action!!Required rating!!Effect on rating
|-
|Build a station|| 200 ||
|-
|Destroy an 'edge' piece of road|| 0 / 48 / 96 ||-18
|-
|Destroy a 'centre' piece of road|| 0 / 48 / 96 ||-50
|-
|Destroy a city tunnel or bridge|| 128 / 192 / 384 ||-250
|-
|Destroy building|| 40 to 300 ||-40 to -300
|-
|Plant tree on clear square|| ||+7, up to 220.
|-
|Clear a tile with trees|| ||-35
|-
|Successful bribe|| ||+200
|-
|Unsucessful bribe|| ||Set to -50
|}

==Industry Production==
Here is how the game determines how much cargo an industry produces per month.  This section lists production governed by the default [[en/Archive/Manual/Settings/Configuring patches/Economy#enable-smooth-economy|smooth economy]] patch.  Production is always a multiple of 8.

{| border="1" cellpadding="4"
!Raw Material Industry!!Produced Cargo!!Initial production range
|-
|Coal Mine||Coal||56 to 176
|-
|Forest||Wood||48 to 152
|-
|Oil Rig||Oil||56 to 176
|-
|Farm||Grain and Livestock||40 to 112
|-
|Copper Mine||Copper Ore||56 to 112
|-
|Oil Well||Oil||48 to 152
|-
|Iron Mine||Iron Ore||40 to 112
|-
|Bank||Valuables||24 to 64
|-
|Gold Mine||Gold||24 to 80
|-
|Diamond Mine||Diamonds||24 to 80
|-
|Fruit Plantation||Fruit||40 to 112
|-
|Rubber Plantation||Rubber||40 to 112
|-
|Water Supply||Water||48 to 152
|-
|Farm||Maize||40 to 128
|-
|Lumber Mill||Wood||0
|-
|Cotton Candy Forest||Cotton Candy||48 to 152
|-
|Battery Farm||Batteries||40 to 128
|-
|Cola Wells||Cola||48 to 136
|-
|Plastic Fountain||Plastic||56 to 160
|-
|Bubble Generator||Bubbles||48 to 152
|-
|Toffee Quarry||Toffee||40 to 112
|-
|Sugar Mine||Sugar||40 to 128
|}


Each month the game randomly changes some industry productions:
*There is a 2% chance that the production will go down by 4% to 23% (random).  
*There is a 2% to 4% (not random) chance that the production will go up by 4% to 23% (random).
*The more cargo that is transferred from the industry, the better the chance that production will go up.  100% cargo transfer results in a 4% chance.
*Both changes can occur in the same month, and maybe cancel each other out.
*Maximum production is 2040 units.