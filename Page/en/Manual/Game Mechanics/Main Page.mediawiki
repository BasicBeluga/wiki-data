[[Translation:en/Manual/Game Mechanics/Main Page]]
[[Category:en/Manual/Playing]]
[[Category:en/Development]]

Here you can find information about how OpenTTD calculates in-game figures.

You always wanted to know how the station-rating was built up? How goods-distribution works? Here you can find it!

==Player rating==

Each part of the player rating is a linear function, ie. earning 50% of the target for a component will give 50% of the points allocated for that component. Where components involve monetary amounts, these are converted to the currency of the current game; internally these amounts are stored as the pound amount.

{| border="1"
|+Player rating
|-
! Component !! Criteria !! Target !! Points (min) !! Points (max)
|-
|Vehicle count||Vehicle count||>=120||0 points for 0 vehicles||100 points for at least 120 vehicles
|-
|Number of station parts||Number of station parts player owns||>=80||0 points for 0 parts||100 points for at least 80 parts
|-
|Minimum vehicle profit||Minimum profit of vehicles at least two years old||>=£10,000||0 points for loss or £0||100 points for at least £10,000
|-
|Minimum revenue||Minimum monthly revenue earned (in past 24 months?)||>=£50k||0 points for $0||50 points for at least £50k
|-
|Maximum revenue||Maximum monthly revenue earned (in past 24 months?)||>=£100k||0 points for $0||100 points for at least £100k
|-
|Delivered Cargo||Units of cargo delivered (in past 24 months?)||>=40,000||0 points for 0 units||400 points for at least 40,000 units
|-
|Cargo-types||Number of types of cargo delivered (in current quarter)||>=8||0 points for 0 cargo-types||50 points for at least 8 cargo-types
|-
|Current cash||Current cash at bank||>=£10m||0 points for $0||50 points for at least £10m
|-
|Loan||Current loan from bank||$0||0 points for >£250k||50 points for £0
|-
! Totals !!!!!! 0 points !! 1000 points
|}

==Station-rating==
How is the rating of goods in a station is built up?

First of all, you need to transport that certain cargo. After that, the rating is defined like in the table below (you start with 0%):

{| border="1"
|+ Station rating
|-
! Action !! Condition !! Rating-points
|-
| Max-speed of last vehicle entering station || Above 85 km/h (approx. 52 mph)|| (Speed (km/h) - 85) / 4 points (with a of max 17 %)
|-
| Age of last vehicle entering station || 3 years || 10 points (4 %)
|-
| || 2 years || 20 points (8 %)
|-
| || <= 1 years || 33 points (13 %)
|-
| Statue in town of station || Built || 26 points (10 %)
|-
| Days since last cargo pickup || > 12 days, <= 21 days || 25 points (10 %)
|-
| || > 6 days, <= 12 days || 50 points (20 %)
|-
| || > 3 days, <= 6 days || 95 points (37 %)
|-
| || <= 3 days || 130 points (51 %)
|-
| Cargo waiting at station || > 1500 units || -90 points (-35 %)
|-
| || > 1000 units, <= 1500 units || -35 points (-14 %)
|-
| || > 600 units, <= 1000 units || 0 points (0 %)
|-
| || > 300 units, <= 600 units || 10 points (4 %)
|-
| || > 100 units, <= 300 units || 30 points (12 %)
|-
| || <= 100 units || 40 points (16 %)
|}

Now divide the number by 255, and you have your new rating. Remember that it can only increase/decrease by 2% at the time.
The maximum possible rating-points is (17 + 13 + 10 + 51 + 16 = ) 107 %, but of course the maximum value is 100%.

==Local Authority Ratings==

Local authority rating ranges from -1000 (worst) to 1000 (best).

{| border="1"
|+'''Ratings''' (defined in town.h)
|-
!Rating!!Upper bound for rating (inclusive)
|-
|Appalling||-400
|-
|Very Poor||-200
|-
|Poor||0
|-
|Mediocre||200
|-
|Good||400
|-
|Very Good||600
|-
|Excellent||800
|-
|Outstanding||1000
|}

{| border="1"
|+'''Actions that affect town ratings'''
|-
!Action!!Effect on ratings
|-
|Destroy tree||Ratings go down by 35 points
|-
|Plant tree||Ratings go up by 7 points.

No effect if ratings are above 220 

No effect after the first tree planted on a square
|-
|Destroy tunnel or bridge||Ratings go down by 250 points

No effect if ratings are below 0
|-
|Destroy an industry||Ratings go down by 1500 points

|-
|Destroy a 'centre' piece of road||Ratings go down by 50 points

No effect if ratings are below -100

|-
|Destroy an 'edge' piece of road||Ratings go down by 18 points

No effect if ratings are below -100

(road_cmd.c:CmdRemoveRoad)
|-
|Successful bribe||Ratings go up by 200 points
No effect if ratings are above 800
|-
|Unsucessful bribe||Ratings go to -50
|-
|Destroy building||Ratings go down by between 40 and 300 points
|}

{| border="1"
|+'''Actions that require certain town ratings'''
!Action!!Minimum required rating
|-
|Build train station

Build bus station

Build truck station

Build airport

||-200
(town_cmd.c:CheckIfAuthorityAllows)
|-
|Destroy building||Ranging from 40 to 300, depend on housetype
(town_land.h:_housetype_remove_ratingmod)
|-
|Destroy road||Permissive: 0

Neutral: 48

Hostile: 96

(town_cmd.c:_default_rating_settings)??? 
|-
|Destroy tunnel/bridge||Permissive: 128

Neutral: 192

Hostile: 384

(town_cmd.c:_default_rating_settings)???
|-
|}