[[Translation:en/Manual/Dedicated server]]
{{es/Traducción|en/Manual/Dedicated server|50}}

[[File:en/Manual/Dedicated server.png|right|frame|Ventana del servidor dedicado]]Un '''servidor dedicado''' es un [[es/Manual/Servidor|servidor]] (juego en red) de OpenTTD que no necesita un cliente local dentro del juego. Un servidor dedicado puede funcionar en un computador sin tener abierto el juego.

==Comenzando un servidor dedicado==
Abre el ejecutable(archivo con que se abre el juego) usando {{en/C| -D|}} (D mayúscula) en la opción de la [[es/Línea de comandos]].

===Usando sistema operativo Windows===
Método 1:
*Crea un acceso directo al archivo {{en/C|openttd.exe|}}
*Hacer click el botón derecho en el acceso directo y apreta Propiedades
*Agrega {{en/C| -D|}} en el final de la línea de destino (después de las comillas).
*Hacer click en Aplicar.
*Abre el acceso directo.


Método 2:
*En el menú de inicio abre la opción Ejecutar
*Escribe: {{en/C|"c:\(ruta a la carpeta del openttd)\openttd.exe" -D|}}
*Haga click en Aceptar.


===Usando sistema operativo Linux===
*Abre {{en/C|openttd -D|}} en un terminal. Si te estás conectando al servidor por vía SSH y le gustaría que funcione cuando cierre sesión debería usar [http://www.gnu.org/software/screen/ Pantalla GNU] o [http://dtach.sourceforge.net/ Dtach].


También puedes abrir OpenTTD con la opción -f. Eso significa que el proceso se realizará en el computador, pero la consola no estára disponible. Todas las salida serán enviadas al archivo openttd.log. Tú puedes ver el archivo en la cola -f openttd.log para seguir eventos.

===Usando sistema operativo OS/2===
*Abre el archivo {{en/C|dedicated.cmd|}}. Si ejecutas {{en/C|openttd -D|}}, no verás una ventana de consola y serás incapaz de proprcionarle comandos al programa.

===Usando sistema operativos Mac OS X===
*Abre Terminal.
*cd dentro de la carpeta con OpenTTD
*escribe cd OpenTTD.app/Contents/MacOS/
*escribe ./openttd -D
*OpenTTD debería abrirse como un servidor dedicado.

===Docker===
* Vea https://registry.hub.docker.com/u/bateau/openttd/ para más detalles(en inglés).

==Configurando el servidor==
Hay tres formas de cambiar las opciones del juego:
*Abre un juego de un jugador, cambia las opciones, y cierra el juego.
*Usa los [[en/Manual/Console#server-commands|comandos de la consola]] para controlar el servidor mientras esté abierto.
*Edita el archivo [[es/Archive/Manual/Settings/Openttd.cfg|openttd.cfg]] manualmente. Vea [[en/Archive/Manual/Settings/Diff custom]] para algo de ayuda.
Herramientas disponibles:
*[http://www.tt-forums.net/viewtopic.php?f=29&t=33967 Web Interface]
*[http://olex.biz/en/software/spiele/openttd-webconfig OpenTTD WebConfig]


Change the network settings in the Network section of [[en/Archive/Manual/Settings/Openttd.cfg]]:
*Set [[en/Archive/Manual/Settings/Lan internet]] to 0.
*Change [[en/Archive/Manual/Settings/Server name]] so you can identify the server, 
*Set [[en/Archive/Manual/Settings/Server advertise]] to true, so it will be visible on the [[en/Server list]]
*If you have multiple network interfaces make sure you set [[en/Archive/Manual/Settings/Server bind ip]].
*If you are behind a router, make sure that you forward the port specified by [[en/Archive/Manual/Settings/Server port]] (both TCP and UDP)

==Controlling the server with rcon==
Configure the dedicated server to accept [[en/Manual/Console#server-commands|rcon]] commands:
*In the dedicated server window, type {{en/C|rcon_pw <password>|}}. 
:Example: {{en/C|rcon_pw x8na7f|}}


Connect to the server as a client:
*Launch OpenTTD normally.
*Find your server on the multiplayer list and connect to it.
*Open the console (~ key).
*Type {{en/C|rcon <password> "<command>"|}}. 
:Example: {{en/C|rcon x8na7f "kick 5"|}}

==Installing online content==
If you want to install content using the in-game content download facility, you can do that from the console in your dedicated server. The benefit of using this compared to copying the files manually to your server is that it will automatically get all dependencies that the content author has declared when uploading it to the content system.

*First, you need to load the list of available content from the content server:
:{{en/C|content update|}}
:Wait until "Content server connection closed" is printed in the console.

*List all available content
:{{en/C|content state|}}
:A list of available content is now printed. Find the content you like to download and read its ID which is written in the beginning of the line. Eg. 2947 for Simple City Builder.

*Next, select the content to download using its id:
:{{en/C|content select 2947|}}

*You can add more content by repeating the {{en/C|content select|}} command.

*Then download all selected content:
:{{en/C|content download|}}

Hint: If you use nightly r26000+ or stable 1.4+, you can type {{en/C|content state city|}} to only list content that contain the word 'city' in their name.

==Loading a game==
In the dedicated server window (or with rcon):
*Type {{en/C|ls|}} to list the files of the current directory, a number will be beside each one, which represents {{en/C|<number>|}} below.
*Type {{en/C|cd <number>|}} to go to that directory.
*Type {{en/C|load <number>|}} to load that file.

*You can also load savegames and scenarios with the {{en/C|-g "<filename>"|}}, command line option. 
:Example: {{en/C|openttd.exe -D -g "scenario/echo.scn"|}}.

== Automatically start/stop and save your game ==
If you do not want to run docker: Run your dedicated server in ubuntu/debian you can download and install a init.d script
You will get the following functions:
* Automatically startup when your server box bootup
* Automatically shutdown when you server box is shutdown
* Automatically saving your game at a defined interval
For more functions, install guide and download, visit: https://bitbucket.org/frodus/openttd-init

With a ready-made docker container you get a tested and working environment for openttd.
In ubuntu 14.04 or newer you can run: sudo apt-get install docker.io and then read documentation on the following url
https://registry.hub.docker.com/u/bateau/openttd/
Mind that this is a pre-configured virtual machine and packaging is done by 3rd party.


==See also==
*[[en/Archive/Manual/Settings/Autoclean companies|Autoclean companies]]   in order to specify what happens when a player logs off during a game and a company becomes inactive
*A short intro on Firewalls for  Dedicated Servers [http://www.uk2.net/blog/why-is-a-firewall-important-for-your-dedicated-server-2/]

[[Category:en/Manual/Multiplayer]]
[[Category:en/Manual/Tutorial]]