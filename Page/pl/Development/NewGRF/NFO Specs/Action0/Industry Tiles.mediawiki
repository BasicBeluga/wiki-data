{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Action0/Industry_Tiles|pl=pl/Development/NewGRF/NFO Specs/Action0/Industry Tiles}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
==Wprowadzenie==

Kafelki przemysłowe działają podobnie do budynków miejskich, z tym wyjątkiem, że nie są samodzielne; zawsze są częścią branży.

Definiowanie kafelków przemysłu odbywa się według tego samego schematu, co w przypadku domów: aby rozpocząć korzystanie z identyfikatora, najpierw należy go zdefiniować, ustawiając dla niego właściwość 8. Jeśli spróbujesz odwołać się do identyfikatora (poprzez akcję 0 lub przez akcję 3), który nie jest zdefiniowany, twoje żądanie zostanie zignorowane, ale również nie zostanie zgłoszone jako błąd. Oznacza to, że jeśli chcesz warunkowo zdefiniować identyfikator, wystarczy pominąć akcję0, która ustawia właściwość8, a wszystko inne zostanie automatycznie pominięte.

Przemysłowe identyfikatory kafelków są unikalne w każdym pliku grf. Identyfikator na GRF jest określony jako bajt, co oznacza, że ​​żaden GRF nie może zdefiniować więcej niż 256 identyfikatorów kafelków. Powinieneś oszczędnie używać identyfikatorów kafelków branży.  [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Industry Tiles#relative-position-43| Variational action 2 variable 43]]  dla płytek przemysłowych może pomóc ograniczyć zużycie płytek do 2 lub 3 na branżę. Unikaj używania kafelka FFh, dzięki czemu kafelek ID może zostać zamieniony na dłuższy bajt (w akcji 3) w odległej przyszłości bez zepsucia twojego NewGRF.

{{pl/Development/NewGRF/ttdp|}} W sumie TTDPatch może mieć do 256 nowych ID kafelków branżowych (tzn. Stare typy kafelków się nie liczą).

{{pl/Development/NewGRF/ottd|}} OpenTTD może mieć 512 identyfikatorów dla wszystkich aktywnych plików grf, ale obejmuje to nie przesłonięte oryginalne kafle .

== Properties ==

{| |-
!Property !![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|Size]] !!Version !! Description
|-
|08||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 43}}||Substitute building type
|-
|09||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 43}}||Industry tile override
|-
|0A,0B,0C||W||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Tile acceptance
|-
|0D||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 49}}||Land shape flags
|-
|0E||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 54}}||Callback flags
|-
|0F||W||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 54}}||Animation information
|-
|10||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 54}}||Animation speed.
|-
|11||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 54}}||Triggers for callback 25
|-
|12||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=beta 2}}||Special flags
|-
|13||V||{{pl/Development/NewGRF/ottdp|1.9|no|ottdrev=e66cec8f}}||Tile acceptance list
|}

== Description ==

=== Substitute tile type (08) ===

Ten typ kafelka zostanie użyty zamiast nowego, jeśli definicja nie jest dostępna z jakiegokolwiek powodu. Prawidłowe wartości to [http://marcin.ttdpatch.net/sv1codec/TTD-locations.html#Class8 00h-AEh]. Przypisanie tej właściwości powoduje skopiowanie właściwości starego typu, podobnie jak w przypadku domów.

Jeśli akcja 3 tego kafelka pojawi się przed ustawieniem tej właściwości, akcja 3 nie przyniesie żadnego efektu.

=== Industry tile override (09) ===

Działa jak dom nadpisuje właściwość domów.

=== Tile acceptance (0A, 0B, 0C) ===

Te trzy słowa określają, jakie ładunki przyjmuje kafelek i ile z nich. Niski bajt określa rodzaj ładunku zgodnie z aktualnym klimatem, natomiast wysoki bajt określa stopień akceptacji w 1/8 jednostek. Jeśli nie potrzebujesz wszystkich trzech rodzajów ładunku, po prostu wyzeruj wysoki bajt dodatkowych właściwości.

{{pl/Development/NewGRF/grfFrom|7}} Począwszy od wersji 7 GRF i wyższej, znaczenie małych bajtów zmienia się: zamiast numeru szczeliny ładunkowej zależnej od klimatu, musisz podać ID ładunku niezależny od klimatu. Jeśli twój GRF ma tabelę translacji ładunku, wówczas ten ID jest indeksem w tej tabeli; w przeciwnym razie jest to kawałek ładunku. Odbiór aktualnie nieobecnych ładunków zostanie automatycznie wyłączony.

{{pl/Development/NewGRF/ottdp|1.9|no|ottdrev=e66cec8f}} Te właściwości obsługują tylko trzy ładunki. Zamiast tego użyj właściwości 13, aby wymienić więcej rodzajów ładunków. 

=== Land shape flags (0D) ===

Ta właściwość określa, na których zboczach można zbudować kafelek.

{| |-
!Bit!!Value!!Version!!Meaning
|-
|0||1||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||NW edge cannot be lowered
|-
|1||2||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||NE edge cannot be lowered
|-
|2||4||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||SW edge cannot be lowered
|-
|3||8||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||SE edge cannot be lowered
|-
|4||10||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Can only be built on flat land
|-
|5||20||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 58}}||The tile is allowed on both land and water
|}

Kafelki przemysłowe nigdy nie są budowane na stromych zboczach, chyba że  [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#custom-shape-check-2f |callback 2F]] jest włączone, ale w takim przypadku bity 0..4 są ignorowane.

Bit 5 może być użyty do wpuszczenia kafelków przemysłu lądowego zbudowanych na wodzie lub odwrotnie. Skutecznie wyłącza kod kontroli ląd/woda dla płytki. Jeśli chcesz bardziej dostosować zachowanie, możesz użyć [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#custom-shape-check-2f |callback 2F]] , aby zdecydować, jaki rodzaj wody/ziemi jest dozwolony.

;'''PROŚBA UWAGI''': Zachowaj ostrożność podczas ustawiania tej właściwości. Jeśli nie ustawisz go poprawnie, twoja branża może skończyć na zboczu wzgórza, co prawdopodobnie nie jest tym, czego chcesz. Najłatwiej jest ustawić bit 4 dla środkowych płytek, bit 0 dla płytek wzdłuż krawędzi SE, bit 1 dla tych wzdłuż krawędzi SW i tak dalej.

=== Callback flags (0E) ===

{| |-
!Bit!!value!!version!!meaning
|-
|0||1||{{pl/Development/NewGRF/ottdp| | }}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#next-animation-frame-1a-26-141-153-158 |callback 26]] to decide the next animation frame
|-
|1||2||{{pl/Development/NewGRF/ottdp| | }}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#length-of-animation-frame-20-27-142-154-15a |callback 27]] to decide animation speed
|-
|2||4||{{pl/Development/NewGRF/ottdp| |2.5|ttdprev=alpha 55 vcs 3}}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#decide-cargo-acceptance-2b |callback 2B]] to decide amount of acceptance
|-
|3||8||{{pl/Development/NewGRF/ottdp| |2.5|ttdprev=alpha 55 vcs 3}}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#get-accepted-cargo-types-2a-2c |callback 2C]] to decide accepted types
|-
|4||10||{{pl/Development/NewGRF/ottdp| | }}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#custom-shape-check-2f |callback 2F]] to check if a slope is suitable
|-
|5||20||{{pl/Development/NewGRF/ottdp| | }}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#decide-drawing-default-foundations-30-14e-150 |callback 30]] to decide if default foundations need to be drawn
|-
|6||40||{{pl/Development/NewGRF/ottdp| |2.5|ttdprev=beta 3}}||use [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#disable-autosloping-3c-14f-15d |callback 3C]] to allow or deny autosloping below the tile
|}

Należy pamiętać, że [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159 |callback 25]] nie ma tu trochę. Aby użyć [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159 |callback 25]] , po prostu ustaw żądane bity we właściwości 11 i będzie działać zgodnie z przeznaczeniem.

=== Animation information (0F) ===

Niższy bajt określa liczbę klatek animacji pomniejszoną o jedną, więc 00 oznacza 1 klatkę, 01 oznacza 2 klatki itp. Maksymalna liczba klatek wynosi 256, chociaż możesz mieć pewne problemy, jeśli twoja animacja przekracza liczbę klatek FD (253). Górny bajt musi wynosić 0 dla animacji nie zapętlonych i 01 dla animacji zapętlonych. Każda inna wartość jest zarezerwowana do wykorzystania w przyszłości. Ponadto, jeśli całe słowo zawiera FFFF, animacja dla tego kafelka jest wyłączona (jest to wartość domyślna).

=== Animation speed (10) ===

Znaczenie jest takie samo, jak w przypadku właściwości domu 1B, ale dolny limit wynosi 0 zamiast 2, więc najszybsza możliwa animacja zmienia klatki w każdej grze (27ms). Wartość domyślna to 2.

=== Triggers for [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159 |callback 25]] (11) ===

Wywołanie [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159 |callback 25]] kiedy:

{| |-
!Bit!!Value!!Version!!Meaning||Var 18
|-
|0||1||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||the construction state changes||
|-
|1||2||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||the tile is processed in the periodic processing loop||
|-
|2||4||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||the industry of the tile is processed in the periodic processing loop (synchronized animation)||
|-
|3||8||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||the industry of the tile receives input cargo from a station||
|-
|4||10||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=beta 2}}||the industry distributes its output cargo to one of the stations nearby||
|}
Currently no trigger provides additional information in var 18.

=== Special flags (12) ===

{| |-
!Bit!!Value!!Meaning
|-
|0||1||[[en/Callbacks#next-animation-frame-1a-26-141-153-158 |Callback 26]] needs random bits
|-
|1||2||{{pl/Development/NewGRF/ottdp|1.9|no|ottdrev=e66cec8f}} In addition to the cargotypes set by property 0A..0C and 13, the tile accepts all cargotypes which the industry accepts.
* This considers industry properties 11 and 26 and callback 14B.
* This does not consider industry callback 3D.
* This property adds 8/8 acceptance for the matching cargotypes. You can list negative acceptances (-8/8) in property 13 to exclude specific cargos.
* Tile callback 2C overrides all acceptances including those added by this flag.
|}

=== Tile acceptance list (13) ===
{{pl/Development/NewGRF/ottdp|1.9|no|ottdrev=e66cec8f}} 

Format:
 <numinput> (<cargotype> <acceptance>)*

{| |-
!Size!!Variable!!Meaning
|-
|B||numinput||Number of (<cargotype> <acceptance>) pairs to follow,
|-
|B||cargotype||Cargotype (from CTT) to accept.
|-
|B||acceptance||Acceptance in 1/8 units. May be negative to negate property 12 bit 1.
|}

Ta właściwość określa do 16 cargotypów, które są akceptowane przez kafelek branży.
Użyj tej właściwości zamiast właściwości 0A..0C.

==Przykład==