{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Action0/Objects|pl=pl/Development/NewGRF/NFO Specs/Action0/Objects}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
==Wprowadzenie==
Definiowanie właściwości nowych obiektów.

W przeciwieństwie do pojazdów lub nowych stacji, większość nowych obiektów nie ma rzeczywistego odpowiednika w TTD.

W związku z tym ID''`y'' można wybierać dowolnie i faktycznie zostaną one przydzielone automatycznie przez łatkę. W akcji 0 podajesz tylko ID''`y'' w stosunku do zestawu, tj. ID pierwszego typu obiektu to 00, drugi typ obiektu to 01 itd. W sumie każda gra może mieć tylko 255 ID''`ów'' obiektów dla wszystkich aktywnych plików grf.

Właściwością, którą '''musisz ''' <small>''(must)''</small> ustawić dla każdego ID obiektu, jest 08 (oprócz zdefiniowania dla niego akcji 3). Ponadto wszystkie ID''`y'' obiektów muszą mieć klasy we właściwej kolejności, zaczynając od ID 00.

== Properties ==
{|
!Number!![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|Size]]!!Version!!Description
|-
|08||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Class label, see below
|-
|09||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Text ID for class
|-
|0A||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Text ID for this object
|-
|0B||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||[[pl/Development/NewGRF/NFO Specs/Action0/Vehicles#climate-availability|Climate availability]]
|-
|0C||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Byte representing size, see below
|-
|0D||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Object build cost factor (sets object removal cost factor as well)
|-
|0E||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Introduction date, see below
|-
|0F||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||End of life date, see below
|-
|10||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Object flags, see below
|-
|11||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Animation information
|-
|12||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Animation speed
|-
|13||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Animation triggers
|-
|14||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Object removal cost factor (set after object build cost factor)
|-
|15||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Callback flags, see below
|-
|16||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Height of the building
|-
|17||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Number of object views
|-
|18||B||{{pl/Development/NewGRF/ottdp|1.4|no|ottdrev=r25879}}||Measure for number of objects placed upon map creation
|}

Sprawdź [http://pics.lakie.net/newObject-ActionStructure.png Lakie's Graphical Representation of the newObject Specifications]

== Descriptions ==

=== Object class (08) ===

Etykiety klas są niepowtarzalnymi identyfikatorami złożonymi z liter A-Z i / lub cyfr 0–9, &nbsp;analogicznie do [[pl/Development/NewGRF/NFO Specs/Action0/Stations#station-class-08|station class labels]].

Ich głównym zastosowaniem jest łączenie obiektów w klasy i udostępnianie ich za pomocą górnej listy rozwijanej w oknie budowy obiektu.

W przeciwieństwie do stacji, nie ma domyślnej klasy dla obiektów. Autorzy zestawu muszą określić swoje [[pl/Development/NewGRF/NFO Specs/ObjectLabels|own labels]] , chociaż zdecydowanie zaleca się stosowanie ogólnego schematu, aby uniknąć zamieszania.

ID''`y'' klas muszą być ustawione przed jakąkolwiek inną właściwością.

=== Object class text ID (09) ===

ID tekstowy dla tej klasy (wartość słowa). Ten textid powinien być textid TTD lub textid D4xx (ustawiany przez D0xx w action4).

Określając obiekt, nie musisz ponownie ustawiać nazwy klasy, jeśli zrobiłeś to już dla innej z tą samą klasą.

=== Object text ID (0A) ===

ID tekstowy obiektu do zapytania i wyboru (wartość słowa). Takie same wymagania jak w przypadku property09.

=== Object size (0C) ===

Rozmiar obiektu do 15x15 płytek.

Ta wartość bajtu jest podzielona na dwie wartości. Pierwszy określa rozmiar w kierunku y, a drugi określa rozmiar w x (tj. Przechowywany jako YX).

Pamiętaj, że każda wartość mniejsza niż 0x11 zostanie odrzucona.

=== Build Cost (0D) ===

Mnożnik kosztów kompilacji. Mnoży się to przez liczbę płytek do oceny kosztów budowy i usunięcia obiektu.

=== Introduction date (0E) ===

Data wprowadzenia obiektu, w dniach od roku 0. Uwzględnia lata przestępne; dzieli się przez 4, ale nie 100, chyba że 400. Datę początkową 1920-01-01 uzyskuje się o wartości 701265 (51 B3 0A 00). W TTDPatch wszystko przed 1920 jest uważane za zawsze dostępne i powinno pozwolić na działanie obiektów po 2044, data jest również pierwszą datą, w której możesz zbudować obiekt.

=== End of life date (0F) ===

W ubiegłym roku można zbudować obiekt, w dniach od roku 0. Takie same wymagania jak powyżej. Pamiętaj też, że musi upłynąć co najmniej rok (365 dni) od daty wprowadzenia, w przeciwnym razie TTDPatch zignoruje to.

=== Object flags (10) ===

Następujące flagi kontrolują zachowanie obiektu i są buforowane dla obiektów zbudowanych, więc zmiana tych flag nie będzie miała wpływu na obiekty już zbudowane.

{|
!Bit!!Wartość!!Version!!Znaczenie
|-
|0||1||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Dostępne tylko w edytorze scenariuszy<ref name="incompatible">Należy pamiętać, że bity 0 i 7 są niezgodne i ustawienie obu spowoduje, że obiekt będzie całkowicie niedostępny.</ref>
|-
|1||2||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Nieusuwalne<ref>Obiekt nie może być usunięty przez normalny dynamit, kontrola musi być utrzymywana, a koszt usunięcia zostanie pomnożony przez 25 (jest to zwykłe zachowanie dla większości obiektów klasy A w TTDPatch).</ref>
|-
|2||4||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Wszystko może usunąć (zachowanie gruntu)
|-
|3||8||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Zezwalaj na budowę obiektu na wodzie
|-
|4||16||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Koszt 'przeprowadzki' to w rzeczywistości dochód (zachowanie gruntu)
|-
|5||32||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Nie wyświetlać fundamentów, jeśli na zboczu
|-
|6||64||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Obiekt ma animację<ref>Ustawienie tej flagi pozwoli na zwiększenie licznika animacji obiektu, należy ustawić, jeśli planujesz korzystać z animacji. Podobnie jak stacje, musisz włączyć animację na podstawie 'kafla' za pomocą wyzwalacza "wbudowanego kafla" i wywołania zwrotnego 159.</ref>
|-
|7||128||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Dostępne tylko podczas gry<ref name="incompatible" />
|-
|8||256||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Umożliwia mapowanie o pojemności 2 cm3 dla obiektów zamiast domyślnego 133
|-
|9||512||{{pl/Development/NewGRF/ottdp|1.1|2.6|ttdprev=r2331}}||Nie zezwala na budowę na lądzie (ma również nieco 3 zachowanie)
|-
|10||1024||{{pl/Development/NewGRF/ottdp|1.1|2.6|ttdprev=r2331}}||Rysuje wodę pod obiektem<ref>Stosuje się tylko wtedy, gdy zbudowany na wierzchu kafla wody, zastępuje również kafel gruntowy obiektu całkowicie. (Nie działa, gdy obiekt zbudowany na nachylonych kaflach wodnych).</ref>
|-
|11||2048||{{pl/Development/NewGRF/ottdp|1.1|no|ottdrev=r21455}}||Zezwalaj na most nad obiektem, biorąc pod uwagę wysokość budynku
|-
|12||4096||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r21455|ttdprev=r2360}}||Losowe bity w wywołaniu zwrotnym "następna klatka animacji"
|-
|13||8192||{{pl/Development/NewGRF/ottdp|1.4|no|ottdrev=r25878}}||Skaluj ilość obiektów umieszczonych na generacji map nie według obszaru mapy, ale mniej więcej według długości linii brzegowej
|}

<references />

=== Animation information (11) ===

Niższy bajt określa liczbę klatek animacji pomniejszoną o jedną, więc 00 oznacza 1 klatkę, 01 oznacza 2 klatki itp. Maksymalna liczba klatek wynosi 256, chociaż możesz mieć pewne problemy, jeśli twoja animacja przekracza liczbę klatek FD (253). Górny bajt musi wynosić 0 dla animacji nie zapętlonych i 01 dla animacji zapętlonych. Każda inna wartość jest zarezerwowana do wykorzystania w przyszłości. Ponadto, jeśli całe słowo zawiera FFFF, animacja dla tego obiektu jest wyłączona (jest to wartość domyślna).

Ponieważ nie możesz mieć właściwości dla poszczególnych kafelków obiektu, ta właściwość dotyczy każdej kafelka obiektu. Jeśli nie chcesz animować niektórych kafelków, powinieneś sprawdzić bieżącą pozycję podczas [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159|callback 159]] i zwrócić FD, jeśli bieżący kafelek nie trzeba być animowanym. Jeśli potrzebujesz także animacji o różnej długości na płytkę, musisz użyć [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#next-animation-frame-1a-26-141-153-158|callback 158]] .

=== Animation speed (12) ===

Znaczenie jest takie samo jak dla [[pl/Development/NewGRF/NFO Specs/Action0/Houses#animation-speed-1b|house property 1B]] , ale dolny limit to 0 zamiast 2, więc najszybsza możliwa animacja zmienia klatki każdego tyknięcia gry (27ms). Wartość domyślna to 0.

=== Animation triggers (13) ===

Jest to maska ​​zdarzeń, które powinny wyzwalać <small>''(trigger)''</small> [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#animation-control-1b-25-140-152-159|callback 159]] , umożliwiając zmianę stanu animacji

{|
!Bit!!Value!!Meaning!!Happens on!!Var 18
|-
|0||1||Object is built||all tiles||
|-
|1||2||Periodic tile loop||single tile||
|-
|2||4||Synchronised periodic tile loop||all tiles||
|}
Obecnie żaden wyzwalacz nie zapewnia dodatkowych informacji w var 18.

Zsynchronizowana okresowa pętla kafelkowa jest wywoływana bezpośrednio po (niezsynchronizowanej) okresowej pętli kafelkowej płytki północnej.

=== Object removal cost factor (14) ===

Współczynnik kosztów usunięcia obiektu. Należy to ustawić po właściwości 0D (współczynnik kosztu kompilacji obiektu), ponieważ to zastępuje tę wartość.

=== Callback flags (15) ===

W przypadku obiektów można zdefiniować następujące [[pl/Development/NewGRF/NFO Specs/Callback/Main Page|callbacks]] poprzez ustawienie odpowiedniego bitu we właściwości 15:

{|
!Bit!!Value!!Variable 0C value!!Callback
|-
|0||1||157||Custom slope check
|-
|1||2||158||Decide next animation frame
|-
|2||4||15A||Decide animation speed
|-
|3||8||15B||Decide colour of building
|-
|4||16||15C||Show additional text in the build object window
|-
|5||32||15D||Allow/disallow autosloping
|}

=== Building height (16) ===

Ustaw wysokość budynku w poziomach wysokości (8 pikseli). Na przykład, jeśli struktura ma 16 pikseli wysokości, ustaw tę właściwość na 2.

{{pl/Development/NewGRF/ottdp|1.1|no|ottdrev=r21455}} W OpenTTD ta właściwość służy do określania wysokości okna obiektu kompilacji; wysokość podglądu obiektu jest ustawiona na 32 + "value of property 16" * 8 <small>(..wartość właściwa..)</small>. Właściwość służy również do określania wysokości mostu, jeśli jest to dozwolone przez bit we właściwości 10.

=== Number of views (17) ===

Obiekty mogą mieć "widoki" <small>''(views)''</small>, tj. Różne reprezentacje graficzne, np. służy do wyświetlania obróconych widoków obiektu. Liczba wyświetleń może wynosić 1, 2 lub 4. Wartość domyślna to 1.

W przypadku obiektów innych niż kwadratowe rozmiary xiy są zamieniane na nieparzyste widoki. To znaczy, podając rozmiar obiektu 1*2 (x = 1, y = 2) , będzie wyświetlany jako 1*2 dla num = <nowiki>[</nowiki>0,2] (kierunek x), ale jako 2*1 dla  num = <nowiki>[</nowiki>1,3] (kierunek y).

Użyj obiektu varaction2 var48, aby uzyskać dostęp do określonych widoków obiektu.
==Przykłady==