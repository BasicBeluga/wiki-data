{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Action0/Stations|pl=pl/Development/NewGRF/NFO Specs/Action0/Stations}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
==Wprowadzenie==

Definiowanie właściwości nowych stacji.


W przeciwieństwie do pojazdów, nowe stacje nie mają odpowiednika TTD. W związku z tym można wybrać dowolne identyfikatory i w rzeczywistości zostaną one przydzielone automatycznie. W akcji 0 podajesz tylko identyfikatory w stosunku do zestawu, tj. Identyfikator pierwszego typu stacji to 00, drugi typ stacji to 01 itd..

{{pl/Development/NewGRF/ttdp|}} W TTDPatch każda gra może mieć tylko 255 identyfikatorów stacji dla wszystkich aktywnych plików grf.

Jedyną właściwością, którą '''musisz''' ustawić dla każdego ID stacji, jest 08 (oprócz zdefiniowania dla niej [[pl/Development/NewGRF/NFO Specs/Action3/Main Page|action 3]] ), wszystko inne można pozostawić domyślnie. Musi to być pierwsza właściwość ustawiona dla każdego ID stacji, ponieważ ID stacji jest faktycznie niezdefiniowany, dopóki nie zostanie mu przypisana klasa za pośrednictwem właściwości 08. Ponadto wszystkie ID''`y'' stacji muszą uzyskać swoje klasy we właściwej kolejności, zaczynając od ID 00.

== Properties ==

{| |-
!Number!![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|Size]]!!Version!!Description
|-
|08||D||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 19}}||Class ID, see below
|-
|09||V||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 20}}||Sprite layout, see below
|-
|0A||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 20}}||Copy sprite layout
|-
|0B||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 22}}||Callback flags
|-
|0C||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 22}}||Bit mask of disabled numbers of platforms
|-
|0D||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 22}}||Bit mask of disabled platform lengths
|-
|0E||V||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 22}}||Define custom layout, see below
|-
|0F||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 22}}||Copy custom layout from stationid given by argument
|-
|10||W||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 25}}||Little/lots threshold
|-
|11||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 27}}||Pylon placement
|-
|12||D||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 30}}||Bit mask of cargo type triggers for random sprites
|-
|13||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 30}}||General flags
|-
|14||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 47}}||Overhead wire placement
|-
|15||B||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 51}}||Can train enter tile
|-
|16||W||{{pl/Development/NewGRF/ottdp|0.7|2.5|ttdprev=beta 9}}||Animation information
|-
|17||B||{{pl/Development/NewGRF/ottdp|0.7|2.5|ttdprev=beta 9}}||Animation speed
|-
|18||W||{{pl/Development/NewGRF/ottdp|0.7|2.5|ttdprev=beta 9}}||Animation triggers
|-
|19||V||{{pl/Development/NewGRF/ottdp}}||Road routing (reserved for future use)
|-
|1A||V||{{pl/Development/NewGRF/ottdp|1.2|no|ottdrev=r22518}}||Advanced sprite layout with register modifiers
|}


Nieoficjalne uzupełnienia i zmiany. Nie polegaj na nich, aby kiedykolwiek działały w ten sposób w OpenTTD lub TTDPatch:
{| |-
!Number!![[en/GRFActionsDetailed|Size]]!!Version!!Description
|-
|1B||8*B||whatever-PP||Minimum bridge height for bridges over stations
|}

== Description ==

=== Station class (08) ===
TTDPatch grupuje zestawy nowej grafiki stacji w różne klasy. &nbsp;Klasy można wybrać z górnej listy rozwijanej w oknie konstrukcyjnym, a poszczególne stacje w klasie z dolnej listy rozwijanej. &nbsp;Ponadto każda stacja może zmienić swój wygląd za pomocą [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Main Page|variational]] i/lub [[pl/Development/NewGRF/NFO Specs/RandomAction2|random]] działania 2 wpisów.

Tylko dwie klasy są wstępnie zdefiniowane:

{| |-
!Name!!Class ID!!Intended use for station
|-
|DFLT||44 46 4C 54||Default, no special station type
|-
|WAYP||57 41 59 50||Non-cargo stations, waypoints, signal boxes etc.
|}

Możesz po prostu użyć innych klas niż powyższe, o ile nie jest (więcej niż (obecnie)) 16 klas używanych we wszystkich aktywnych plikach .grf w dowolnym momencie.

Gdy zbudowana zostanie stacja WAYP, nie będzie ona przyjmować ładunku ani nie będzie ładunku z pobliskich gałęzi przemysłu lub miast. &nbsp;Pociągi nie zatrzymują się na stacjach WAYP, niezależnie od kolejności non-stop i / lub przełącznika non-stop.

=== Sprite layout (09) ===
Kontroluje to, które duszki są wyświetlane, gdzie są wyświetlane i w jakiej kolejności. &nbsp;Właściwość jest zmiennej wielkości i zawiera dane dla wszystkich 8 możliwych typów kafelków stacji. &nbsp;Jeśli ta właściwość jest ustawiona, liczba w odpowiedniej [[pl/Development/NewGRF/NFO Specs/Action1|action 1]] nie musi być równa 12 (hex), może to być dowolna liczba, a dowolna liczba duszków może być wyświetlana w dowolnej kolejności.

W ten sposób dane są określone jako dane dla wszystkich ośmiu kafli:

<pre>&lt;num&gt; &lt;data1&gt; &lt;data2&gt; ... &lt;datan&gt;</pre>

{| |-
!Size!!Name!!Meaning
|-
|B*||num||Number of different tiles supported (see below)
|-
|V||data1...||The variable size data for each of the &lt;num&gt; tiles, as specified below
|}

===== Number of tiles supported =====
* Zwykle jest to 8, ale możesz też podać mniej
* Korzystanie z flagi oddzwaniania bit 1, określenie więcej też ma sens
* Ta wartość musi być taka sama dla wszystkich stacji ustawionych przez tę akcję 0, nawet jeśli musi zostać powtórzona dla śmigła. 09 definicja każdego ID stacji

(Zauważ, że num jest rozszerzonym bajtem, patrz [[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|GRFActionsDetailed]].)

Zawartość każdego (zwykle ośmiu) zestawów danych jest albo nowym układem ikonek:

{| |-
!Size!!Name!!Meaning
|-
|D||groundsprite||the sprite to draw for the rails; this is by default a TTD sprite, but with bit 31 set an [[en/Action1|action 1]] sprite (42D+X) may be specified
|-
|V||spritedata||the data for station sprites, see below; each has a size of 10 bytes, and there may be several
|-
|B||80||a literal 80 ends the list of sprites for this tile
|}
lub, alternatywnie, instrukcja użycia układu TTD przy użyciu czterech bajtów zerowych 00 00 00 00 zamiast bajtów dna naziemnego. Możesz użyć  [http://www.bytetransfer.de/projects/ttdpatch/docs/spriteidmapping.php the online sprite ID converter] , aby wyszukać ID''`y'' 'sprite', których możesz użyć dla wszystkich klimatów.

Można narysować dwa rodzaje 'sprites' . &nbsp;Jeden typ to taki, który ustanawia nową ramkę ograniczającą 3D do użytku przez sortownik duszków. &nbsp;Drugi typ dzieli obwiednię 3D poprzednich ikonek. &nbsp;Nie może być większy niż duszek, który ustanowił obwiednię, ani żadna jej część nie może znajdować się poza tym polem. &nbsp;Dla uproszczenia powinien mieć dokładnie takie same wymiary, jak duszek, z którym dzieli obwiednię. &nbsp;Ten ostatni typ jest obsługiwany na ekranie okna budowy stacji tylko od TTDPatch 2.6 r1684.

Spritedata ikonek z własnym obwiednią ma ten format:

{| |-
!Size!!Name!!Meaning
|-
|B||xofs||x-offset from northern tile corner
|-
|B||yofs||y-offset from northern tile corner
|-
|B||zofs||z-offset from northern tile corner
|-
|B||xextent||size of sprite in x direction
|-
|B||yextent||size of sprite in y direction
|-
|B||zextent||size of sprite in z direction
|-
|D||sprite||sprite number to draw
|}

Spritedata 'sprites' dzielących obwiednię ma ten format:

{| |-
!Size!!Name!!Meaning
|-
|B||xofs||x-offset relative to previous sprite
|-
|B||yofs||y-offset relative to previous sprite
|-
|B||80||a literal 80
|-
|B||00||(ignored)
|-
|B||00||(ignored)
|-
|B||00||(ignored)
|-
|D||sprite||sprite number to draw
|}

Od OpenTTD r18959 możesz narysować wiele duszek ziemi na płytkę, co jest przydatne, jeśli chcesz użyć zwykłej płytki podłogowej szyny / trawy / betonu, ale nadal musisz dodać do niej funkcje bez korzystania z nowej ramki ograniczającej. Aby to zrobić, użyj składni ikonek współużytkujących poprzednią ramkę ograniczającą, ale użyj jej przed definicją pierwszej ramki ograniczającej. xpixeloffset i ypixeloffset odnoszą się do zwykłego miejsca płytek naziemnych. Ta sama funkcja jest również częściowo obsługiwana w TTDPatch, ponieważ TTDPatch 2.6 r2312: TTDPatch ignoruje pola xofs i yofs i zawsze używa (0,0) dla offsetu. Jeśli tworzysz GRF, który musi być zgodny zarówno z OpenTTD, jak i TTDPatch, zawsze powinieneś utrzymywać xofs i yofs zero, aby uzyskać ten sam efekt w obu grach.
Zauważ jednak, że obie implementacje nie biorą pod uwagę  [[pl/Development/NewGRF/NFO Specs/Action0/Stations#general-flags-13|setting of prop13 bit 0]] , dlatego te „liczne duszki naziemne” muszą zawsze być częścią zestawu duszek budynku i nie mogą być częścią inny zestaw ikonek dla ikonek naziemnych.

Liczba ikonek może mieć następujące wartości (pamiętaj, aby używać małego endiana, tj. Odwróconej kolejności bajtów):

{| |-
!Number!!Sprite
|-
|0000042D+X||use sprite X from the corresponding [[en/Action1|action 1]] block (i.e. 0000042D for the first, 0000042E for the second, etc.)
|-
|0000842D+X||same, but draw it using company colour translation
|-
|0322442D+X||same, but draw in transparent mode (actual colours of the sprite are disregarded entirely); supported in station construction window display since TTDPatch 2.6 r1683
|-
|RRRR842D+X||draw sprite with colour translation defined in sprite RRRR; available since TTDPatch 2.6 r1683
|}

Przy ustawionym bicie 31 ten duszek będzie odnosił się do duszka TTD, a nie duszka akcji 1. Dla pierwszego duszka naziemnego obowiązuje odwrotne znaczenie.

W zależności od rodzaju szyny sprajty mogą uzyskać dodatkowe przesunięcia <small>''(offsets)''</small> :

{| |-
! !! Normal/electrified rail !! Monorail !! Maglev
|-
|TTD sprites || 0 || 82 || 164
|-
|Action 1 sprite (first ground sprite) || 0 || 1 || 2
|-
|Action 1 sprite (other sprites in the layout) || 0 || 0 || 0
|}

Tak więc duszki TTD i pierwszy duszek naziemny są pod wpływem typu szyny, podczas gdy inne duszki akcji 1 w układzie nie są. Przesunięcie "82" odnosi się do przesunięcia między domyślnymi duszkami torowymi TTD; jeśli używasz niedziałających naziemnych ikonek, które nie pochodzą z akcji 1, musisz dostarczyć fałszywe numery ikon, które zapobiegawczo odwrócą przesunięcia (to znaczy, potrzebujesz różnych układów ikon dla każdego typu linii, dla którego twoja stacja jest dostępna).

Ustawienie bitu 30 wymusza normalne wyświetlanie tego duszka nawet w trybie "przezroczystych budynków" <small>''(transparent buildings)''</small> (obsługiwane tylko w TTDPatch 2.6 r1695 i późniejszych).

Poniżej znajduje się przykład połączonych duszków, a także przezroczystych duszków (np. Na dachu stacji).

Zauważ, że współrzędne tutaj są współrzędnymi 3D, przy czym x biegnie od prawego górnego rogu do lewego dolnego, zaś y biegnie od lewego górnego rogu do prawego dolnego rogu, przy czym wymiary kafelków wynoszą 16 x 16 (i 8 dla jednego poziomu wysokości). Oznacza to, że wartości xiy powinny zawsze zawierać się w przedziale 0–15 (dziesiętnie).

Różni się to i jest niezależne od przesunięć x/y używanych w rzeczywistym pliku .NFO. &nbsp;Obwiednia 3D jest używana przez sortownik sprite'ów TTD do określenia kolejności rysowania 'sprites' , a także do wskazania, które 'sprites' mają rysować, ponieważ te, których ramka graniczna wykracza poza aktualnie aktualizowany prostokąt ekranu, nie zostaną narysowane. &nbsp;Upewnij się, że obwiednia 3D jest wystarczająco duża, aby pomieścić całego 'sprite' , ale nie tak duża, aby sortownik 'sprite' nie mógł określić, które 'sprites' powinny być z przodu.

Oznacza to, że kolejność określania 'sprites' jest nieistotna. &nbsp;'Sprites' będą rysowane od tyłu do przodu, w kolejności, którą sortownik 'sprite' określa jako prawidłowy, z ich ramek ograniczających. &nbsp;Istnieją jednak dwa wyjątki:
* 'Sprites' dzielące to samo obwiednię zawsze będą rysowane w podanej kolejności.
* Okno wyświetlania konstrukcji stacji nie korzysta z sortownika 'sprites' . Kafelki, które mogą być wyświetlane w tym oknie, muszą być określone we właściwej kolejności rysowania, od tyłu do przodu.

=== Copy sprite layout (0A) ===

To nie jest właściwość jako taka, ale działanie. &nbsp;Jako argument przyjmuje bajt interpretowany jako ID stacji do skopiowania niestandardowego układu ikonki.

=== Callback flags (0B) ===
W przypadku stacji można zdefiniować następujące [[pl/Development/NewGRF/NFO Specs/Callback/Main Page|callbacks]] poprzez ustawienie odpowiedniego bitu we właściwości 0B:

{| |-
!Bit!!Value!!Variable 0C value!!Callback
|-
|0||1||13||Whether to make station available in construction window (non-zero callback return) or not (callback returns zero)
|-
|1||2||14||Use callback to select sprite layout
|-
|2||4||141||Decide next animation frame
|-
|3||8||142||Decide animation speed
|-
|4||10||149||Custom slope check
|}
Bit to bit, który musisz ustawić, robisz to poprzez dodanie wszystkich wartości dla wszystkich bitów. Zmienna wartość 0C to ta, dla której zostanie ustawiona zmienna 0C, do sprawdzania jej w   [[en/VariationalAction2|VarAction2]] dla wywołań zwrotnych.

=== Selection of numbers of platforms and length (0C, 0D) ===

Domyślnie dla wszystkich stacji dostępne są wszystkie długości platform i dowolna liczba platform. &nbsp;Korzystając z tych właściwości, możesz wybrać, które mają być niedostępne, ustawiając odpowiedni bit we właściwości.

Wartości są bajtami używanymi jako maska ​​bitowa. &nbsp;Bity od 0 do 6 kontrolują dostępność liczby lub długości od 1 do 7, a bit 7 kontroluje dostępność przycisku "+7" . &nbsp;Każdy ustawiony bit wyłącza odpowiednią długość lub liczbę platform.

W celu zapewnienia zgodności z "największymi wyłączeniami" <small>''(largestations off)''</small> musi być dostępna co najmniej jedna długość od 1 do 5 (bity od 0 do 4) i jedna liczba platform od 1 do 4 (bity od 0 do 3), tzn. Co najmniej jeden z tych bitów musi być nieoprawny.

=== Define custom layout (0E) ===

Pozwala to wybrać, który typ kafelka jest budowany, na którym kafelku nowo budowany

stacja. &nbsp;Istnieją cztery różne typy, które TTD zwykle określa jako

{| |-
!Tile type!!Appearance
|-
|00||plain platform
|-
|02||platform with building
|-
|04||platform with roof, left side
|-
|06||platform with roof, right side
|}

Te liczby są używane dla stacji w kierunku NE-SW lub te liczby plus jeden dla stacji w kierunku NW-SE. &nbsp;Aby zdefiniować niestandardowy układ, użyj tego formatu:

{| |-
!Size!!Name!!Meaning
|-
|B||length||length of platforms for this layout
|-
|B||number||number of platforms for this layout
|-
|V||tiles||length*number bytes of tile types, one platform after another, only 00, 02, 04 or 06 are allowed as values
|}

Powtarzaj to tak często, jak to konieczne, aby zdefiniować układy dla wszystkich obsługiwanych kombinacji długości i liczby. &nbsp;Zakończ definicje 00 00 (długość zerowa i liczba zerowa). &nbsp;Wszelkie niezdefiniowane kombinacje zostaną zbudowane przy użyciu domyślnego układu TTD.
Zauważ, że łatwiejsze może być rysowanie różnych zestawów ikonek za pomocą  [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Main Page|VarAction2]] w oparciu o [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Stations#platform-info-40-41-46-47-49|station variable 40]] , zamiast redefiniowania układu. &nbsp;Ponadto [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#custom-station-layout-24|callback 24]]  zostanie wykorzystany do dalszego dostosowania układu zgodnie z definicją tej właściwości (lub TTD, jeśli nie jest dostępny układ prop 0E). Może to być również łatwiejsze niż zdefiniowanie układu prop 0E dla każdej kombinacji długości i liczby platform.

=== Copy custom layout (0F) ===

Podobnie jak właściwość 0A, kopiuje niestandardowy układ z identyfikatora stacji podanego przez argument.

=== Little/lots threshold (10) ===
Amount of cargo for switching from "little" to "lots" of cargo. &nbsp;TTDPatch separates the full range of cargo amounts (0 to 4095) into two separate subranges, "little" and "lots" of cargo. &nbsp;This allows better control of cargo amount based graphics (if needed). &nbsp;Property 10 specifies at what amount of cargo the patch is to switch from one to the other subrange. &nbsp;See [[en/Action2Stations|Action 2 for stations]] for more information.

=== Pylon placement (11) and wire placement (14) ===
Prop. 11 sets which tile types should have pylons when used with electrified tracks. By default, tiles 0-3 (default stations without roof) have pylons, and tiles 4-7 (default stations with roof) don't. This is a bit mask of tile types, with a bit set meaning that a pylon should be drawn. The tile types here do not consider [[en/Callbacks#station-sprite-layout-14|callback 14]], but rather the type as it was built, i.e. from prop. 0E.

Prop. 14 works in a similar way, except that it sets the tile types on which there should be ''no'' wires displayed. With the default value of "00", wires are displayed everywhere, and for each bit set, the wire is omitted on that tile type.

This property should only be used when the wires cause problems with the sprite sorter, because even when the wire is obscured by a station hall or similar, it should still show up in transparent mode so that each tile can easily be verified as being electrified.

=== Cargo types for random triggers (12) ===

This sets which cargo types should trigger re-randomizing. The cargo types are given as a bitmask of the bits from column 3 (type B) in CargoTypes. &nbsp;If nothing is set (the default), the no random triggers will happen, to conserve CPU time.

With GRF version 7 and above, the interpretation of bits changes. Instead of climate-dependent cargo slot numbers (type B), you have to set the bits of climate-independent cargo ID (type A).

=== General Flags (13) ===

{| |-
!Bit!!Value!!Version!!Meaning
|-
|0||1||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||use different sprite set for ground sprites ([[en/GlobalVariables#extra-callback-info-10-and-18|var. 10]] is 1 for ground sprites, 0 otherwise)
|-
|1||2||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||when calculating the cargo amount to display, divide the amount by the station size (to simulate cargo distributed over the area of the station)
|-
|2||4||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||[[en/Callbacks#next-animation-frame-1a-26-141-153-158|callback 141]] needs random bits in var. 10
|-
|3||8||{{pl/Development/NewGRF/ottdp|1.0|2.6}}||Use custom foundations on sloped tiles (the lowest byte of [[en/GlobalVariables#extra-callback-info-10-and-18|var. 10]] is 2 for foundation sprites)
|-
|4||10||{{pl/Development/NewGRF/ottdp|1.0|2.6}}||When bit 3 is set, use extended foundation block instead of the simple one
|}

Bit 3 works somewhat similarly to bit 0: your sprite selection will be called again, with 2 in the lowest byte of [[en/GlobalVariables#extra-callback-info-10-and-18|variable 10]]. If the chain ends on a callback result, the program will assume the foundation selection has failed and will use the default foundaton sprites. The low word of [[en/GlobalVariables#extra-callback-info-10-and-18|variable 18]] will contain the tile type of the current tile; if you have [[en/Callbacks#station-sprite-layout-14|callback 14]] enabled, this will be the its return value - otherwise, the default TTD types (platform with building, platform with left roof etc.) are used. In either case, one is added for the NW-SE orientation, in case your station needs different foundations depending on its orientation. Bits 16 and 17 are set if the NW and and NE foundations are to merged with the corresponding neighbour tile, so you shouldn't draw the corresponding edge in the foundation sprite. Other bits of variable 10 and variable 18 are reserved for future use.

Your sprite selection code should select a foundation sprite block. The contents of this block depends on whether bit 4 is set or not.
* Bit 4 clear (simple foundations):
[[File:en/Simple foundations.png]]

The programme will combine the needed foundation from these 8 sprites depending on the current slope. You don't need to care about the merge data in bits 16..17 of [[en/GlobalVariables#extra-callback-info-10-and-18|variable 18]]; it will be taken care of that automatically by adding the 7th and 8th sprite only when necessary.
* Bit 4 set (extended foundations):
[[File:en/Extended foundations.png]]

You need to have one sprite for every slope that's possible below a rail station. The correct one will be automatically selected depending on the current slope. It can't handle the merging itself, however, so you need four foundation blocks: one with no edges removed, one with the NW edge removed, one with the NE edge removed and one with both north edges removed. Your sprite selection code is responsible for selecting the correct of those blocks according to the merge info in [[en/GlobalVariables#extra-callback-info-10-and-18|variable 18]].

In both cases, you can put an additional value into register 100h, which will serve as an offset into the selected block. If you don't modify register 100h during the chain, it will default to 0. It is important that the dimensions of these sprites remain the same - thus bit 6 in the real sprites must be set to prevent GRFCodec from trimming the empty blue areas. The offset of these foundations must be -31 to the X direction and -9 to the Y direction.

=== Can train enter tile (15) ===

Like props. 11 and 14, this value contains eight bits relating to the eight possible tile types. If a bit is set, trains are prevented from routing through or entering any tile of this type.

=== Animation information (16) ===

The low byte specifies the number of animation frames minus one, so 00 means 1 frame, 01 means 2 frames etc. The maximum number of frames is 256, although you can have some problems if your animation exceeds FD (253) frames. The high byte must be 0 for non-looping animations and 01 for looping animations. Every other value is reserved for future use. In addition, if the whole word contains FFFF, animation is turned off for this station (this is the default value).
Since you can't have properties for individual station tiles, this property applies for every tile of the station. If you don't want to animate some tiles, you should check the current position during [[en/Callbacks#animation-control-1b-25-140-152-159|callback 140]] and return FD if the current tile doesn't need to be animated. If you also need animations of different length per tile, you'll have to use [[en/Callbacks#next-animation-frame-1a-26-141-153-158|callback 141]] for that.

=== Animation speed (17) ===
The meaning is the same as for [[en/Action0Houses#animation-speed-1b|house property 1B]], but the lower limit is 0 instead of 2, so the fastest possible animation changes frames every game tick (27ms). The default value is 2.

=== Animation triggers (18) ===
This is a bit mask of events that should trigger [[en/Callbacks#animation-control-1b-25-140-152-159|callback 140]], allowing to change the animation state

{| |-
!Bit!!Value!!Version!!Meaning!!Happens on!!Var 18
|-
|0||1||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||Station part is built||the newly built tiles||
|-
|1||2||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||New cargo arrives to station||whole station||<ref name="cargotype">Bits 8..15 of var 18 contain the triggering cargo type. If your GRF has a cargo translation table, the cargo type will be an index in that table, or FFh if the cargo isn't in the table. If you don't have a cargo translation table, the cargo type will simply be the climate-dependent cargo type number.</ref>
|-
|2||4||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||A cargo type gets removed from station||whole station||<ref name="cargotype"/>
|-
|3||8||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||Train enters station (starts loading/unloading)||platform where the train is||
|-
|4||10||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||Train leaves station (done loading/unloading)||platform where the train is||
|-
|5||20||{{pl/Development/NewGRF/ottdp|1.2|2.5|ottdrev=r22746}}||Train loads/unloads cargo||platform where the train is||
|-
|6||40||{{pl/Development/NewGRF/ottdp|0.7|2.5}}||Every 250 ticks||whole station||
|}

The remaining bits are reserved for future triggers, they must be zero for now.

The "happens on" column tells which tiles will [[en/Callbacks#animation-control-1b-25-140-152-159 |callback 140]] be called on.

<references/>

=== Road routing (19 - reserved for future use) ===

Will allow to have routing informations for road vehicles on rail stations,

generally you need to deny rail vehicle traveling via prop 15

This property is not yet implemented {{pl/Development/NewGRF/ottd|no}}{{pl/Development/NewGRF/ttdp|no}}.

=== Advanced sprite layout with register modifiers (1A) ===

{{pl/Development/NewGRF/ottdp|1.2|no|ottdrev=r22518}}
Format:
 1A <num-layouts> <0x40 + num-sprites>
                  <groundsprite> <flags> [<register/value>]...
                  [ <buildingsprite> <flags>
                      ( <xoffset> <yoffset> <zoffset> <xextent> <yextent> <zextent> 
                      | <xpixeloffset> <ypixeloffset> 80)
                    [<register/value>]...
                  ]...

For further details see [http://wiki.openttd.org/Frosch/Advanced_Sprite_Layout#Stations here] for now.

=== Minimum bridge height (1B) ===

This property allows building bridges over stations.

The bridge height property defines minimum clearances required for a bridge for each of the four [[en/Action0/Stations#define-custom-layout-0e|tile types]] of this station (or zero to not allow any bridge). Values are given in "height level" units (1 level == 8px).


{| class="wikitable" |-
!Height (1)!!Appearance
|-
| style="text-align:center;" |x1 y1 ||plain platform
|-
| style="text-align:center;" |x2 y2 ||platform with building
|-
| style="text-align:center;" |x3 y3 ||platform with roof, left side
|-
| style="text-align:center;" |x4 y4 ||platform with roof, right side
|}
(1) where the values are one byte pairs (x-direction, y-direction) expressed in hexadecimal notation.


Syntax:

1B <1st pair> <2nd pair> <3rd pair> <4th pair><br />
1B x1 y1 x2 y2 x3 y3 x4 y4<br />
1B 01 01 02 02 03 03 03 03 // 8px 16px 24px 24px

This property is currently only available for JGR's Patch Pack (v0.26.0 and later) and the developmental "New Map Features" (NMF) fork of OpenTTD.


== Examples ==

=== Using TTD's sprite layouts for certain tiles ===

To use TTD's layout, you use <code>00 00 00 00</code> for the ground sprite number and leave off everything else.

So instead of for example

 F4 03 00 00
    00 00 00    10 05 02    2E 84 00 00
    00 0B 00    10 05 02    30 84 00 00
    80

you just put

 00 00 00 00

=== Using transparent sprites ===

You can use transparent sprites to make for example the roof translucent like in TTD's stations. The roof of TTD's stations is made like this:

 00 00 10    10 10 0A    37 84 00 00
 00 00 80    00 00 00    3B 44 22 03

The first sprite here is the non-transparent frame of the roof, drawn in company colours (it has bit 15 set). The second part is a special "linked" sprite without its own bounding box, it shares that of the previous sprite. That's done by setting the z offset to 80.

To make that second sprite transparent, bit 14 is set in the sprite number, and the upper word is set to 322 (*), so 0322443B means to take sprite 43B and draw it in transparent mode. The colours of that sprite are ignored entirely, every pixel in colour 0 is fully transparent, and all other pixels are semi-transparent (essentially just causing what they are drawn over to become darker).

(*) To jest [[en/RecolorSprites#default-recolour-sprites | recolour sprite]] dla efektu szkła.