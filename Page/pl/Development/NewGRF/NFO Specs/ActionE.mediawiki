
<!--{{-}}<br>{{ambox | text = w trakcie edycji.}}-->

== Wprowadzenie ==


Dezaktywuj inne pliki graficzne lub wymuś aktywację bieżącego pliku.


Zwykle należy używać plików graficznych [[en/Action7]] do dezaktywacji, jeśli okaże się, że załadowano inną niekompatybilną grafikę.

Jednak po pojawieniu się nowych zestawów często nie jest możliwa zmiana wszystkich istniejących zestawów, aby mogły wykryć nowy zestaw. Ta akcja pozwala zatem nowemu zestawowi graficznemu dezaktywować starsze zestawy, z którymi jest niezgodny.

== Syntax ==

Dane wyglądają następująco:

 <Sprite-number> * <Length> 0E <num> <GRFIDs...>

{|
!Element!![[en/GRFActionsDetailed|Size]]!!Description

|-
|<Sprite-number>||dec||A sequential sprite number

|-
|<length>||dec||The total number of bytes used in this action.

|-
|0E||B||Defines action 0E

|-
|<num>||B||Number of sets which should be deactivated

|-
|<GRFIDs...>||4*B||GRFIDs of the sets to deactivate
|}

== Description ==

=== Sprite-number ===

This is just the number you are at.

=== Length ===

Count the number of bytes in this action.

=== num ===

This is the number of sets you want to deactivate.

=== GRFIDs ===

Here you give the list of GRFIDs, in the same format as in [[en/Action8]], which should be deactivated.

=== Notes ===

Pamiętaj, że próba dezaktywacji już aktywnych plików graficznych jest nieprawidłowa. Można tylko zapobiec późniejszej aktywacji plików znajdujących się poniżej newgrf(w).cfg. Dlatego musisz sprawdzić, czy żaden z GRFIDów na tej liście nie jest już aktywny, wykonując odpowiednią akcję 7. Jeśli spróbujesz dezaktywować już aktywny zestaw, bieżący zestaw zostanie uznany za nieprawidłowy i zostanie wyłączony.

Jeśli spróbujesz dezaktywować zestaw, który nie jest załadowany, nic się nie dzieje.

Aby poradzić sobie z przypadkami wcześniejszego ładowania i aktywacji niekompatybilnych zestawów, możesz albo spróbować zastąpić wszystkie ich ustawienia i grafikę, albo po prostu dezaktywować ten zestaw kolejno.

{{Page:pl/Extrazi/ottdp|no| }} Jeśli podany GRFID jest identyczny z GRFID aktualnie przetwarzanego pliku, bieżący plik jest aktywowany siłą. Jest to najbardziej przydatne do wprowadzania zmian w menu ekranu tytułowego, które w innym przypadku nie byłyby możliwe. Zdecydowanie zaleca się, aby nie używać tej funkcji w żaden inny sposób niż w połączeniu z akcją 7, która sprawdza zmienną 92 (tryb gry), aby aktywacja odbywała się tylko na ekranie tytułowym. W przeciwnym razie aktywacja (de) statusu systemu GRF zostanie całkowicie pominięta. Najlepiej ograniczyć tę wymuszoną aktywację do jak najmniejszej liczby działań, aby uzyskać maksymalną zgodność. Wymuszona aktywacja nie jest obsługiwana przez OpenTTD.

In principle, there can be four cases and your .grf file must be able to handle all of them properly:
* The .grf file is active and can not be deactivated.
: You cannot use action E in this case.
* The .grf file is inactive but will be activated.
: This is the only case in which action E is useful, the .grf file coming below the current one in newgrf(w).cfg but being set to be activated. Action E will set it to not be activated when it is processed.
* The .grf file is inactive and will not be activated.
: This can happen because it has been processed already (it comes earlier in newgrf(w).cfg) and was deactivated, either by default or manually.

== Przykład ==

Oto przykład dezaktywacji GRFID 54570105, jeśli to możliwe, i dezaktywacja bieżącego pliku, jeśli nie.

 47 * 9 07 88 04 06 54 57 01 05 02
 48 * 9 07 88 04 08 54 57 01 05 03
 49 * 6 07 83 01 03 7F 04
 50 * x 0B 01 1F FF ... (e.g. "This file is deactivated because incompatible graphics are active.")
 51 * 6 07 83 01 03 7F 00
 52 * x 0B 01 1F FF ... (e.g. "Deactivating GRFID 54570105.")
 53 * 6 0E 01 54 57 01 05

Wykonuje to następujące instrukcje:

<pre>47: if (GRFID 54570105 is active) goto 50

48: if (GRFID 54570105 is inactive but will be activated) goto 52

49: goto 54

50: showmessage("This file is deactivated because incompatible graphics are active.")

51: deactivate_current_file

52: showmessage("Deactivating GRFID 54570105.")

53: deactivate(54570105);

continue_with_current_file;</pre>

Powodem tej szczególnej kolejności pseudo-sprite' jest to, że akcja 7 nie zajmie gałęzi, jeśli w ogóle nie ma zapytanego GRFID. W takim przypadku oba 'sprites' 47 i 48 wypadają, co oznacza, że ​​skok w 49 jest wykonywany, a plik wznawia przetwarzanie. Bezwarunkowe gotos w 49 i 51 są w rzeczywistości uwarunkowane tym, że klimat nie jest 7F, co nigdy nie może być.

Conceptually, without goto-logic, the code could be described by

<pre>if (GRFID 54570105 is active) {

 showerror("This file is deactivated because incompatible graphics are active.")

deactivate_current_file

} else if (GRFID 54570105 is inactive but will be activated) {

showmessage("Deactivating GRFID 54570105.")

deactivate(54570105);

}</pre>