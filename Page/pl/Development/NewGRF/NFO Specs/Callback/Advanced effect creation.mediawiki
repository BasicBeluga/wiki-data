<noinclude>{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Callback:_Advanced_effect_creation|pl=pl/Development/NewGRF/NFO Specs/Callback/Advanced effect creation}}
</noinclude>== Advanced effect creation (160) ==
{{pl/Development/NewGRF/ottdp|1.5|no|ottdrev=r26747}}

To wywołanie zwrotne jest używane, gdy zaawansowane efekty wizualne są włączone za pomocą właściwości Efektu wizualnego lub <small>''(resp.)''</small> [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#visual-effect-and-wagon-power-10|Callback 10]].

Oddzwanianie jest wywoływane za każdym razem, gdy model spawnujący efekt powoduje, że pojazd generuje efekt wizualny.
To wywołanie zwrotne decyduje następnie o pozycji, ilości i wyglądzie efektu wizualnego.

Zmienna 10 określa typ generowanego efektu wizualnego:
{| |-
! Bity !! Znaczenie
|-
| 0-7 || Effect
* 00: Normalny efekt wizualny podczas jazdy.
* 01-FF: Reserved
|-
| 8-31 || Zastrzeżone, muszą być zamaskowane.
|}

Zmienna 18 zawiera 32 losowe bity.

Jeśli oddzwonienie nie powiedzie się, nie zostanie utworzony żaden efekt wizualny.
W przeciwnym razie wynik składa się z:
{| |-
! Bity !! Znaczenie
|-
| 0-1 || Ilość efektów do odrodzenia (0 do 3), szczegóły są określone przez rejestr 100+x
|-
| 2-12 || Zastrzeżone, musi być ustawiona na zero.
|-
| 13 || Tylko pociąg i RV: Jeśli jest ustawiony, efekt położenia względem środka pojazdu zamiast względem sprite'a pojazdu. (zachowuje się tak samo w przypadku pojazdów o długości 8/8) 
|-
| 14 || Jeśli jest ustawiona, wyłącz automatyczne obracanie pozycji efektu wrt. orientacja pojazdu.
|}

Rejestry 100+x określają wygląd X-tego efektu (kwota określona poprzez wynik wywołania zwrotnego):
{| |-
! Bity !! Znaczenie
|-
| 0-7 || Effect type
* 00-EF: Reserved
* F0: Reserved
* F1: Default 'steam' effect.
* F2: Default 'diesel' effect.
* F3: Default 'electric' effect.
* F4-F9: Reserved
* FA: Domyślny efekt 'zepsuty samolot'.
* FB-FE: Reserved
* FF: Brak efektu.
|-
| 8-15 || 
* Jeśli wynik bit 14 jest wyczyszczony: Pozycja wzdłużna (podpisana <small>''~signed''</small>)
* Jeśli wynik bit 14 jest ustawiony: Pozycja X (podpisana)
|-
| 16-23 ||
* Jeśli wynik bit 14 jest wyczyszczony: Pozycja poprzeczne (podpisana)
* Jeśli wynik bit 14 jest ustawiony: Pozycja Y (podpisana)
|-
| 24-31 || Pozycja Z (podpisana )
|}
[[Category:pl/User/extrazi/Callbacks]]