<noinclude>{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/Callback:_Station_slope_check|pl=pl/Development/NewGRF/NFO Specs/Callback/Station slope check}}
</noinclude>== Station slope check (149) ==

To wywołanie zwrotne jest wywoływane dla każdego pola, na którym zostanie zbudowana nowa część stacji.

{{pl/Development/NewGRF/grfTill|7}} Dla GRF w wersji 7 i niższej zwracane wartości są takie same jak dla  [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#industry-location-permissibility-28|callback 28]] , ale z bitem 10 odwróconym dla kompatybilności wstecznej. Oznacza to, że sukces jest 0 zamiast 0x400 natomiast teksty zwyczaj GRF zaczynają się 0x400 zamiast 0. Zwracana wartość 1 oznacza "grunty pochylona w złym kierunku" zamiast "Site nieodpowiednim" .
Należy pamiętać, że wcześniejsza wersja OpenTTD przed wersją r22658 i TTDPatch obsługuje tylko 0 dla sukcesu i 1 dla błędu.

{{pl/Development/NewGRF/grfFrom|8}} Dla GRF w wersji 8 i nowszych zwracane wartości są takie same jak dla [[pl/Development/NewGRF/NFO Specs/Callback/Main Page#industry-location-permissibility-28|callback 28]] . Wartość zwracana 401 oznacza "Teren pochylony w złym kierunku" zamiast "Miejsce nieodpowiednie" <small>''(Site unsuitable)''</small>.

Ponieważ stacja nie została jeszcze zbudowana, nie można uzyskać dostępu do zmiennych 8x. Tylko zmienne 43 i 67 będą działać na podstawie zmiennych 4x i 6x. Otrzymasz jednak następujące informacje:
* zmienna 18:
{| |-
!bit numbers!!Meaning
|-
|0..7||offset of current tile on the platform, 0 is the northmost tile
|-
|8..15||bits 8..15: current platform number, 0 is the northmost platform
|-
|16..23||total length of station being built
|-
|24..31||total number of platforms being built
|}
* zmienna <small>''(variable)''</small> 10:
{| |-
!bit numbers!!Meaning
|-
|4..7||Slope info of the current tile:
* bit 7 - N corner is elevated
* bit 6 - E corner is elevated
* bit 5 - S corner is elevated
* bit 4 - W corner is elevated
|-
|0..3||the same information, but "mirrored" (bit 0 and 2 swapped) if the station is built in the NW-SE orientation. This allows you to check slopes without checking the orientation explicitly.
|-
|other bits||reserved for future use
|}

Oddzwonienie jest wywoływane dopiero po normalnym sprawdzeniu przez TTD nachyleń, więc nie jest możliwe zezwolenie na nachylenie, które domyślnie nie jest dozwolone; możesz jedynie zawęzić zestaw dozwolonych stoków. Jeśli oddzwonienie nie powiedzie się, kafelek zostanie zaakceptowany. Nazywa się to jednak płaskimi kafelkami, więc możesz zmusić swoją stację do nachylenia terenu. Nie możesz uzyskać dostępu do informacji o stacji, nawet jeśli platforma jest dodana do istniejącej stacji kolejowej lub jest nadmierna płytka stacji. To dlatego, że TTD zdecyduje o tym później w kodzie, po tym, jak nachylenie zostanie już zaakceptowane.

<!--[[Category:Callbacks]]-->[[Category:pl/User/extrazi/Callbacks]]