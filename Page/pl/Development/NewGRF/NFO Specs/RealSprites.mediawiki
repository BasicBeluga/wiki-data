{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/RealSprites|pl=pl/Development/NewGRF/NFO Specs/RealSprites}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
== Wprowadzenie ==

Prawdziwe duszki są graficzną częścią plików .grf; są tym, co faktycznie widzi użytkownik w grze.

Istnieją dwa wyraźnie różne sposoby pisania prawdziwych duszków, w zależności od używanej wersji informacyjnej. TTDPatch i OpenTTD, dopóki wersja 1.2 nie zrozumie tylko [[pl/Development/NewGRF/NFO Specs/Version numbers#grf-container-version|GRF container version 1]] lub <small>''(resp.)''</small> [[pl/Development/NewGRF/NFO Specs/Version numbers#nfo-version|info version 7]] .

== Info version 7 ==
Dostępne w {{pl/Development/NewGRF/ottdp||}}

=== Syntax ===

Prawdziwy duszek ma następujący format:

 <Sprite-number> <filename> <xpos> <ypos> <compression> <ysize> <xsize> <xrel> <yrel>

{|
!Element!![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|Rozmiar]]!!Opis
|-
|<Sprite-number>||dec||Sekwencyjny numer 'sprite'
|-
|<filename>||string<ref>W przeciwieństwie do ciągów w pseudo-'sprites', ciąg ten nie powinien kończyć się "00" i nie powinien być umieszczany w cudzysłowie.</ref>||Nazwa pliku .pcx lub .png, w którym można znaleźć 'sprite'
|-
|<xpos>||dec||Pozycja x lewego górnego rogu 'sprite' w pliku
|-
|<ypos>||dec||Pozycja y lewego górnego rogu 'sprite' w pliku
|-
|<compression>||B||"kompresja"; patrz poniżej
|-
|<ysize>||dec||Rozmiar y 'sprite'
|-
|<xsize>||dec||Rozmiar x 'sprite'
|-
|<xrel>||dec||Pozycja x lewego górnego rogu 'sprite', względem "środka" <small>''~center''</small> (zwykle ujemna)
|-
|<yrel>||dec||Pozycja y lewego górnego rogu 'sprite', względem "środka" (zwykle ujemna)
|}

<references />

==== filename ====

Określa nazwę i ścieżkę pliku .pcx. Ścieżkę można określić na jeden z dwóch sposobów:
# Absolutna ścieżka. (np. C:\GRF\sprites\filename.pcx)
# Ścieżka względna; są one określone względem położenia pliku .grf. (np. sprites\filename.pcx)

W większości przypadków preferowane są ścieżki względne, ponieważ pliki .nfo ze ścieżkami względnymi są bardziej przenośne niż pliki .nfo ze ścieżkami bezwzględnymi.

==== xpos, ypos, ysize, and xsize ====

Są one dość łatwe do ustawienia, o ile pamiętasz, że kolejność to X, Y, Y, X, a nie X, Y, X, Y.

Ponadto żaden duszek nie może zawierać zerowych pikseli; ysize i xsize muszą mieć co najmniej 1.

Uwaga: w grfcodec 0.9.7 i wcześniejszych występuje błąd, który uniemożliwia im prawidłowe kodowanie duszka o mniejszej wartości ypos niż jakikolwiek wcześniejszy duszek. Najlepszym sposobem na obejście tego błędu jest aktualizacja do najnowszej wersji.

==== compression ====

W przeciwieństwie do innych liczb, kompresja jest szesnastkowym polem bitowym. Obecnie obsługiwane są następujące bity:

{|
!bit!!wartość!!znaczenie
|-
|0||1||Indeks koloru 0 jest przezroczysty (powinien być ustawiony '''zawsze''' ; ignorowany, jeśli ustawiony jest bit 3)
|-
|1||2||Przechowuj skompresowanego 'sprite' w pamięci
|-
|3||8||Sprite ma format danych fragmentarycznych <small>''~ chunked''</small> (inaczej "kompresja kafli")
|-
|6||40||'Sprite' nie należy przycinać <small>''~cropped''</small>. (przestrzegane przez GRFCodec r1604 i nowsze)
|}

Jedynymi poprawnymi wartościami dla kompresji są 00, 01, 02, 03 i 09 (z wyjątkiem specjalnej flagi 0x40, która jest ważna tylko dla grfcodec).
Wartości 00 - 03 są obsługiwane tak samo przez OpenTTD. Jeśli nie zależy ci na różnicy dla TTDPatch, użyj 01 lub 09.

Najlepsza wartość zależy od tego, które i ile pikseli jest przezroczystych: Jeśli nieprzezroczyste piksele są rozmieszczone w większych blokach wzdłuż pikseli (jak w przypadku płytek gruntowych lub przekątnych widoków pojazdów), użyj 09 (format danych fragmentów). Jeśli nie ma przezroczystych pikseli lub przezroczystych pikseli i nieprzeźroczyste naprzemiennie dużo wzdłuż pikseli, użyj 01.

Jeśli chcesz poprawić rysowanie w TTDPatch (nie robi to różnicy w OpenTTD): Możesz użyć 00 lub. 02, jeśli w ogóle NIE ma przezroczystych pikseli. 00 jest nieco szybsze niż 01. 02 jest prawidłową wartością, ale nie ma większego sensu.

Możesz użyć 02 odpowiednio. 03 do przechowywania sprite skompresowanego w pamięci. Rysowanie będzie wolniejsze, ale duszek potrzebuje mniej pamięci, gdy nie jest używany. Przydatny dla dużych duszków, które są rzadko używane (jak nowy papier "potentat stulecia" <small>''(tycoon of the century)''</small> pod koniec gry)

Zasadniczo używanie innych wartości jest złym pomysłem, ponieważ może to powodować problemy. FF to szczególnie zły pomysł.

==== xrel and yrel ====

Te dwie liczby prawdopodobnie staną się zmorą twojego istnienia.

TTD przechowuje jeden punkt dla każdego duszka. xrel i yrel określają, jak daleko w prawo i w dół (odpowiednio), aby przejść od punktu TTD do lewego górnego rogu duszka.

Zmniejszenie o połowę xsize i ysize oraz zanegowanie wyników tworzy przyzwoity punkt początkowy dla tych wartości, a dalsze korekty można wprowadzić ręcznie, np. W OpenTTD, aktywując <!--[http://wiki.openttd.org/NewGRF_Debugging NewGRF developer tools]-->[[pl/Development/NewGRF/Debugowanie NewGRF|narzędzia deweloperskie]] i używając Aligner sprite lub w TTDPatch 2.0.1 alpha 69 i późniejszych z [http://www.tt-wiki.net/wiki/GRFAuthorHelperWindow GRFAuthorHelperWindow] .

==== Ranges ====

Zakresy czterech liczb po kompresji są następujące:

ysize: 1..255

xsize: 1..65535

xrel: -32768..32767

yrel: -32768..32767

ysize*xsize may not exceed 65535.

==== Other notes ====

Powszechną praktyką w blokach akcji 1 jest używanie pseudosprite  "-1 * 1 00"  w celu zastąpienia prawdziwego duszka, który nigdy nie zostanie użyty. Najczęstszym zastosowaniem są zestawy pojazdów, które będą używane tylko w oknie zakupu. Zmniejsza to rozmiar pliku .grf w porównaniu do zastąpienia ich duszkami jednopikselowymi (ale nie w porównaniu do podziału akcji 1 i uczynienia drugiego definiującym tylko jednego duszka), ale nie oszczędza gniazd prawdziwych duszków. Jeśli TTD kiedykolwiek spróbuje narysować jeden z tych duszków, w najlepszym wypadku się zawiesi.

== Info version 32 ==
Dostępne w {{pl/Development/NewGRF/ottdp|1.2|ottdrev=r23890}}

=== Syntax ===

 <Sprite-number> <filename> 8bpp <xpos> <ypos> <xsize> <ysize> <xrel> <yrel> normal <flags>

  <Sprite-number> <filename> 8bpp  <xpos> <ypos> <xsize> <ysize> <xrel> <yrel> normal      <flags>
  |               <filename> 8bpp  <xpos> <ypos> <xsize> <ysize> <xrel> <yrel> <zoomlevel> <flags>
  |               <filename> 32bpp <xpos> <ypos> <xsize> <ysize> <xrel> <yrel> <zoomlevel> <flags>
  |               <filename> mask  <xpos> <pos>
                  ...
==== Sprite-number ====
Jest to sekwencyjna liczba 'sprites' , maksymalna wartość to 2**32
==== Filename ====
Nazwa pliku graficznego, w którym znajduje się prawdziwy 'sprite'
==== Type ====
Rodzaj 'sprite'. Typ 1. 'sprite'musi zawsze wynosić 8 bpp i 'normal' poziom powiększenia (patrz poniżej). Kolejne wiersze dla alternatywnych ikonek mogą być dowolnego typu i poziomu powiększenia. Dostępne typy to:
{|
!Name!!Description
|-
|8bpp || Sprite with 8 bit colour depth in one of the accepted palettes
|-
|32bpp|| True colour sprite with 32 bit colour depth
|-
|mask || If used, this type must follow a '32bpp' entry immediately. Itself it is a 8bpp paletted sprite of the exact same size of the preceeding 32bpp sprite. It defines the colour translation for this preceeding 32bpp sprite: Palette entry 0 means to draw the 32bpp as usual, the other colours define a replacement colour where then the preceeding 32bpp sprite is interpreted as giving intensity and alpha channel information.
|}

==== xpos, ypos ====
Współrzędne lewego górnego rogu duszka w pliku graficznym.
==== xsize, ysize ====
Szerokość i wysokość duszka w pliku graficznym. Prawidłowy zakres wartości wynosi od 1 do 65535 dla obu.
==== xrel, yrel ====
Położenie lewego górnego rogu duszka w stosunku do "center" (zwykle ujemnego). Prawidłowy zakres wartości wynosi od -32768 do 32767.
==== zoom level ====
OpenTTD obsługuje wiele poziomów powiększenia. Dla 'normal' poziomu powiększenia kafelek ma szerokość 64 pikseli i wysokość 31 (patrz współrzędne). Dostępne poziomy powiększenia to:
{|
!name  !!zoom level!!Grid size        !!Groundsprite with zig-zag border!!Groundsprite with smooth border!!xrel, yrel with smooth border!!Description
|-
|zo8   || 8x out   ||      8 x   4    ||      8 x   3    ||      8 x   3      ||      -3,  0
|rowspan="3"| zoomed-out
|-
|zo4   || 4x out   ||     16 x   8    ||     16 x   7    ||     16 x   7      ||      -7,  0
|-
|zo2   || 2x out   ||     32 x  16    ||     32 x  15    ||     32 x  15      ||     -15,  0
|- style="background:lightblue"
|normal|| (normal) ||     64 x  32    ||     64 x  31    ||     64 x  31      ||     -31,  0       || The standard
|-
|zi2   || 2x in    ||    128 x  64    ||    128 x  62    ||    128 x  63      ||     -62, -1
|rowspan="2"| zoomed-in
|-
|zi4   || 4x in    ||    256 x 128    ||    256 x 124    ||    256 x 127      ||    -124, -2
|-
|zi(X) || (X)x in  || (X*32) x (X*16) || (X*32) x floor(X*15) || (X*32) x (X*16-1) || ceil(X*-31), ceil(X*-1/2) || Generalisation
|}

Wskazówka:
Jeśli masz duszka z normalnym powiększeniem i (xrel, yel), 'sprite' 2x z powiększeniem będzie miał (2*xrel, 2*yrel-1), a 'sprite' z 4x powiększeniem będzie miał (4*xrel, 4*yrel-2).

Konwersje te są implikowane przez sposób, w jaki OpenTTD rysuje fundamenty, w szczególności fundamenty połówkowe. Przy powiększeniu 1x pionowa krawędź nachylenia znajduje się między dwoma pikselami, a pozioma krawędź nachylenia znajduje się w środku piksela. Oznacza to, że: Środek płytek (zielona linia) musi się zrównać, górna część płytek (czerwona linia) następnie się nie ustawia:
<!--[[File:Groundsprites_4x.png]]-->[http://newgrf-specs.tt-wiki.net/wiki/File:Groundsprites_4x.pngFile:Groundsprites_4x.png File:Groundsprites_4x.png]

==== Flags ====
Flagi pozwalają opisać pewne specjalne traktowanie duszków:
{|
!name!!Description
|-
|nocrop  || Disallow grfcodec to crop transparent pixels off the sprite to the minimum size possible without loosing information. Use this when the actual sprite size matters (i.e. when child sprites rely on it).
|-
|chunked || Store the sprite compressed. It saves space for 'diagonal' sprites with lots of transparency like diagonal views of vehicles.
|}



== Transparency and glass effect ==

Przezroczystość i efekty szkła można uzyskać za pomocą [[pl/Development/NewGRF/NFO Specs/RecolorSprites|RecolorSprites]]


== Przykład ==

Najlepszym sposobem, aby zobaczyć prawdziwe 'sprites' , jest dekodowanie jednego ze standardowych plików .grf TTD. Z nielicznymi wyjątkami wszystkie 'sprites' w tych plikach są prawdziwymi 'sprites'; kilka, które nie są, to RecolorSprites.

Przykłady prawdziwych 'sprites' można również znaleźć na dole [[pl/Development/NewGRF/NFO Specs/Action1|Action1]] lub [[pl/Development/NewGRF/NFO Specs/ActionA|ActionA]].

Te 'sprites' używają ścieżek absolutnych. Usunięcie części C:\TTD\ z każdej nazwy pliku działałoby równie dobrze, zakładając, że chcesz, aby plik .grf pojawił się w C:\TTD.

Info version 32:
    3 sprites/58_8.png 8bpp 0 0 128 64 -63 -23 normal nocrop
    | sprites/58_x2_8.png 8bpp 0 0 256 128 -127 -46 zi2 chunked nocrop // comment
    | sprites/58_x2_32.png 32bpp 0 0 256 128 -127 -46 zi2 chunked nocrop 
    | sprites/58_x2_32m.png mask 0 0