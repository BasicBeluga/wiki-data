{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/VariationalAction2/Industry_Tiles|pl=pl/Development/NewGRF/NFO Specs/VariationalAction2/Industry Tiles}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
==Wprowadzenie==

== Variables ==


{| |-
!Variable!![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|'''Size''']]!!Version!!Content
|-
|40||B||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Construction state of the tile: a value between 0 and 3 (only defined for industries)
|-
|41||B||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Ground type, the same as variable 81 for [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Canals|canals]]
|-
|42||B||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Current [[pl/Development/NewGRF/NFO Specs/TownZones|town zone]] of the tile in the nearest town
|-
|43||D||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Relative position
|-
|44||B||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Animation frame. Like [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Houses#current-animation-frame-46|house variable 46]] but can contain anything 0..FF.
|-
|60||D||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Land info of nearby tiles
|-
|61||D||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||Animation stage of nearby tiles
|-
|62||D||{{pl/Development/NewGRF/ottdp|0.6|2.6|ttdprev=r1270}}||Get industry or airport tile ID at offset
|}

VarAction2 dla kafelków lotniska jest dostępna tylko w wersji OpenTTD r19204 lub nowszej

Brak dostępnych zmiennych 80+x (nigdy nie będzie). Próba uzyskania dostępu spowoduje awarię TTD.

=== [[pl/Development/NewGRF/NFO Specs/TownZones|Town zone]] (42) ===

[[pl/Development/NewGRF/NFO Specs/TownZones|Town zone]] gdzie znajduje się budynek (co niekoniecznie jest założycielem miasta). Zero, jeśli kafelka nie ma w mieście. Jest to szczególnie przydatne dla banków i innych branż miejskich.

=== Relative position (43) ===

Jest to położenie kafelka względem najbardziej wysuniętego na północ kafelka branży lub lotniska.

'''Format:''' 00yxYYXX

{| |-
!Variable!!Content
|-
|x||the x offset from the northernmost tile
|-
|XX||same, but stored in a byte instead of a nibble
|-
|y||the y offset from the northernmost tile
|-
|YY||same, but stored in a byte instead of a nibble
|}

Z uwagi na fakt, że y i x są skubkami, mogą zawierać niepoprawne wartości, jeśli Twoja branża przekroczy 16 płytek w dowolnym kierunku. Ta zmienna może być używana do oszczędzania identyfikatorów kafelków branży lub lotniska: ten sam typ kafelków może wybrać inną reprezentację w zależności od tego, gdzie dokładnie znajduje się w branży.

=== Land info of nearby tiles (60) ===

Parametr tej zmiennej jest przesunięciem względem położenia bieżącego kafelka. Niby-nibble zawiera podpisane przesunięcie X (to znaczy 0h=0, 1h=+1 ... 7h=+7; 8h=-8, 9h=-7 ... Fh=-1 ), high-nibble zawiera Przesunięcie Y Dlatego parametr 00h uzyskuje dostęp do samego bieżącego kafla.

Zwrócone podwójne słowo ma format '''rc zz bb ss''' , w którym oznaczono litery:
* '''r''' jest zarezerwowany do wykorzystania w przyszłości
* '''c''' zawiera [http://marcin.ttdpatch.net/sv1codec/TTD-locations.html#Landscape landscape class] kafla <small>''(tile)''</small>. {{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 72}} 
* '''zz''' to wysokość najniższego rogu płytki.
: {{pl/Development/NewGRF/grfTill|7}} Dla GRF w wersji 7 i niższej: wielokrotność 8.
: {{pl/Development/NewGRF/grfFrom|8}} Dla GRF w wersji 8 i nowszej: wielokrotność 1.
* '''bb''' to pole bitowe, znaczenie poszczególnych bitów to:
{| |-
!Bit||Value||Version||Meaning
|-
|0||1||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||The tile is an industry tile, and belongs to the same industry as the current one
|-
|1||2||{{pl/Development/NewGRF/ottdp|0.6|2.5}}||The tile has water on it. This flag is set for coasts as well. If you need a full water tile, check the slope data as well. If it's zero (flat tile), the tile is fully watered.
|-
|2..4|| ||{{pl/Development/NewGRF/ottdp|0.6|2.5|ttdprev=alpha 70}}||0 - normal tile; 1 - desert; 2 - rainforest; 4 - snowy tile
|-
|5..6|| ||{{pl/Development/NewGRF/ottdp|1.2|no|ottdrev=r22679}}||Water class: 0 - undefined / land; 1 - sea; 2 - canal; 3 - river. This is not the same as bit 1, as e.g. an industry tile can have a water class but has bit 1 unset.
|-
|7|| || ||reserved for future use
|}
* '''ss''' zawiera dane nachylenia kafla. Znaczenie poszczególnych bitów to:
{| |-
!Bit||Value||Meaning
|-
|0||1||West corner is above the lowest
|-
|1||2||South corner is above the lowest
|-
|2||4||East corner is above the lowest
|-
|3||8||North corner is above the lowest
|-
|4||16||The tile is a steep slope (i.e. the corner opposite to the lowest one is two units higher)
|-
|other bits|| ||always zero
|}

Wynikowe, możliwe wartości tego bajtu są zilustrowane na tym obrazku (z dokumentów OpenTTD):

<!--[[File:Industrytile_var60.png]]-->[http://newgrf-specs.tt-wiki.net/wiki/File:Industrytile_var60.png File:Industrytile_var60.png]

Czasami bardziej przydatna jest znajomość wysokości najwyższego rogu płytki. Można to obliczyć za pomocą "zz/8 + ((ss+15)/16)" , to znaczy: "60 XX 33 1F 00 60 XX 40 FF 0F 10" , gdzie XX jest parametrem. Zwraca jednak liczbę 0..31 zamiast 0..248.
Dlaczego to działa i jak dostosować się do innego zakresu wartości, pozostawia się jako ćwiczenia dla czytelnika.


Należy pamiętać, że ze względu na sposób, w jaki TTD generuje losową mapę, numer klasy sąsiadującego kafelka może różnić się od oczekiwanego. Na przykład, podczas umieszczania branży opartej na wodzie w sąsiedztwie wybrzeża w losowej grze, płytki te nie sąsiadują już z wodą po wygenerowaniu branży, dlatego nie można rzetelnie sprawdzić, czy na wybrzeżu znajdują się płytki wybrzeża. oddzwonić.

=== Animation stage for nearby tiles (61) ===

Parametr tej zmiennej jest interpretowany w taki sam sposób, jak dla zmiennej 60. Zwracana wartość to FFFFFFFFh, jeśli dany kafelek nie należy do branży, a liczba bieżącej klatki animacji danego kafelka w przeciwnym razie. (To znaczy wartość, którą var 44 zwróci dla danego kafelka.)

=== Get industry tile ID at offset (62) ===

Działa podobnie do przemysłowej zmiennej 60, z tym wyjątkiem, że punktem odniesienia jest bieżący kafelek zamiast północnego kafelka branży, a przesunięcia uważa się za podpisane.

==Przykład==