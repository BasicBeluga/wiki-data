{{pl/Development/NewGRF/inne strony|en=newgrf-specs.tt-wiki.net/wiki/VariationalAction2/Objects|pl=pl/Development/NewGRF/NFO Specs/VariationalAction2/Objects}}
<!--{{-}}<br>--><!--{{ambox | text = w trakcie edycji.}}--><!-- -->
==Wprowadzenie==

== Variables ==
{|
!Variable !![[pl/Development/NewGRF/NFO Specs/GRFActionsDetailed|Size]] !!Version !! Description
|-
|40||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Relative position, like [[en/VarAction2IndustryTiles#relative-position-43|Industry Tile var43]]
|-
|41||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2088}}||Tile information, see below
|-
|42||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Construction date from year 0
|-
|43||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Animation counter, see below
|-
|44||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Object founder information
|-
|45||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Get [[pl/Development/NewGRF/NFO Specs/TownZones|town zone]] and Manhattan distance of closest town
|-
|46||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Get square of Euclidian distance of closest town
|-
|47||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r21259|ttdprev=r2351}}||Object colour
|-
|48||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r21455|ttdprev=r2340}}||Object views
|-
|60||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Get object type and view at offset
|-
|61||B||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Get random bits at offset
|-
|62||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Land info of nearby tiles
|-
|63||W||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Animation counter of nearby tile
|-
|64||D||{{pl/Development/NewGRF/ottdp|1.1|2.6|ottdrev=r20670|ttdprev=r2340}}||Count of object, distance of closest instance
|}

== Description ==
=== Tile information (41) ===

Zwracana wartość ma format ss0t, gdzie t jest typem terenu, na którym znajduje się kafelek, takie same wartości jak [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Canals|canal var81]].

Począwszy od TTDPatch r2088, ss zawiera dane nachylenia kafelka, taki sam format jak dla [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Industry Tiles#land-info-of-nearby-tiles-60|industrytile var60]] . Znaczenie poszczególnych bitów to:

{|
!Bit!!Meaning
|-
|0||West corner is above the lowest
|-
|1||South corner is above the lowest
|-
|2||East corner is above the lowest
|-
|3||North corner is above the lowest
|-
|4||The tile is a steep slope (*)
|}

(*) - Strome zbocza mają ten bit plus 3 punkty podniesione, co daje im wartości 0x17, 0x1B, 0x1D i 0x1E.

=== Animation Counter (43) ===

Ten bajt pobiera rzeczywistą wartość licznika animacji (zwróć uwagę, że aby to zadziałało, należy ustawić akcję 0, właściwość 10, bit 6).

=== Object founder information (44) ===

Ten bajt zawiera identyfikator firmy, która sfinansowała obiekt, lub 10 godzin, jeśli obiekt został umieszczony w edytorze scenariuszy.

=== Get [[pl/Development/NewGRF/NFO Specs/TownZones|town zone]] and Manhattan distance of closest town (45) ===

Jak [[pl/Development/NewGRF/NFO Specs/VariationalAction2/Industries#get-town-zone-and-manhattan-distance-of-closest-town-65|industry var65]] , ale zamiast przesunięcia używana jest bieżąca płytka.

=== Get square of Euclidian distance of closest town (46) ===

Jak [[en/VarAction2Industries#get-square-of-euclidean-distance-of-closest-town-66|industry var66]] , ale zamiast przesunięcia zastosowano bieżący kafelek.

=== Object colour (47) ===

Ten bajt zwraca kolor obiektu.

(od TTDPatch r2351 i OpenTTD r21259)

=== Get object views (48) ===

Zwrócona wartość oznacza określony widok obiektu. Liczba i ranga set-ID muszą być zgodne z wartością podaną w obiekcie action0 prop17, tj. Dla obiektu z 4 widokami prop48 może zwracać wartości 0 .. 4. Od OpenTTD r21455.

=== Get object type at offset (60) ===

Parametr tej zmiennej jest przesunięciem od bieżącego kafelka. Niby-nibble zawiera podpisane przesunięcie X (to znaczy 0h=0, 1h=+1 ... 7h=+7, 8h=-8, 9h=-7 ... Fh=-1 ), high-nibble zawiera Przesunięcie Y Dlatego parametr 00h uzyskuje dostęp do samego bieżącego kafelka.

Wartość zmiennej ma format
 rrrvtttt

{| |-
! field !! bits !! Meaning
|-
| tttt || 0 - 15
|
* 00xxh if the tile is an object tile and was defined in the current GRF with ID xx.
* FFFEh if the tile is an object tile that was defined in another GRF file or it's a default object.
* FFFFh if the tile isn't an object tile.
|-
| v || 16 - 19 || {{pl/Development/NewGRF/ottdp|1.4|no|ottdrev=r26315}} View of the object, if it is defined in the current GRF.
|-
| rrrr || 20 - 31 || reserved, always mask
|}

=== Get random bits at offset (61) ===

Returns the same values as [[en/VarAction2Industries#get-random-tile-bits-at-offset-61|industry var61]]. The offset it from the current tile and is signed.

To get the random bits from a tile using a offset relative to the north tile of the object, see the example below.

=== Land info of nearby tiles (62) ===

Returns the same values as [[en/VarAction2IndustryTiles#land-info-of-nearby-tiles-60|industry tile var60]]. The offset it from the current tile and is signed.

To get the land info from a tile using a offset relative to the north tile of the object, see the example below.

=== Animation counter of nearby tile (63) ===

Returns the var43 of another tile given by the signed offset.

To get the animation counter from a tile using a offset relative to the north tile of the object, see the example below.

=== Count of object, distance of closest instance (64) ===

Returns the same values as [[en/VarAction2Industries#count-of-industry-distance-of-closest-instance-67-68|industry var67]]. The distance is from the current tile.

== Examples ==

=== Getting the north tile random bits ===

The following code uses variable 40, 61 and 7B to read the random bits of the north tile of the object.

<pre>    0 * 0    02 0F xx 81
                       40      30 FF   // Get relative position of object tile as yx
               \2^     1A      20 77   // Negate the numbers in bits 0..3 and 4..7 ...
               \2+     1A      20 11   // ... (here we can optionally insert another (positive) offset, to get some other tile relative to the north tile)
               \2^     1A      20 88   // ... (we need to split the xor in two parts, so bits 0..3 do not influence bits 4..7)
               \2rst   7B 61   00 FF   // Get the random bits at the northern tile
                        ...</pre>