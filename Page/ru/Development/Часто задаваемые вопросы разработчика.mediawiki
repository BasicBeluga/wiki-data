[[Translation:en/Development/FAQ development]]
{{ru/Перевод|en/Development/FAQ development|0}}


Данная статья охватывает вопросы касательно разработки OpenTTD, например, использование SVN, загрузка исходных текстов, компиляция и т.д.

===Вклад в проект===
====Что я могу сделать, чтобы помочь проекту?====
:* Это зависит от ваших возможностей. Если вы хорошо программируете, вы можете помочь в создании новых штук или отлове ошибок. Кроме этого, помощь всегда приветствуется, например, [[ru/Archive/Community/Интернационализация|перевод]] на другие языки, рисование графики, написание этого руководства или создание звуков и музыки.

====На каком языке написан OpenTTD?====
:* OpenTTD написан на C++, the ANSI-C flavor used by MS Visual Studio, для определенности. Для правильного структурирования кода, прочитайте [[en/Development/Coding style|руководство по стилю программирования]].

====Я исправил баг или написал свое дополнение. Как я могу внести это в общий код?====
:*Сделайте diff-файл (также известный как патч, patch-файл) с вашими изменениями и добавьте его в [http://bugs.openttd.org Flyspray]. Пожалуйста, внимательно отслеживайте трекер патчей: у разработчиков могут быть вопросы и предложения. Если с вашим патчем все в порядке, он будет добавлен в дерево SVN.

====Я хочу стать официальным разработчиком OpenTTD. Как?====
:*Единственный способ стать таким разработчиком — это постоянно делать патчи, особенно багфиксы. Сверяйтесь со [http://bugs.openttd.org/index.php?string=&project=1&type=1 списком известных багов] и придерживайтесь указанного [[en/Development/Coding style|стиля программирования]]. Когда количество времени, которое вы проводите за кодингом OpenTTD, достигнет нашего уровня, велики шансы, что вы получите SVN-аккаунт и будете добавлены в список разработчиков.

===Исходный код===
====Что такое исходный код?====
:* [http://www.google.ru/search?q=си%2B%2B+учебник Не заморачивайтесь по этому поводу. А дальше можете вообще не читать]. [http://www.google.com/search?q=C%2B%2B+tutorial (англ.)]

====Как мне получить исходный код?====
:* Новейший релиз:  [http://www.openttd.org/download-stable  загрузить с сайта]
:* [[en/Archive/Community/Nightly build|Ночные сборки]]: [http://nightly.openttd.org/ загрузить со страницы ночных сборок]
:* Наиболее современный исходный код в SVN: svn://svn.openttd.org/trunk

====Что такое SVN?====
:* SVN, или [https://www.wikipedia.org/wiki/Subversion_%28software%29 Subversion], это система контроля версий, как CVS. Главным образом, в ней отслеживаются изменения в исходном коде игры. Версия SVN — это наиболее поздняя (самая передовая) версия исходного кода игры. 

====На каких операционных системах запускается Subversion?====
:* Все современные направления Unix, Win32, BeOS, OS/2, MacOS X. Subversion написана на ANSI-C и использует библиотеку APR (Apache Portable Runtime). Клиент SVN запустится везде, где запустится APR, а это большинство систем.

====Как мне получить SVN-версию?====
:* Прежде всего, вам необходимо загрузить программу-клиент (подходящую для своей операционной системы), которая подключится к серверу SVN и загрузит исходный код. Клиент можно скачать с домашней страницы SVN http://subversion.tigris.org/. Если вы используете Windows, вам может понравиться [http://tortoisesvn.tigris.org/ TortoiseSVN], она интегрируется с Проводником (Explorer), и вам не придется запускать все это из командной строки.<br><br>Затем нужно настроить программу-клиент на использование url репозитория OpenTTD: «''svn://svn.openttd.org/trunk''». Способ настройки зависит непосредственно от клиента, но он непременно описан в документации к программе.<br><br>Обладатели Linux (Unix) могут использовать команду «''svn co svn://svn.openttd.org/trunk/''».

====Subversion не портирована на мою ОС / Я не хочу устанавливать еще больше софта — есть ли какой-то еще способ получить исходный код?====
:* Можно посмотреть репозиторий по адресу http://svn.openttd.org/, можно также сверить копии, для того, чтобы получить полный исходный код. Кроме того, можно загружать новейшую «ночную» версию кода с http://nightly.openttd.org/.

====Теперь у меня есть исходный код, как я могу скомпилировать его?====
:* Компиляция OpenTTD в Windows, используя [[:Category:en/Development/Microsoft Visual C++|Microsoft Visual C++]]
:* Компиляция OpenTTD в Windows, используя [[en/Archive/Compilation and Ports/Compiling on Windows using MinGW|MinGW]]
:* Компиляция OpenTTD в [[ru/Archive/Compilation and Ports/Linux|Linux]]
:* Компиляция OpenTTD в [[en/Archive/Compilation and Ports/Compiling on Mac OS X|MacOS X]]
:* Компиляция OpenTTD в [[en/Archive/Compilation and Ports/Compiling on Solaris|Solaris]]

====I had a problem compiling! What should I do?====
:* This is not a compiling FAQ, try to ask your compiler vendor for help.
====Why did the developers decide to use Subversion?====
:* Subversion (SVN) was chosen over CVS because it is more advanced and easier to use. Also a lot of the developers don't like CVS any more now they know SVN.
:* SVN was "chosen" over distributed version control systems (DVCS) like Bazaar, Darcs, git, Mercurial and SVK because at the time the choice had to be made none of these existed. GNU arch was one of the few DVCSes that existed but was difficult to learn and understand. Later on a versioning API for NewGRFs was made out of the SVN revision so migrating to a DVCS would remove that capability breaking lots of existing NewGRFs.

====What is the point of a version control system? Why don't they just upload the source code to an FTP directory?====
:* Version control systems keep track of all the changes, when they were made and by who. If the developers later find out something they did was a mistake and broke something important they may have to rewrite it from scratch. With this they can just 'checkout' a revision from when it was working. It also allows the developers to add comments so they know what changes have been done.
====How do I make a diff file to share my changes with other coders?====
:* In Linux, use the command "svn diff > mypatch.diff" from the source directory to create a diff file.
:* In Windows, you can do the same from the command prompt, or, if you have Tortoise SVN, right button in the source directory and press Create Patch. It will ask for a location and filename.

====How to apply a patch?====
It's usually best to apply patches to the revision stated by the patch creator.

Different version control systems use different ways of expressing changes. Currently, there are SVN type patches and HG/GIT type patches.
To know what you have, open the patch file with a text editor, and look at the first few lines.

A SVN type patch starts like
<pre>
Index: src/gfx.cpp
===================================================================
--- src/gfx.cpp (revision 20024)
+++ src/gfx.cpp (working copy)
@@ -641,14 +641,13 @@
...
</pre>

and a HG/GIT type patch starts like
<pre>
diff --git a/src/gfx.cpp b/src/gfx.cpp
--- a/src/gfx.cpp
+++ b/src/gfx.cpp
@@ -641,14 +641,13 @@
...
</pre>
The crucial difference is the <code>a/</code> and <code>b/</code> additions at the lines starting with <code>---</code> and <code>+++</code>.


*'''Linux:''' Type the following line into a console (replace patch_name with the filename of the patch):
:<code>patch -p0 < patch_name</code> (for SVN type patches). However, in some cases you might need <code>patch -p1 < patch_name</code> (for HG/GIT type patches).
 
*'''Windows:''' Make sure you have [http://tortoisesvn.tigris.org TortoiseSVN] installed.
{{en/Warning| TortoiseSVN can only handle SVN type patches, it '''CANNOT''' handle HG/GIT type patches!!}}
:Right-click on the folder with the OpenTTD source code, open the TortoiseSVN submenu and select 'Apply Patch...'. Browse to the patch file and select it. Then, right click on the 'File Patches' window and click on 'Patch All'. After you're done, close the TortoiseMerge window.

[[Category:en/FAQs]]
[[Category:ru/Разработка]]