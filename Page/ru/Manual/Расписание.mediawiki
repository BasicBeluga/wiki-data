[[Translation:en/Manual/Timetable]]
{{ru/Перевод|en/Manual/Timetable|1}}

== Interface ==
Расписание было введено в [[en/Archive/OpenTTD/OpenTTD 0.6.0]] (со времени beta 2). Кнопка расписания находится в верхнем правом углу окна приказов транспорту. Все приказы для выбранного транспорта отображаются внутри окна расписания. Вы можете задать время, которое транспортное средство проведёт на станции (в днях или циклах - выбирается в "расширенных настройках") и, если вы хотите, время, которое транспортное средство проведёт в пути между маршрутными точками. Также в этом окне есть счётчик, показывающий укладывается ли транспортное средство в график или отстаёт.

[[File:en/Manual/Orders-timetable.png|center|frame|The timetable interface, accessible from the orders window.]]

{|
| '''Change Time'''
|Изменяет период времени, отведённый на прохождение маршрута.
|При нажатии появится окно для ввода нового числа.
|-
| '''Clear Time'''
|Убирает ограничения по времени.
|Позволяет тратить транспортному средству на маршрут сколько угодно времени.
|-
| '''Start date'''
|Изменение начальной даты для расписания.
|Появится окно, в котором можно будет задать начальную дату для расписания.
|-
| '''Autofill'''
|Автоматическое заполнение, основанное на следующей поездке.
|Заполняет данные по времени, которые могут быть впоследствии Вами изменены.
|-
| '''Non-destructive autofill'''
|Автоматическое заполнение незаданных параметров, основанное на следующей поездке.
|Полезно, когда необходимо изменить время в пути, например, после покупки более быстрого транспорта.
|-
| '''Reset late counter'''
|Сбросить счётчик на ноль.
|Декларируется, что траспортное средство приходит вовремя. Позволяет предотвратить попытки траснспорта нагнать отставание от графика.
|-
| '''Expected / Scheduled'''
|Переключение между панелями ожидаемого и запланированного графика движения.
|Отображение запланированного или ожидамого времени пребытия. Позволяет посмотреть опоздание/опережение транспорта.
|}
{{en/Warning|При включении автозаполнения (Autofill) все предыдущие данные будут перезаписаны. Будьте уверены, что Вы включили автозаполнение с сохранением предыдущих значений (Non-destructive autofill), которое может быть вызвано нажатием на кнопку автозаполнения с зажатой клавишей CTRL.}}
{{en/Note|Ожидаемое/запланированное время доступно только для заполненной временной таблицы, выполнение которой началось.}}

== Using timetables ==
Расписание - полезный инструмент, позволяющий избежать слипания транспорта в кучу. Распределение транспорта помогает поддержать равномерный поток грузов от станции к станции. Но такие явления, как поломки, пробки и прочие задержки приводят к тому, что транспорт на маршруте сливается в одну очередь.

Для демонстрации приведём простой пример, в котором представлены 3 автобуса, передвигающиеся по круговому маршруту между тремя городами. Для данных автобусов уже настроен общий маршрут посредством создания [[ru/Manual/Задания#obshchie-zadaniia|общего задания]]. Общее задание ''очень'' полезно, так как оно позволяет также сделать общим и расписание.

Для начала выберем один автобус и включим '''автозаполнение'''. Запустив автобусы на линию мы сможем наблюдать как заполняется расписание с каждым прошедшим отрезком пути автобуса. Время в расписании отображает затраченное автобусом время на каждый отрезок пути.
[[File:en/Manual/Timetable-autofill.png|center|frame|'Автозаполнение' будет измерять длительность движения транспорта, а также длительность остановок на станциях.]]

По мере продвижения вереницы, будем останавливать последний автобус в веренице каждый раз, как только он достигнет новой остановки. Таким образом получится равномерно распределить автобусы по всему маршруту. (Если у Вас иное количество автобусом и/или остановок, то Вам следует иначе распределять транспорт на маршруте. Если какой-либо транспорт после принудительной остановки сообщает, что он опаздывает, то Вам следует просто сбросить счётчик с помощью кнопки ''Reset late counter''). Как только автобус, для которого было включено ''автозаполнение'' выполнит полный круг по маршруту, расписание станет полностью заполненным. Остановим пока что автобус.
[[File:en/Manual/Timetable-autofilled.png|center|frame|Выполненное автозаполнение на нашем примере.]]

К несчастью, расчёт времени был выполнен в слишком благоприятных условиях: никаких поломок, пробок. Только автобус, стремительно проходящий на максимальной скорости весь свой путь. Также не было потрачено времени на загрузку и выгрузку груза на станциях, если они были новыми.

Это означает, что представленное расчитанное расписание слишком оптимистично. Его сделует откорректировать, изменив каждую строку в расписании. Для изменения значения необходимо выбрать интересующую строку, нажать '''Change Time''' и ввести новое значение.
[[File:en/Manual/Timetable-slack.png|center|frame|Корректировка расписания добавлением доплонительного времени.]]

Now, start the buses! You might want to do this while paused to make sure that they all move off at once, else your careful efforts to spread them out will be in vain.

Chances are, at least at first, you got the slack time wrong. Timetabling is still a bit of a learned craft, and far from a magical "automatically spread out vehicles with same orders" option ([http://bugs.openttd.org/task/1128 yet]). Let the buses run for a while (it needs to be long enough for a few breakdowns---a year should do), and see what their timetable windows say.
[[File:en/Manual/Timetable-runninglate.png|center|frame|Without enough slack, breakdowns and other delays will lead to accumulating lateness.]]
Oh dear. Although eight days isn't much, the differences in lateness mean that our buses aren't so nicely spread out any more. Add a little more slack to the timetable. '''Don't''' click the '''Reset Late Counter''' button---that will make the buses forget how far they are from their evenly-spaced objective, and make them instead try to match how they are currently bunched.
{{en/Note|If your buses are never late, and seem to be spending a lot of time waiting about at stations without transferring passengers, you probably added too much slack instead.}}

Your buses should now be pretty happily set up, and safe to be left to their own devices while you go work on some other route. Here's how our example looks after five years on fast-forward:
[[File:en/Manual/Timetable-fiveyears.png|center|frame|With enough slack, the buses are still nicely spread out after five years.]]

Despite repeated breakdowns, they are still evenly spaced around the loop. But what happens when a new bus type is released, and they [[ru/Manual/Замена транспорта|get upgraded]]?
[[File:en/Manual/Timetable-newbus.png|center|frame|New, faster vehicles will limit themselves to the unmodified timetable by waiting around at stations.]]
The good news is that the timetable will continue to work, and your stations will still see regular buses, rather than hours of waiting and then three at once. The bad news is that your new, faster buses will be sitting around waiting for time to pass so that they've synchronised with a timetable set up for old, slow buses. Because this isn't ''wrong'', as such (the buses still keep their spacing, deliver cargo, and make money), you won't get any warnings about it, either.

So that's the downside of timetables---''you need to update your timetables when you get new vehicles''. How much work this is will depend on how much you use multiple vehicles which are not already rate-controlled by some other mechanism, such as [[en/Manual/Orders#full-load|full load]], and how skilled you get at estimating required slack. I suggest you keep it to just buses, and possibly mail trucks.

The upside is that one of the big, big factors when calculating your [[en/Manual/Game Mechanics/Main Page#station-rating|station ratings]] is how long it has been since the last vehicle showed up. People do not like to be kept waiting for the bus, even if the bus is actually a road train of five large, fast buses which will whisk away all nine-hundred passengers without strain. After about ten years (and a little cheating to skip forward to new bus designs for the above), here are the station ratings for our trivial route:
[[File:en/Manual/Timetable-ratings.png|center|frame|Regular buses keeps ratings higher than an infrequent hairball, even if they can't keep up with production.]]
Three buses is nowhere near enough to service Overnfield city station, but we avoid a terrible rating (and subsequent local authority obstruction of anything we do nearby) by at least offering a frequent service.

=== Limitations ===
The way that timetables are currently implemented, there is no global frame of reference for a vehicle's timetable.  Each timetable is relative to the time that vehicle's timetable was last reset.  This makes some tasks, for which real world timetables might be used, difficult or impossible:
* Scheduling one vehicle to depart slightly after a connecting service arrives
* Scheduling a free platform at a station for an express service
* Scheduling trains through a busy junction such that few, if any, must wait
In fact, most scheduling tasks other than creating headway between the vehicles operating to a single set of shared orders are difficult.

=== Summary ===
* Timetabling is tuned to a particular route and vehicle speed. Use it for things like buses; trains are better served by being instructed to wait for a full load. Use shared orders.
* Use '''Autofill''' to get an initial measurement to base your timetable upon.
* Manually spread out your vehicles. Reset any late time once in position.
* Add and tune a little slack time to allow them to catch up after delays.
* Set all the vehicles going at once.
* Repeat the tuning when upgrading to faster vehicles.

[[Category:en/Archive/OpenTTD/0.6.0 Features]]
[[Category:ru/Manual/Учебник]]
[[Category:ru/Manual/Транспортные средства]]